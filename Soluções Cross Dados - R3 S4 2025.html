<html><head><meta http-equiv="Content-Type" content="text/html; charset=utf-8"/><title>Soluções Cross Dados - R3 S4 2025</title><style>
/* cspell:disable-file */
/* webkit printing magic: print all background colors */
html {
	-webkit-print-color-adjust: exact;
}
* {
	box-sizing: border-box;
	-webkit-print-color-adjust: exact;
}

html,
body {
	margin: 0;
	padding: 0;
}
@media only screen {
	body {
		margin: 2em auto;
		max-width: 900px;
		color: rgb(55, 53, 47);
	}
}

body {
	line-height: 1.5;
	white-space: pre-wrap;
}

a,
a.visited {
	color: inherit;
	text-decoration: underline;
}

.pdf-relative-link-path {
	font-size: 80%;
	color: #444;
}

h1,
h2,
h3 {
	letter-spacing: -0.01em;
	line-height: 1.2;
	font-weight: 600;
	margin-bottom: 0;
}

.page-title {
	font-size: 2.5rem;
	font-weight: 700;
	margin-top: 0;
	margin-bottom: 0.75em;
}

h1 {
	font-size: 1.875rem;
	margin-top: 1.875rem;
}

h2 {
	font-size: 1.5rem;
	margin-top: 1.5rem;
}

h3 {
	font-size: 1.25rem;
	margin-top: 1.25rem;
}

.source {
	border: 1px solid #ddd;
	border-radius: 3px;
	padding: 1.5em;
	word-break: break-all;
}

.callout {
	border-radius: 3px;
	padding: 1rem;
}

figure {
	margin: 1.25em 0;
	page-break-inside: avoid;
}

figcaption {
	opacity: 0.5;
	font-size: 85%;
	margin-top: 0.5em;
}

mark {
	background-color: transparent;
}

.indented {
	padding-left: 1.5em;
}

hr {
	background: transparent;
	display: block;
	width: 100%;
	height: 1px;
	visibility: visible;
	border: none;
	border-bottom: 1px solid rgba(55, 53, 47, 0.09);
}

img {
	max-width: 100%;
}

@media only print {
	img {
		max-height: 100vh;
		object-fit: contain;
	}
}

@page {
	margin: 1in;
}

.collection-content {
	font-size: 0.875rem;
}

.collection-content td {
	white-space: pre-wrap;
	word-break: break-word;
}

.column-list {
	display: flex;
	justify-content: space-between;
}

.column {
	padding: 0 1em;
}

.column:first-child {
	padding-left: 0;
}

.column:last-child {
	padding-right: 0;
}

.table_of_contents-item {
	display: block;
	font-size: 0.875rem;
	line-height: 1.3;
	padding: 0.125rem;
}

.table_of_contents-indent-1 {
	margin-left: 1.5rem;
}

.table_of_contents-indent-2 {
	margin-left: 3rem;
}

.table_of_contents-indent-3 {
	margin-left: 4.5rem;
}

.table_of_contents-link {
	text-decoration: none;
	opacity: 0.7;
	border-bottom: 1px solid rgba(55, 53, 47, 0.18);
}

table,
th,
td {
	border: 1px solid rgba(55, 53, 47, 0.09);
	border-collapse: collapse;
}

table {
	border-left: none;
	border-right: none;
}

th,
td {
	font-weight: normal;
	padding: 0.25em 0.5em;
	line-height: 1.5;
	min-height: 1.5em;
	text-align: left;
}

th {
	color: rgba(55, 53, 47, 0.6);
}

ol,
ul {
	margin: 0;
	margin-block-start: 0.6em;
	margin-block-end: 0.6em;
}

li > ol:first-child,
li > ul:first-child {
	margin-block-start: 0.6em;
}

ul > li {
	list-style: disc;
}

ul.to-do-list {
	padding-inline-start: 0;
}

ul.to-do-list > li {
	list-style: none;
}

.to-do-children-checked {
	text-decoration: line-through;
	opacity: 0.375;
}

ul.toggle > li {
	list-style: none;
}

ul {
	padding-inline-start: 1.7em;
}

ul > li {
	padding-left: 0.1em;
}

ol {
	padding-inline-start: 1.6em;
}

ol > li {
	padding-left: 0.2em;
}

.mono ol {
	padding-inline-start: 2em;
}

.mono ol > li {
	text-indent: -0.4em;
}

.toggle {
	padding-inline-start: 0em;
	list-style-type: none;
}

/* Indent toggle children */
.toggle > li > details {
	padding-left: 1.7em;
}

.toggle > li > details > summary {
	margin-left: -1.1em;
}

.selected-value {
	display: inline-block;
	padding: 0 0.5em;
	background: rgba(206, 205, 202, 0.5);
	border-radius: 3px;
	margin-right: 0.5em;
	margin-top: 0.3em;
	margin-bottom: 0.3em;
	white-space: nowrap;
}

.collection-title {
	display: inline-block;
	margin-right: 1em;
}

.page-description {
	margin-bottom: 2em;
}

.simple-table {
	margin-top: 1em;
	font-size: 0.875rem;
	empty-cells: show;
}
.simple-table td {
	height: 29px;
	min-width: 120px;
}

.simple-table th {
	height: 29px;
	min-width: 120px;
}

.simple-table-header-color {
	background: rgb(247, 246, 243);
	color: black;
}
.simple-table-header {
	font-weight: 500;
}

time {
	opacity: 0.5;
}

.icon {
	display: inline-block;
	max-width: 1.2em;
	max-height: 1.2em;
	text-decoration: none;
	vertical-align: text-bottom;
	margin-right: 0.5em;
}

img.icon {
	border-radius: 3px;
}

.user-icon {
	width: 1.5em;
	height: 1.5em;
	border-radius: 100%;
	margin-right: 0.5rem;
}

.user-icon-inner {
	font-size: 0.8em;
}

.text-icon {
	border: 1px solid #000;
	text-align: center;
}

.page-cover-image {
	display: block;
	object-fit: cover;
	width: 100%;
	max-height: 30vh;
}

.page-header-icon {
	font-size: 3rem;
	margin-bottom: 1rem;
}

.page-header-icon-with-cover {
	margin-top: -0.72em;
	margin-left: 0.07em;
}

.page-header-icon img {
	border-radius: 3px;
}

.link-to-page {
	margin: 1em 0;
	padding: 0;
	border: none;
	font-weight: 500;
}

p > .user {
	opacity: 0.5;
}

td > .user,
td > time {
	white-space: nowrap;
}

input[type="checkbox"] {
	transform: scale(1.5);
	margin-right: 0.6em;
	vertical-align: middle;
}

p {
	margin-top: 0.5em;
	margin-bottom: 0.5em;
}

.image {
	border: none;
	margin: 1.5em 0;
	padding: 0;
	border-radius: 0;
	text-align: center;
}

.code,
code {
	background: rgba(135, 131, 120, 0.15);
	border-radius: 3px;
	padding: 0.2em 0.4em;
	border-radius: 3px;
	font-size: 85%;
	tab-size: 2;
}

code {
	color: #eb5757;
}

.code {
	padding: 1.5em 1em;
}

.code-wrap {
	white-space: pre-wrap;
	word-break: break-all;
}

.code > code {
	background: none;
	padding: 0;
	font-size: 100%;
	color: inherit;
}

blockquote {
	font-size: 1em;
	margin: 1em 0;
	padding-left: 1em;
	border-left: 3px solid rgb(55, 53, 47);
}

blockquote.quote-large {
	font-size: 1.25em;
}

.bookmark {
	text-decoration: none;
	max-height: 8em;
	padding: 0;
	display: flex;
	width: 100%;
	align-items: stretch;
}

.bookmark-title {
	font-size: 0.85em;
	overflow: hidden;
	text-overflow: ellipsis;
	height: 1.75em;
	white-space: nowrap;
}

.bookmark-text {
	display: flex;
	flex-direction: column;
}

.bookmark-info {
	flex: 4 1 180px;
	padding: 12px 14px 14px;
	display: flex;
	flex-direction: column;
	justify-content: space-between;
}

.bookmark-image {
	width: 33%;
	flex: 1 1 180px;
	display: block;
	position: relative;
	object-fit: cover;
	border-radius: 1px;
}

.bookmark-description {
	color: rgba(55, 53, 47, 0.6);
	font-size: 0.75em;
	overflow: hidden;
	max-height: 4.5em;
	word-break: break-word;
}

.bookmark-href {
	font-size: 0.75em;
	margin-top: 0.25em;
}

.sans { font-family: ui-sans-serif, -apple-system, BlinkMacSystemFont, "Segoe UI Variable Display", "Segoe UI", Helvetica, "Apple Color Emoji", Arial, sans-serif, "Segoe UI Emoji", "Segoe UI Symbol"; }
.code { font-family: "SFMono-Regular", Menlo, Consolas, "PT Mono", "Liberation Mono", Courier, monospace; }
.serif { font-family: Lyon-Text, Georgia, ui-serif, serif; }
.mono { font-family: iawriter-mono, Nitti, Menlo, Courier, monospace; }
.pdf .sans { font-family: Inter, ui-sans-serif, -apple-system, BlinkMacSystemFont, "Segoe UI Variable Display", "Segoe UI", Helvetica, "Apple Color Emoji", Arial, sans-serif, "Segoe UI Emoji", "Segoe UI Symbol", 'Twemoji', 'Noto Color Emoji', 'Noto Sans CJK JP'; }
.pdf:lang(zh-CN) .sans { font-family: Inter, ui-sans-serif, -apple-system, BlinkMacSystemFont, "Segoe UI Variable Display", "Segoe UI", Helvetica, "Apple Color Emoji", Arial, sans-serif, "Segoe UI Emoji", "Segoe UI Symbol", 'Twemoji', 'Noto Color Emoji', 'Noto Sans CJK SC'; }
.pdf:lang(zh-TW) .sans { font-family: Inter, ui-sans-serif, -apple-system, BlinkMacSystemFont, "Segoe UI Variable Display", "Segoe UI", Helvetica, "Apple Color Emoji", Arial, sans-serif, "Segoe UI Emoji", "Segoe UI Symbol", 'Twemoji', 'Noto Color Emoji', 'Noto Sans CJK TC'; }
.pdf:lang(ko-KR) .sans { font-family: Inter, ui-sans-serif, -apple-system, BlinkMacSystemFont, "Segoe UI Variable Display", "Segoe UI", Helvetica, "Apple Color Emoji", Arial, sans-serif, "Segoe UI Emoji", "Segoe UI Symbol", 'Twemoji', 'Noto Color Emoji', 'Noto Sans CJK KR'; }
.pdf .code { font-family: Source Code Pro, "SFMono-Regular", Menlo, Consolas, "PT Mono", "Liberation Mono", Courier, monospace, 'Twemoji', 'Noto Color Emoji', 'Noto Sans Mono CJK JP'; }
.pdf:lang(zh-CN) .code { font-family: Source Code Pro, "SFMono-Regular", Menlo, Consolas, "PT Mono", "Liberation Mono", Courier, monospace, 'Twemoji', 'Noto Color Emoji', 'Noto Sans Mono CJK SC'; }
.pdf:lang(zh-TW) .code { font-family: Source Code Pro, "SFMono-Regular", Menlo, Consolas, "PT Mono", "Liberation Mono", Courier, monospace, 'Twemoji', 'Noto Color Emoji', 'Noto Sans Mono CJK TC'; }
.pdf:lang(ko-KR) .code { font-family: Source Code Pro, "SFMono-Regular", Menlo, Consolas, "PT Mono", "Liberation Mono", Courier, monospace, 'Twemoji', 'Noto Color Emoji', 'Noto Sans Mono CJK KR'; }
.pdf .serif { font-family: PT Serif, Lyon-Text, Georgia, ui-serif, serif, 'Twemoji', 'Noto Color Emoji', 'Noto Serif CJK JP'; }
.pdf:lang(zh-CN) .serif { font-family: PT Serif, Lyon-Text, Georgia, ui-serif, serif, 'Twemoji', 'Noto Color Emoji', 'Noto Serif CJK SC'; }
.pdf:lang(zh-TW) .serif { font-family: PT Serif, Lyon-Text, Georgia, ui-serif, serif, 'Twemoji', 'Noto Color Emoji', 'Noto Serif CJK TC'; }
.pdf:lang(ko-KR) .serif { font-family: PT Serif, Lyon-Text, Georgia, ui-serif, serif, 'Twemoji', 'Noto Color Emoji', 'Noto Serif CJK KR'; }
.pdf .mono { font-family: PT Mono, iawriter-mono, Nitti, Menlo, Courier, monospace, 'Twemoji', 'Noto Color Emoji', 'Noto Sans Mono CJK JP'; }
.pdf:lang(zh-CN) .mono { font-family: PT Mono, iawriter-mono, Nitti, Menlo, Courier, monospace, 'Twemoji', 'Noto Color Emoji', 'Noto Sans Mono CJK SC'; }
.pdf:lang(zh-TW) .mono { font-family: PT Mono, iawriter-mono, Nitti, Menlo, Courier, monospace, 'Twemoji', 'Noto Color Emoji', 'Noto Sans Mono CJK TC'; }
.pdf:lang(ko-KR) .mono { font-family: PT Mono, iawriter-mono, Nitti, Menlo, Courier, monospace, 'Twemoji', 'Noto Color Emoji', 'Noto Sans Mono CJK KR'; }
.highlight-default {
	color: rgba(50, 48, 44, 1);
}
.highlight-gray {
	color: rgba(115, 114, 110, 1);
	fill: rgba(115, 114, 110, 1);
}
.highlight-brown {
	color: rgba(159, 107, 83, 1);
	fill: rgba(159, 107, 83, 1);
}
.highlight-orange {
	color: rgba(217, 115, 13, 1);
	fill: rgba(217, 115, 13, 1);
}
.highlight-yellow {
	color: rgba(203, 145, 47, 1);
	fill: rgba(203, 145, 47, 1);
}
.highlight-teal {
	color: rgba(68, 131, 97, 1);
	fill: rgba(68, 131, 97, 1);
}
.highlight-blue {
	color: rgba(51, 126, 169, 1);
	fill: rgba(51, 126, 169, 1);
}
.highlight-purple {
	color: rgba(144, 101, 176, 1);
	fill: rgba(144, 101, 176, 1);
}
.highlight-pink {
	color: rgba(193, 76, 138, 1);
	fill: rgba(193, 76, 138, 1);
}
.highlight-red {
	color: rgba(205, 60, 58, 1);
	fill: rgba(205, 60, 58, 1);
}
.highlight-default_background {
	color: rgba(50, 48, 44, 1);
}
.highlight-gray_background {
	background: rgba(248, 248, 247, 1);
}
.highlight-brown_background {
	background: rgba(244, 238, 238, 1);
}
.highlight-orange_background {
	background: rgba(251, 236, 221, 1);
}
.highlight-yellow_background {
	background: rgba(251, 243, 219, 1);
}
.highlight-teal_background {
	background: rgba(237, 243, 236, 1);
}
.highlight-blue_background {
	background: rgba(231, 243, 248, 1);
}
.highlight-purple_background {
	background: rgba(248, 243, 252, 1);
}
.highlight-pink_background {
	background: rgba(252, 241, 246, 1);
}
.highlight-red_background {
	background: rgba(253, 235, 236, 1);
}
.block-color-default {
	color: inherit;
	fill: inherit;
}
.block-color-gray {
	color: rgba(115, 114, 110, 1);
	fill: rgba(115, 114, 110, 1);
}
.block-color-brown {
	color: rgba(159, 107, 83, 1);
	fill: rgba(159, 107, 83, 1);
}
.block-color-orange {
	color: rgba(217, 115, 13, 1);
	fill: rgba(217, 115, 13, 1);
}
.block-color-yellow {
	color: rgba(203, 145, 47, 1);
	fill: rgba(203, 145, 47, 1);
}
.block-color-teal {
	color: rgba(68, 131, 97, 1);
	fill: rgba(68, 131, 97, 1);
}
.block-color-blue {
	color: rgba(51, 126, 169, 1);
	fill: rgba(51, 126, 169, 1);
}
.block-color-purple {
	color: rgba(144, 101, 176, 1);
	fill: rgba(144, 101, 176, 1);
}
.block-color-pink {
	color: rgba(193, 76, 138, 1);
	fill: rgba(193, 76, 138, 1);
}
.block-color-red {
	color: rgba(205, 60, 58, 1);
	fill: rgba(205, 60, 58, 1);
}
.block-color-default_background {
	color: inherit;
	fill: inherit;
}
.block-color-gray_background {
	background: rgba(248, 248, 247, 1);
}
.block-color-brown_background {
	background: rgba(244, 238, 238, 1);
}
.block-color-orange_background {
	background: rgba(251, 236, 221, 1);
}
.block-color-yellow_background {
	background: rgba(251, 243, 219, 1);
}
.block-color-teal_background {
	background: rgba(237, 243, 236, 1);
}
.block-color-blue_background {
	background: rgba(231, 243, 248, 1);
}
.block-color-purple_background {
	background: rgba(248, 243, 252, 1);
}
.block-color-pink_background {
	background: rgba(252, 241, 246, 1);
}
.block-color-red_background {
	background: rgba(253, 235, 236, 1);
}
.select-value-color-default { background-color: rgba(42, 28, 0, 0.07); }
.select-value-color-gray { background-color: rgba(28, 19, 1, 0.11); }
.select-value-color-brown { background-color: rgba(127, 51, 0, 0.156); }
.select-value-color-orange { background-color: rgba(196, 88, 0, 0.203); }
.select-value-color-yellow { background-color: rgba(209, 156, 0, 0.282); }
.select-value-color-green { background-color: rgba(0, 96, 38, 0.156); }
.select-value-color-blue { background-color: rgba(0, 99, 174, 0.172); }
.select-value-color-purple { background-color: rgba(92, 0, 163, 0.141); }
.select-value-color-pink { background-color: rgba(183, 0, 78, 0.152); }
.select-value-color-red { background-color: rgba(206, 24, 0, 0.164); }

.checkbox {
	display: inline-flex;
	vertical-align: text-bottom;
	width: 16;
	height: 16;
	background-size: 16px;
	margin-left: 2px;
	margin-right: 5px;
}

.checkbox-on {
	background-image: url("data:image/svg+xml;charset=UTF-8,%3Csvg%20width%3D%2216%22%20height%3D%2216%22%20viewBox%3D%220%200%2016%2016%22%20fill%3D%22none%22%20xmlns%3D%22http%3A%2F%2Fwww.w3.org%2F2000%2Fsvg%22%3E%0A%3Crect%20width%3D%2216%22%20height%3D%2216%22%20fill%3D%22%2358A9D7%22%2F%3E%0A%3Cpath%20d%3D%22M6.71429%2012.2852L14%204.9995L12.7143%203.71436L6.71429%209.71378L3.28571%206.2831L2%207.57092L6.71429%2012.2852Z%22%20fill%3D%22white%22%2F%3E%0A%3C%2Fsvg%3E");
}

.checkbox-off {
	background-image: url("data:image/svg+xml;charset=UTF-8,%3Csvg%20width%3D%2216%22%20height%3D%2216%22%20viewBox%3D%220%200%2016%2016%22%20fill%3D%22none%22%20xmlns%3D%22http%3A%2F%2Fwww.w3.org%2F2000%2Fsvg%22%3E%0A%3Crect%20x%3D%220.75%22%20y%3D%220.75%22%20width%3D%2214.5%22%20height%3D%2214.5%22%20fill%3D%22white%22%20stroke%3D%22%2336352F%22%20stroke-width%3D%221.5%22%2F%3E%0A%3C%2Fsvg%3E");
}
	
</style></head><body><article id="22968338-221a-807c-89af-c414e65165d8" class="page sans"><header><h1 class="page-title">Soluções Cross Dados - R3 S4 2025</h1><p class="page-description"></p></header><div class="page-body"><h1 id="22968338-221a-819e-8d3d-d0238f9e38ff" class=""><strong>Seção: Monitora Ops - COPF - AA e AB</strong></h1><h2 id="26268338-221a-80c6-a62d-d3b53a7c0bfc" class=""><strong>História: [Delivery][Frontend] Desenvolvimento dos big numbers (cards) da tela de Home Page (dashboard) (Frontend)</strong></h2><h3 id="26568338-221a-80d2-884b-e6fa9d519480" class=""><strong>Visão de Produto</strong></h3><p id="26568338-221a-8095-85ef-e42f8ab3b7a6" class="">Acreditamos que, ao <strong>exibir Big Numbers (indicadores resumidos e de alto impacto visual) na tela inicial do COPF (dashboard)</strong>, página visível apenas para a<strong>nalistas operacionais e gestores (não estará visível para fornecedores)</strong>, resultará em <strong>uma visão imediata da situação geral das ocorrências e permitirá priorizações rápidas e orientadas por dados</strong>.</p><p id="26568338-221a-8055-82c1-f1739554c93d" class="">Saberemos que isso é verdade quando <strong>os usuários conseguirem, com apenas uma olhada na dashboard, entender a gravidade do cenário atual, como número de ocorrências críticas, agências VIPs afetadas e equipamentos inoperantes.</strong></p><hr id="26568338-221a-80fa-bf45-ff1d7fcb94e2"/><h3 id="26568338-221a-804b-8aa8-c534920b52c7" class=""><strong>Descrição</strong></h3><p id="26568338-221a-808a-b723-e3e7ba1c8802" class="">Como time de frontend da COPF, queremos <strong>desenvolver e disponibilizar na tela inicial do produto os Big Numbers</strong>, com destaque visual e navegabilidade, para que <strong>os times operacionais possam ter uma leitura rápida e objetiva dos principais KPIs da ferramenta</strong>.</p><p id="26568338-221a-80c8-a35a-d853839a01d5" class="">Indicadores exibidos:</p><ol type="1" id="26568338-221a-808a-b8da-ccf08ba446ad" class="numbered-list" start="1"><li><strong>Ocorrências pendentes</strong></li></ol><ol type="1" id="26568338-221a-8023-929c-e9938d9b2df9" class="numbered-list" start="2"><li><strong>Ocorrências críticas</strong></li></ol><ol type="1" id="26568338-221a-8074-8e51-cf8ef5eb4ae9" class="numbered-list" start="3"><li><strong>Agências afetadas</strong> (com destaque para VIPs)</li></ol><ol type="1" id="26568338-221a-80b6-9226-e5aed3deae55" class="numbered-list" start="4"><li><strong>Equipamentos inoperantes</strong></li></ol><p id="26568338-221a-806b-adaf-c807da9932dd" class="">Cada indicador contará com:</p><ul id="26568338-221a-8016-9426-e354dfbee9e4" class="bulleted-list"><li style="list-style-type:disc">Valor absoluto atualizado a cada vez que o usuário clicar no botão de atualizar.</li></ul><ul id="26568338-221a-8045-a401-fac4710b4dcd" class="bulleted-list"><li style="list-style-type:disc">Acesso a &quot;Detalhes&quot; com redirecionamento para as telas de listagem e filtros aplicados.</li></ul><hr id="26568338-221a-8025-aee1-c68cbab80f7b"/><h3 id="26568338-221a-80b1-ba55-fb1545ad05a7" class=""><strong>Visão do Usuário</strong></h3><p id="26568338-221a-809e-a601-f2579bc3cdf3" class="">Usuários operacionais e gestores precisam visualizar os principais indicadores de status logo ao acessar a ferramenta, para tomar decisões rápidas, priorizar ações e distribuir esforços da equipe com base na gravidade do cenário atual.</p><hr id="26568338-221a-8044-8849-e4e7191481d8"/><h3 id="26568338-221a-8001-a6c6-cf6e814bdcbc" class=""><strong>Contexto / Narrativa de Negócio:</strong></h3><p id="26568338-221a-80fe-91f0-cf3f0168b84f" class="">Antes da exibição desses indicadores, os times precisavam abrir várias telas ou consultar painéis externos para entender a situação da rede. Isso dificultava reações rápidas em contextos críticos. Os Big Numbers oferecem uma leitura executiva e operacional da situação em tempo real.</p><hr id="26568338-221a-8059-b04f-cd3f6b366008"/><h3 id="26568338-221a-808e-930c-df90dbf83e63" class=""><strong>Premissas</strong></h3><ol type="1" id="26568338-221a-804a-acd0-ed3ff1dbadbb" class="numbered-list" start="1"><li>Os indicadores são calculados com base em views ou queries já existentes.</li></ol><ol type="1" id="26568338-221a-800a-be69-eede0245c233" class="numbered-list" start="2"><li>Os dados utilizados são os mesmos da tela de ocorrências, garantindo consistência.</li></ol><ol type="1" id="26568338-221a-80df-a9ff-e624cbcc6920" class="numbered-list" start="3"><li>A navegação para &quot;Detalhes&quot; aplica filtros correspondentes ao indicador clicado.</li></ol><hr id="26568338-221a-8091-a6db-c98e75555e67"/><h3 id="26568338-221a-8079-b8dd-d8db810f46e5" class=""><strong>Regras de Negócio</strong></h3><ol type="1" id="26568338-221a-80a6-bcfe-c09859d6c0fd" class="numbered-list" start="1"><li><strong>Ocorrências pendentes</strong>: Total de ocorrências abertas.<ol type="a" id="26568338-221a-808c-93b9-f382ad6aab2b" class="numbered-list" start="1"><li>Status da ocorrência: A iniciar + Em Andamento + Com impedimentos</li></ol></li></ol><ol type="1" id="26568338-221a-80fb-841c-ea6dc928c798" class="numbered-list" start="2"><li><strong>Ocorrências críticas</strong>: Subconjunto das pendentes, marcadas como críticas.<ol type="a" id="26568338-221a-809e-b01b-c46c2324799d" class="numbered-list" start="1"><li>Status da ocorrência: A iniciar + Em Andamento + Com impedimentos</li></ol><ol type="a" id="26568338-221a-8072-b49b-cb02b4976ec6" class="numbered-list" start="2"><li>Criticidade: Críticas</li></ol></li></ol><ol type="1" id="26568338-221a-8085-adc4-ff52f4994727" class="numbered-list" start="3"><li><strong>Agências afetadas</strong>: Contagem de agências com ao menos uma ocorrência pendente; VIPs devem aparecer em destaque.</li></ol><ol type="1" id="26568338-221a-807c-8936-f8414464448c" class="numbered-list" start="4"><li><strong>Equipamentos inoperantes</strong>: Contagem de equipamentos com status de indisponibilidade operacional.<ol type="a" id="26568338-221a-80f9-bd44-fed32424d42d" class="numbered-list" start="1"><li>Status da ocorrência: A iniciar + Em Andamento + Com impedimentos</li></ol><ol type="a" id="26568338-221a-807f-b6bb-e6cd43b20815" class="numbered-list" start="2"><li>Status do equipamento: Inoperantes</li></ol></li></ol><hr id="26568338-221a-80f1-9b84-c760d84eca3f"/><h3 id="26568338-221a-808d-81d9-eb234fe7b0cc" class=""><strong>Informações Técnicas</strong></h3><ul id="26568338-221a-8082-a3e4-c823afdd9065" class="bulleted-list"><li style="list-style-type:disc">Os valores devem ser renderizados com destaque visual (ex: fonte grande, ícones se aplicável).</li></ul><ul id="26568338-221a-801b-901d-fca8368996b6" class="bulleted-list"><li style="list-style-type:disc">O componente de <strong>“Detalhes”</strong> deve permitir redirecionamento com filtros aplicados.</li></ul><ul id="26568338-221a-807f-b06f-d1fe4d66477f" class="bulleted-list"><li style="list-style-type:disc">Os dados devem ser atualizados de forma reativa com base no backend atual (streaming ou polling).</li></ul><hr id="26568338-221a-80a4-817a-f38107f14e8f"/><h3 id="26568338-221a-8024-bd57-d1ab58b6ca61" class=""><strong>Tarefas</strong></h3><ol type="1" id="26568338-221a-8088-ab8f-d7ce08bb5dca" class="numbered-list" start="1"><li>Mapear os dados necessários para cada indicador.</li></ol><ol type="1" id="26568338-221a-80f0-b8ee-cda8a1a2702e" class="numbered-list" start="2"><li>Construir os componentes de Big Numbers no front-end.</li></ol><ol type="1" id="26568338-221a-80a1-bab3-ddbb351f9501" class="numbered-list" start="3"><li>Criar a navegação para as páginas de detalhe com os filtros aplicados.</li></ol><ol type="1" id="26568338-221a-802c-905d-f3acf168fac1" class="numbered-list" start="4"><li>Realizar testes de exibição e performance.</li></ol><hr id="26568338-221a-80a4-8172-c0dab3ff2a17"/><h3 id="26568338-221a-80e2-9381-d85d06650f26" class=""><strong>Cenários para Teste e Homologação</strong></h3><ol type="1" id="26568338-221a-8028-bb30-d774debbf59d" class="numbered-list" start="1"><li>A home carrega corretamente os quatro indicadores com dados atualizados.</li></ol><ol type="1" id="26568338-221a-803b-b87c-f27c06e39dbb" class="numbered-list" start="2"><li>Cada botão &quot;Detalhes&quot; leva à tela correta com os filtros esperados.</li></ol><ol type="1" id="26568338-221a-8093-9259-df8dddef64d0" class="numbered-list" start="3"><li>Layout responsivo e legível em diferentes resoluções.</li></ol><ol type="1" id="26568338-221a-8096-aa3f-e6c0da776e9e" class="numbered-list" start="4"><li>Os dados exibidos batem com as queries de base.</li></ol><hr id="26568338-221a-802c-a697-d098997c5173"/><h3 id="26568338-221a-80d7-9bbb-e7e550b886f7" class=""><strong>Impacto Esperado</strong></h3><ul id="26568338-221a-8022-af0d-d5d02840d9ac" class="bulleted-list"><li style="list-style-type:disc">Aumento da velocidade de análise e reação dos times operacionais.</li></ul><ul id="26568338-221a-8005-8010-f07f622ba7da" class="bulleted-list"><li style="list-style-type:disc">Maior clareza do status geral da operação logo na entrada da ferramenta.</li></ul><ul id="26568338-221a-8042-8018-c5ec56e0da4e" class="bulleted-list"><li style="list-style-type:disc">Redução de cliques e tempo para identificar prioridades.</li></ul><hr id="26568338-221a-80a9-8725-efad7bbb363a"/><h3 id="26568338-221a-8068-81bf-c7af25a3c67d" class=""><strong>Conclusão</strong></h3><ul id="26568338-221a-809c-b2bb-cd9287115fd6" class="bulleted-list"><li style="list-style-type:disc"><strong>Início:</strong><ul id="26568338-221a-8084-9c2b-ff7714810578" class="bulleted-list"><li style="list-style-type:circle"><strong>Desejado:</strong> R3 S3 2025</li></ul><ul id="26568338-221a-8093-b0fa-cba4b091b044" class="bulleted-list"><li style="list-style-type:circle"><strong>Real:</strong> R3 S3 2025</li></ul></li></ul><ul id="26568338-221a-807e-9ea1-ed97630c37f2" class="bulleted-list"><li style="list-style-type:disc"><strong>Fim:</strong><ul id="26568338-221a-8062-845b-fc906a4f6e04" class="bulleted-list"><li style="list-style-type:circle"><strong>Desejado:</strong> R3 S3 2025</li></ul><ul id="26568338-221a-8008-8bea-dc97a50c2b68" class="bulleted-list"><li style="list-style-type:circle"><strong>Real:</strong> <em>(preencher ao fim da sprint)</em></li></ul></li></ul><ul id="26568338-221a-802b-9567-c67038573db5" class="bulleted-list"><li style="list-style-type:disc"><strong>Resultado:</strong> <em>(preencher ao fim da sprint)</em></li></ul><h2 id="26568338-221a-8058-9ee4-d00bea4261e8" class=""><strong>História: [Delivery][Backend] Desenvolvimento da Lambda de agregação para Big Numbers da Home Page (dashboard)</strong></h2><h3 id="26568338-221a-80a1-92d9-d5c7e9d686fa" class=""><strong>Visão de Produto</strong></h3><p id="26568338-221a-803e-9b0d-e870c0e87445" class="">Acreditamos que, ao <strong>desenvolver uma Lambda responsável por consolidar e entregar os indicadores que compõem os Big Numbers da Home (Dashboard) do COPF</strong>, será possível <strong>garantir atualização eficiente, performance e consistência dos dados que sustentam a experiência de leitura rápida e tomada de decisão por parte dos usuários</strong>.</p><p id="26568338-221a-802b-a35d-e9738b12cf53" class="">Saberemos que isso é verdade quando <strong>os Big Numbers forem exibidos com informações atualizadas, consistentes com os dados operacionais, e com tempo de resposta adequado para uso no dia a dia operacional</strong>.</p><hr id="26568338-221a-8031-92e9-c387a2ad9a2d"/><h3 id="26568338-221a-802e-919c-ec921bbbbe08" class=""><strong>Descrição</strong></h3><p id="26568338-221a-8027-9a88-c64c9702d2de" class="">Como time de engenharia de dados/backend da COPF, queremos <strong>implementar uma função Lambda em AWS que agregue e exponha os dados necessários para os indicadores principais da Home (Big Numbers)</strong>, para que o frontend possa consumi-los de forma simples e performática.</p><p id="26568338-221a-8052-9dbf-dad1d2499321" class="">A função deve:</p><ul id="26568338-221a-8053-94b9-dc0ec67be6c9" class="bulleted-list"><li style="list-style-type:disc">Ser acionada sob demanda (ex: clique no botão de atualizar ou ao carregar a página).</li></ul><ul id="26568338-221a-80e1-ac97-d30812ac1c49" class="bulleted-list"><li style="list-style-type:disc">Realizar as agregações conforme as regras de negócio.</li></ul><ul id="26568338-221a-8098-bc7f-c1372f30eb13" class="bulleted-list"><li style="list-style-type:disc">Retornar um JSON contendo os valores dos quatro indicadores.</li></ul><ul id="26568338-221a-804c-adc9-f4e0c5931d1b" class="bulleted-list"><li style="list-style-type:disc">Ser acessada via API Gateway com autenticação apropriada.</li></ul><hr id="26568338-221a-808b-b5a0-c9ef7661d347"/><h3 id="26568338-221a-8009-959a-ebe3a7052de3" class=""><strong>Visão do Usuário</strong></h3><p id="26568338-221a-800a-9079-ce002d959cdc" class="">Embora invisível para o usuário final, essa Lambda viabiliza que os dados dos Big Numbers estejam sempre consistentes com a base atual, com performance adequada e baixo custo de infraestrutura.</p><hr id="26568338-221a-801d-ae5c-e6bd1a2d9156"/><h3 id="26568338-221a-80ff-9ce3-e49ecde4f232" class=""><strong>Contexto / Narrativa de Negócio</strong></h3><p id="26568338-221a-80c2-8281-d42f56f68a9d" class="">A Lambda centraliza o processo de agregação com regras de negócio bem definidas, garantindo dados confiáveis e encapsulados para o dashboard.</p><hr id="26568338-221a-809b-b867-dc4a93fa4208"/><h3 id="26568338-221a-8050-b1b6-d791236b4dec" class=""><strong>Premissas</strong></h3><ol type="1" id="26568338-221a-808d-a2d8-c90f3c4865c3" class="numbered-list" start="1"><li>As tabelas e views utilizadas já estão disponíveis no ambiente da VO3 - COPF.</li></ol><ol type="1" id="26568338-221a-8038-98ed-ed961401fdc6" class="numbered-list" start="2"><li>A Lambda será protegida por autenticação e autorizada apenas ao front da COPF. Além de validar se quem está chamando, é da operação, pois somente a operação deve conseguir obter esses valores.</li></ol><ol type="1" id="26568338-221a-80ee-a510-cf2544e119a1" class="numbered-list" start="3"><li>O deploy será realizado via pipeline automatizado.</li></ol><hr id="26568338-221a-80e3-9870-d709b774169f"/><h3 id="26568338-221a-8004-9d72-ccc87d1c614f" class=""><strong>Regras de Negócio (para cálculo dos indicadores)</strong></h3><ol type="1" id="26568338-221a-8021-b086-dcb2cf419422" class="numbered-list" start="1"><li><strong>Ocorrências pendentes</strong>: Contar todas com status:<ul id="26568338-221a-80fe-a100-c678343c0a82" class="bulleted-list"><li style="list-style-type:disc"><code>A iniciar</code>, <code>Em Andamento</code>, <code>Com impedimentos</code></li></ul></li></ol><ol type="1" id="26568338-221a-8080-ba86-cd9882d037c9" class="numbered-list" start="2"><li><strong>Ocorrências críticas</strong>: Subconjunto das pendentes com <code>criticidade = Crítica</code>.</li></ol><ol type="1" id="26568338-221a-8082-88ce-c2b44d92118d" class="numbered-list" start="3"><li><strong>Agências afetadas</strong>: Contagem de agências com ao menos uma ocorrência pendente. <ol type="a" id="26768338-221a-80cf-b598-ff8e5b5e400e" class="numbered-list" start="1"><li>Indicar também quantas são VIPs.</li></ol></li></ol><ol type="1" id="26568338-221a-80db-affe-de843bd19a70" class="numbered-list" start="4"><li><strong>Equipamentos inoperantes</strong>:<ul id="26568338-221a-8010-a640-c07c1f0f1daf" class="bulleted-list"><li style="list-style-type:disc">Ocorrências com status <code>A iniciar</code>, <code>Em Andamento</code>, <code>Com impedimentos</code></li></ul><ul id="26568338-221a-806a-b04e-d5074ac37f5d" class="bulleted-list"><li style="list-style-type:disc">E equipamentos com status = <code>Inoperante</code></li></ul></li></ol><hr id="26568338-221a-80e3-94c1-c7b7a75729ba"/><h3 id="26568338-221a-8062-9c2a-cd2e5c78eda6" class=""><strong>Informações Técnicas</strong></h3><ul id="26568338-221a-8044-88fd-e88f031db457" class="bulleted-list"><li style="list-style-type:disc">Linguagem sugerida: Python 3.11</li></ul><ul id="26568338-221a-8081-88bf-df8e280af6ba" class="bulleted-list"><li style="list-style-type:disc">Infra: AWS Lambda + API Gateway</li></ul><ul id="26568338-221a-8032-b99a-fd10fa74bc69" class="bulleted-list"><li style="list-style-type:disc">Output (JSON) - <mark class="highlight-orange_background">Sugestão IA</mark>:</li></ul><script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/prism.min.js" integrity="sha512-7Z9J3l1+EYfeaPKcGXu3MS/7T+w19WtKQY/n+xzmw4hZhJ9tyYmcUS+4QqAlzhicE5LAfMQSF3iFTK9bQdTxXg==" crossorigin="anonymous" referrerPolicy="no-referrer"></script><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/themes/prism.min.css" integrity="sha512-tN7Ec6zAFaVSG3TpNAKtk4DOHNpSwKHxxrsiw4GHKESGPs5njn/0sMCUMl2svV4wo4BK/rCP7juYz+zx+l6oeQ==" crossorigin="anonymous" referrerPolicy="no-referrer"/><pre id="26568338-221a-8061-a529-d027616dec09" class="code code-wrap"><code class="language-JSON" style="white-space:pre-wrap;word-break:break-all">{
  &quot;ocorrencias_pendentes&quot;: 747,
  &quot;ocorrencias_criticas&quot;: 254,
  &quot;agencias_afetadas&quot;: {
    &quot;total&quot;: 211,
    &quot;vips&quot;: 41
  },
  &quot;equipamentos_inoperantes&quot;: 326
}</code></pre><hr id="26568338-221a-8033-8c40-e3d97b6d820d"/><h3 id="26568338-221a-8021-bd65-f9862fc8fb14" class=""><strong>Tarefas</strong></h3><ol type="1" id="26568338-221a-80e9-bf83-f9000685c90b" class="numbered-list" start="1"><li>Especificar as queries de agregação para cada indicador.</li></ol><ol type="1" id="26568338-221a-80a2-acee-daec9fd77541" class="numbered-list" start="2"><li>Implementar a Lambda com controle de erros e logging.<ol type="a" id="26768338-221a-80ae-9d1a-f863fb0b2246" class="numbered-list" start="1"><li>Identificar com o TechLead, Desenvolvedor FrontEnd e Designer, os valores de retorno quando ocorrer erro.</li></ol></li></ol><ol type="1" id="26568338-221a-801d-98d6-f68e1f72f9c1" class="numbered-list" start="3"><li>Realizar testes unitários e de performance.</li></ol><hr id="26568338-221a-80e6-9355-e2ce66fd395c"/><h3 id="26568338-221a-801d-876c-c304fab4b5e1" class=""><strong>Cenários para Teste e Homologação</strong></h3><ol type="1" id="26568338-221a-803d-9188-f14dce8c12eb" class="numbered-list" start="1"><li>Lambda retorna todos os indicadores com dados consistentes.</li></ol><ol type="1" id="26568338-221a-80a7-a664-ccfceb209f17" class="numbered-list" start="2"><li>Manipulação de falhas (ex: erro na query, retorno vazio).</li></ol><ol type="1" id="26568338-221a-806f-9211-c29c3d9faae7" class="numbered-list" start="3"><li>Integração validada com o front-end (mock ou ambiente real).</li></ol><ol type="1" id="26568338-221a-80ff-bc19-f90103fa927d" class="numbered-list" start="4"><li>Logs gerados para cada execução.</li></ol><hr id="26568338-221a-80a4-8ff1-c5b7652def2b"/><h3 id="26568338-221a-8028-aae9-ce428ff231ea" class=""><strong>Critérios de Aceite</strong></h3><ul id="26568338-221a-8061-b528-c9b6eb85cd0e" class="to-do-list"><li><div class="checkbox checkbox-off"></div> <span class="to-do-children-unchecked">A Lambda está disponível em endpoint autenticado.</span><div class="indented"></div></li></ul><ul id="26568338-221a-8054-aedf-c89bc5e94b94" class="to-do-list"><li><div class="checkbox checkbox-off"></div> <span class="to-do-children-unchecked">O retorno segue o padrão de JSON acordado.</span><div class="indented"></div></li></ul><ul id="26568338-221a-80d5-aaa4-c3be7b12f6b5" class="to-do-list"><li><div class="checkbox checkbox-off"></div> <span class="to-do-children-unchecked">Os dados retornados batem com as views de origem.</span><div class="indented"></div></li></ul><ul id="26568338-221a-8078-ab1c-fcc79d4db32f" class="to-do-list"><li><div class="checkbox checkbox-off"></div> <span class="to-do-children-unchecked">O código está versionado e integrado no repositório da COPF.</span><div class="indented"></div></li></ul><hr id="26568338-221a-80ba-82ac-fb7aae0b5bba"/><h3 id="26568338-221a-80d0-a51e-c91296fd20ac" class=""><strong>Impacto Esperado</strong></h3><ul id="26568338-221a-80cf-b0c0-c3370db6e3ac" class="bulleted-list"><li style="list-style-type:disc">Consolidação da lógica de negócio em um ponto único.</li></ul><ul id="26568338-221a-80dc-9e6e-eda10e16c71c" class="bulleted-list"><li style="list-style-type:disc">Maior confiabilidade e consistência dos dados apresentados no dashboard.</li></ul><hr id="26568338-221a-80bb-b0ae-cfda2a029028"/><h3 id="26568338-221a-80aa-be22-de20b2f207fb" class=""><strong>Conclusão</strong></h3><ul id="26568338-221a-8047-b4db-ca39ff932cef" class="bulleted-list"><li style="list-style-type:disc"><strong>Início:</strong><ul id="26568338-221a-807f-9410-c7b3743a5cb7" class="bulleted-list"><li style="list-style-type:circle"><strong>Desejado:</strong> R3 S3 2025</li></ul><ul id="26568338-221a-8062-b0ac-f88eb65ed25f" class="bulleted-list"><li style="list-style-type:circle"><strong>Real:</strong> R3 S3 2025</li></ul></li></ul><ul id="26568338-221a-8047-95ae-de5a27aa7b62" class="bulleted-list"><li style="list-style-type:disc"><strong>Fim:</strong><ul id="26568338-221a-80ea-b8c1-fc71fe525883" class="bulleted-list"><li style="list-style-type:circle"><strong>Desejado:</strong> R3 S3 2025</li></ul><ul id="26568338-221a-809a-a7aa-fc1f86895cde" class="bulleted-list"><li style="list-style-type:circle"><strong>Real:</strong> <em>(preencher ao fim da sprint)</em></li></ul></li></ul><ul id="26568338-221a-8008-895e-f5866282c3cc" class="bulleted-list"><li style="list-style-type:disc"><strong>Resultado:</strong> <em>(preencher ao fim da sprint)</em></li></ul><h2 id="26568338-221a-80a3-a23e-ef2e1501e9da" class=""><strong>História: [Delivery][Frontend] Desenvolvimento dos gráficos da dashboard da Home Page (COPF)</strong></h2><h3 id="26568338-221a-80b9-946a-f6e89880595c" class=""><strong>Visão de Produto</strong></h3><p id="26568338-221a-8036-8572-f9d1032593be" class="">Acreditamos que, ao <strong>exibir gráficos de análise na Home Page (Dashboard) do COPF</strong>, como <strong>status de equipamentos</strong>, <strong>agências mais afetadas</strong>, <strong>aging de ocorrências</strong>, <strong>motivos mais frequentes</strong> e <strong>fornecedores e a relação previsão de atendimento e sla</strong>, <strong>os times operacionais poderão identificar rapidamente padrões, tendências e gargalos</strong>, otimizando decisões e melhorando a eficiência da atuação.</p><p id="26568338-221a-802e-bce0-cf1abf613cfc" class="">Saberemos que isso é verdade quando <strong>os usuários conseguirem tomar decisões ou priorizar ações com base apenas nos gráficos exibidos, sem precisar acessar outras telas ou relatórios externos</strong>.</p><hr id="26568338-221a-8012-90dd-c5685392801e"/><h3 id="26568338-221a-804c-ac8b-c740f3e2e908" class=""><strong>Descrição</strong></h3><p id="26568338-221a-803c-9845-e4f90b19a061" class="">Como time de frontend da COPF, queremos <strong>implementar os gráficos principais da Home Page</strong>, com visual limpo, responsivo e de fácil leitura, para que os usuários tenham uma <strong>visão analítica resumida</strong> das ocorrências e equipamentos monitorados.</p><p id="26568338-221a-8094-ad0b-c94488422474" class="">Gráficos a serem desenvolvidos:</p><ol type="1" id="26568338-221a-80d8-b5c7-c54d0e1cee94" class="numbered-list" start="1"><li><strong>Status dos Equipamentos</strong></li></ol><ol type="1" id="26568338-221a-80e4-8fae-d2a08de25a8f" class="numbered-list" start="2"><li><strong>Top 10 pontos por volume de ocorrências</strong></li></ol><ol type="1" id="26568338-221a-807f-b9f4-f4afe9a29a7b" class="numbered-list" start="3"><li><strong>Gráfico de Aging</strong></li></ol><ol type="1" id="26568338-221a-8076-963a-ec93de166765" class="numbered-list" start="4"><li><strong>Long Tail - Sintomas das Ocorrências</strong><ol type="a" id="26568338-221a-8066-af8c-c3383e5bfc10" class="numbered-list" start="1"><li>Sem o eixo duplo (gráfico de linha acumulada)</li></ol></li></ol><ol type="1" id="26568338-221a-8000-bfe7-c5e5f1be6408" class="numbered-list" start="5"><li><strong>Fornecedor x Previsão x SLA</strong></li></ol><p id="26568338-221a-80fe-a4c8-ed92c765b088" class="">Cada gráfico deve:</p><ul id="26568338-221a-8043-80d8-deabeff241c2" class="bulleted-list"><li style="list-style-type:disc">Ser reativo à atualização manual da página</li></ul><hr id="26568338-221a-80cd-81e7-dce0c962ac74"/><h3 id="26568338-221a-804b-accc-cc7c0fa84f01" class=""><strong>Visão do Usuário</strong></h3><p id="26568338-221a-8024-95c3-c53c09a1e729" class="">Usuários operacionais e gestores precisam <strong>entender rapidamente os focos de atenção</strong>, como agências mais impactadas, principais motivos de falhas e o tempo médio de resolução, de forma visual e acessível logo na Home (Dashboard).</p><hr id="26568338-221a-8018-9643-ee6ef93fa97e"/><h3 id="26568338-221a-80df-974e-c04bfd50c9e6" class=""><strong>Contexto / Narrativa de Negócio</strong></h3><p id="26568338-221a-8099-ac8e-e19a89f1e76e" class="">Antes desses gráficos, as análises eram feitas manualmente a partir de planilhas ou painéis separados. Ao integrar os gráficos na Home Page do COPF, tornamos o monitoramento mais inteligente e proativo, especialmente em situações críticas.</p><hr id="26568338-221a-80c0-b620-f73f3443a74b"/><h3 id="26568338-221a-80a6-8f4d-d1bafaec9472" class=""><strong>Premissas</strong></h3><ol type="1" id="26568338-221a-80ed-b45a-fbf8f61910e5" class="numbered-list" start="1"><li>As bibliotecas gráficas utilizadas são compatíveis com o framework atual do COPF.</li></ol><ol type="1" id="26568338-221a-80ee-936f-d5babbdaff9c" class="numbered-list" start="2"><li>Os dados são consistentes com os já utilizados em outras telas da plataforma.</li></ol><hr id="26568338-221a-808e-b2ac-d9914215ab51"/><h3 id="26568338-221a-80f0-876b-fbe1c3a194d4" class=""><strong>Regras de Negócio:</strong></h3><ul id="26568338-221a-80c7-906e-d1c5d1da3678" class="bulleted-list"><li style="list-style-type:disc"><strong>Status dos Equipamentos:</strong><ul id="26568338-221a-80ba-9a02-e8b9d30d8ddc" class="bulleted-list"><li style="list-style-type:circle">Agrupar por tipo de equipamento.</li></ul><ul id="26568338-221a-8081-9e2b-e65c0827a05c" class="bulleted-list"><li style="list-style-type:circle">Contabilizar status &quot;operante&quot; e &quot;inoperante&quot;.</li></ul></li></ul><ul id="26568338-221a-8038-b572-d546f4145030" class="bulleted-list"><li style="list-style-type:disc"><strong>Top 10 pontos por volume de ocorrências</strong><ul id="26568338-221a-80a4-a155-d6814ee46c09" class="bulleted-list"><li style="list-style-type:circle">Listar as 10 agências com maior volume de ocorrências pendentes.<ul id="26768338-221a-804e-b82f-d30c90611a45" class="bulleted-list"><li style="list-style-type:square">São consideradas pendentes as ocorrências com os seguintes status:<ul id="26768338-221a-80b6-a4bf-d6a367a737a5" class="bulleted-list"><li style="list-style-type:disc">A iniciar + Em andamento + Com impedimentos</li></ul></li></ul></li></ul><ul id="26768338-221a-80f7-beaf-e73b9fe030de" class="bulleted-list"><li style="list-style-type:circle">Cada ocorrência conta como 1.</li></ul><ul id="26568338-221a-8056-908c-d91ffc16c015" class="bulleted-list"><li style="list-style-type:circle">Incluir marcador para VIPs.</li></ul></li></ul><ul id="26568338-221a-80c6-a92f-dba106fe1eb1" class="bulleted-list"><li style="list-style-type:disc"><strong>Aging das Ocorrências:</strong> Agrupar ocorrências abertas pelas faixas de dias:<ul id="26568338-221a-80fc-a64e-c5bb67b6c28d" class="bulleted-list"><li style="list-style-type:circle">0 – 1 dia</li></ul><ul id="26568338-221a-80ba-9850-d506a6fe8344" class="bulleted-list"><li style="list-style-type:circle">1 – 2 dias</li></ul><ul id="26568338-221a-803f-8451-f1db5edadfbd" class="bulleted-list"><li style="list-style-type:circle">2 – 4 dias</li></ul><ul id="26568338-221a-806a-8725-e6ad2a123e08" class="bulleted-list"><li style="list-style-type:circle">≥ 5 dias</li></ul><p id="26768338-221a-802a-9f43-e0f7e74bf4eb" class="">O aging é calculado como: Agora() - Data_Abertura<div class="indented"><p id="26768338-221a-80af-be0e-d27e9f44b041" class=""><mark class="highlight-brown_background">*No motor de priorização, o aging é calculado usando a Data_Transferência para o fornecedor, ou seja, é um aging focado na gestão de fornecedores.</mark></p><p id="26768338-221a-80ac-bccd-d7524a75ac86" class=""><mark class="highlight-blue_background">*Nesse caso da dashboard, é um aging com visão cliente, ou seja, quanto tempo a ocorrência está aberta.</mark></p></div></p></li></ul><ul id="26568338-221a-8059-bf4d-f8ee572e2866" class="bulleted-list"><li style="list-style-type:disc"><strong>Long Tail – Motivos:</strong> Agrupar ocorrências por motivo/sintoma e ordenar por frequência decrescente.<ul id="26768338-221a-8003-a64f-f211ee287df1" class="bulleted-list"><li style="list-style-type:circle">Os top 3 mais críticos recebem uma cor vermelha (verificar com a designer qual o RGB).</li></ul></li></ul><ul id="26568338-221a-8041-9a2c-f9023ada54f0" class="bulleted-list"><li style="list-style-type:disc"><strong>Fornecedor x Previsão x SLA:</strong><ul id="26768338-221a-8026-b09b-d5bcc4edb6da" class="bulleted-list"><li style="list-style-type:circle">O gráfico é de barra empilhada:<ol type="1" id="26768338-221a-8001-90f9-dccc44f59403" class="numbered-list" start="1"><li>Eixo x: Agrupar ocorrências por fornecedor.</li></ol><ol type="1" id="26768338-221a-805e-821c-e645f08b826c" class="numbered-list" start="2"><li>Eixo y: Quantidade de ocorrências por fornecedor</li></ol><ol type="1" id="26768338-221a-80f4-92b7-ece0844a7da8" class="numbered-list" start="3"><li>Barra empilhada:</li></ol><ul id="26568338-221a-80fc-a627-e8ad6f9562ac" class="bulleted-list"><li style="list-style-type:square">Categorizar conforme:<ul id="26568338-221a-80c5-8a72-d1ff87d41a91" class="bulleted-list"><li style="list-style-type:disc">SLA vencido</li></ul><ul id="26568338-221a-80ef-8605-de14f83aa6c3" class="bulleted-list"><li style="list-style-type:disc">Previsão maior que SLA</li></ul><ul id="26568338-221a-80d0-8dac-f4c7fb57525e" class="bulleted-list"><li style="list-style-type:disc">Sem previsão</li></ul></li></ul></li></ul></li></ul><hr id="26568338-221a-80a0-9305-d69b1665ba4c"/><h3 id="26568338-221a-8024-881a-d5f84f5d3d6f" class=""><strong>Tarefas</strong></h3><ol type="1" id="26568338-221a-80f5-8e9d-c56e8f6f4d8a" class="numbered-list" start="1"><li>Implementar componentes de gráficos no frontend.</li></ol><ol type="1" id="26568338-221a-8046-b511-fd16a2e0a828" class="numbered-list" start="2"><li>Integrar com a API de backend (Lambda).</li></ol><ol type="1" id="26568338-221a-80ae-a613-d23a341104ea" class="numbered-list" start="3"><li>Garantir layout responsivo e acessibilidade.</li></ol><ol type="1" id="26568338-221a-8031-93b9-ca57f30f6a54" class="numbered-list" start="4"><li>Realizar testes de usabilidade e performance.</li></ol><hr id="26568338-221a-80f4-a608-c4ce024a4654"/><h3 id="26568338-221a-80a2-b29b-cd0694099e44" class=""><strong>Cenários para Teste e Homologação</strong></h3><ol type="1" id="26568338-221a-802d-be91-ddd71f50d4b2" class="numbered-list" start="1"><li>Os gráficos carregam corretamente com os dados da API.</li></ol><ol type="1" id="26568338-221a-8071-9594-f99acbd6e5a2" class="numbered-list" start="2"><li>Os dados são atualizados ao clicar em “Atualizar”.</li></ol><ol type="1" id="26568338-221a-809b-a643-f92539ebb26d" class="numbered-list" start="3"><li>Os gráficos são responsivos em diferentes dispositivos.</li></ol><ol type="1" id="26568338-221a-80e5-a852-d4bcac0b5dd4" class="numbered-list" start="4"><li>O comportamento visual é consistente com os padrões da plataforma.</li></ol><hr id="26568338-221a-8020-b36f-f47478276b19"/><h3 id="26568338-221a-802c-b7f0-d7781ab0da3a" class=""><strong>Impacto Esperado</strong></h3><ul id="26568338-221a-80b9-9b2d-ed58e4a44d1b" class="bulleted-list"><li style="list-style-type:disc">Redução do tempo de análise das equipes.</li></ul><ul id="26568338-221a-8066-ba77-d35948227894" class="bulleted-list"><li style="list-style-type:disc">Aumento da assertividade nas decisões operacionais.</li></ul><ul id="26568338-221a-80ce-96b6-fc118f2d545c" class="bulleted-list"><li style="list-style-type:disc">Proatividade no tratamento de falhas e gargalos.</li></ul><hr id="26568338-221a-80e6-bf95-f2d2710e3fd9"/><h3 id="26568338-221a-8085-8dbc-f1b3dafa216c" class=""><strong>Conclusão</strong></h3><ul id="26568338-221a-8058-a97c-d715ed9649ec" class="bulleted-list"><li style="list-style-type:disc"><strong>Início:</strong><ul id="26568338-221a-8024-8cd6-fe810e14122e" class="bulleted-list"><li style="list-style-type:circle"><strong>Desejado:</strong> R3 S3 2025</li></ul><ul id="26568338-221a-80c5-be2f-cf419f51a86b" class="bulleted-list"><li style="list-style-type:circle"><strong>Real:</strong> R3 S3 2025</li></ul></li></ul><ul id="26568338-221a-80b8-9ce0-f7fd2c7db629" class="bulleted-list"><li style="list-style-type:disc"><strong>Fim:</strong><ul id="26568338-221a-8021-81fe-c85d8713976a" class="bulleted-list"><li style="list-style-type:circle"><strong>Desejado:</strong> R3 S3 2025</li></ul><ul id="26568338-221a-807c-81bd-cbce8efa2487" class="bulleted-list"><li style="list-style-type:circle"><strong>Real:</strong> <em>(preencher ao fim da sprint)</em></li></ul></li></ul><ul id="26568338-221a-80e4-af82-f09b21dc7c58" class="bulleted-list"><li style="list-style-type:disc"><strong>Resultado:</strong> <em>(preencher ao fim da sprint)</em></li></ul><h2 id="26568338-221a-8043-96e2-cd33a7c23746" class=""><strong>História: [Delivery][Backend] Desenvolvimento da Lambda de agregação para os gráficos da Home Page (COPF)</strong></h2><h3 id="26568338-221a-809c-8c47-e623cccf064f" class=""><strong>Visão de Produto</strong></h3><p id="26568338-221a-80b2-bc6f-fb83928a66ee" class="">Acreditamos que, ao desenvolver uma <strong>função Lambda dedicada à agregação e disponibilização dos dados para os gráficos do dashboard do COPF</strong>, entregaremos <strong>rapidez, consistência e facilidade de manutenção</strong>, permitindo que o frontend se concentre apenas na visualização.</p><p id="26568338-221a-80da-9b57-f521e1e6e698" class="">Saberemos que isso é verdade quando <strong>os gráficos da Home Page forem carregados com alta performance, refletindo dados consistentes e atualizados, sem depender de múltiplas queries dispersas ou lógicas fragmentadas.</strong></p><hr id="26568338-221a-807b-bb9c-c95f4db0c885"/><h3 id="26568338-221a-8053-84f2-d0679a560462" class=""><strong>Descrição</strong></h3><p id="26568338-221a-80b0-a5f0-d1214ab5ad65" class="">Como time de backend da COPF, queremos <strong>implementar uma Lambda que agregue e entregue os dados necessários para a renderização dos gráficos da Home Page</strong>, consumida via API Gateway autenticada.</p><p id="26568338-221a-80da-8f88-f4605b19e77b" class="">Essa Lambda será responsável por consolidar as regras de negócio dos seguintes gráficos:</p><ol type="1" id="26568338-221a-80cd-9f85-c6968a80d76d" class="numbered-list" start="1"><li><strong>Status dos Equipamentos</strong></li></ol><ol type="1" id="26568338-221a-80cb-a1a8-f7f67f405fdd" class="numbered-list" start="2"><li><strong>Top 10 pontos por volume de ocorrências</strong></li></ol><ol type="1" id="26568338-221a-8057-baba-c664d6056e36" class="numbered-list" start="3"><li><strong>Gráfico de Aging</strong></li></ol><ol type="1" id="26568338-221a-8044-b1e9-fe66181273ea" class="numbered-list" start="4"><li><strong>Long Tail - Sintomas das Ocorrências</strong><ol type="a" id="26568338-221a-803e-818f-dcd06a41cfa7" class="numbered-list" start="1"><li>Sem o eixo duplo (gráfico de linha acumulada)</li></ol></li></ol><ol type="1" id="26568338-221a-80f3-997a-fa3ca8b08228" class="numbered-list" start="5"><li><strong>Fornecedor x Previsão x SLA</strong></li></ol><p id="26568338-221a-809b-8659-d05fdf4cb304" class="">A Lambda:</p><ul id="26568338-221a-8005-8595-ed461530b771" class="bulleted-list"><li style="list-style-type:disc">Será acionada sob demanda (via frontend).</li></ul><ul id="26568338-221a-8090-9ab6-cc377f88e60b" class="bulleted-list"><li style="list-style-type:disc">Retornará os dados já agrupados, ordenados e no formato pronto para visualização.</li></ul><ul id="26568338-221a-80d8-af70-ecdcb4539dcb" class="bulleted-list"><li style="list-style-type:disc">Será protegida com autenticação e autorizada via API Gateway.</li></ul><ul id="26568338-221a-8042-a454-cc5313577ac9" class="bulleted-list"><li style="list-style-type:disc">Permitirá desacoplamento da lógica de agregação do frontend.</li></ul><hr id="26568338-221a-80d8-963b-faf889d77a3a"/><h3 id="26568338-221a-80fb-bcd1-e05b923ce92c" class=""><strong>Visão do Usuário</strong></h3><p id="26568338-221a-8003-a201-c2811c0f245c" class="">Embora os usuários não acessem diretamente a Lambda, ela garante <strong>a entrega confiável dos dados</strong> que alimentam os gráficos analíticos da Home Page, <strong>proporcionando uma experiência ágil e fluida</strong> na navegação e análise dos dados.</p><hr id="26568338-221a-803a-9922-eab687887465"/><h3 id="26568338-221a-804c-9ed8-f82ede90edfa" class=""><strong>Premissas</strong></h3><ol type="1" id="26568338-221a-80d1-ae4e-ca0bf81f250e" class="numbered-list" start="1"><li>Todos os dados necessários estão disponíveis no banco de dados do VO3 - COPF no RDS.</li></ol><ol type="1" id="26568338-221a-802a-8d85-da2298ad6956" class="numbered-list" start="2"><li>A Lambda será deployada com suporte ao pipeline CI/CD do COPF.</li></ol><ol type="1" id="26568338-221a-806e-b665-c09c2ceef143" class="numbered-list" start="3"><li>O contrato de resposta da API será definido em conjunto com o time de frontend.</li></ol><ol type="1" id="26568338-221a-8071-8c22-e7977c1e1135" class="numbered-list" start="4"><li>O controle de acesso será feito via autenticação no API Gateway.</li></ol><hr id="26568338-221a-80fa-92ae-f1219a1cd427"/><h3 id="26568338-221a-80ea-be81-f73a1153f5de" class=""><strong>Regras de Negócio</strong></h3><ul id="26568338-221a-808e-8029-cf3dbebc3156" class="bulleted-list"><li style="list-style-type:disc"><strong>Status dos Equipamentos:</strong><ul id="26868338-221a-8014-a120-f010252fc290" class="bulleted-list"><li style="list-style-type:circle">Agrupar por tipo de equipamento.</li></ul><ul id="26868338-221a-80b2-8f11-f63c2df996f6" class="bulleted-list"><li style="list-style-type:circle">Contabilizar status &quot;operante&quot; e &quot;inoperante&quot;.</li></ul></li></ul><ul id="26868338-221a-802b-8dd5-cf06b1c5e475" class="bulleted-list"><li style="list-style-type:disc"><strong>Top 10 pontos por volume de ocorrências</strong><ul id="26868338-221a-8007-80be-fdf1ea7a1e57" class="bulleted-list"><li style="list-style-type:circle">Listar as 10 agências com maior volume de ocorrências pendentes.<ul id="26868338-221a-809b-b827-ef3ffc2f5707" class="bulleted-list"><li style="list-style-type:square">São consideradas pendentes as ocorrências com os seguintes status:<ul id="26868338-221a-80b6-885f-fa81a5b2c19e" class="bulleted-list"><li style="list-style-type:disc">A iniciar + Em andamento + Com impedimentos</li></ul></li></ul></li></ul><ul id="26868338-221a-80a5-bc29-db2f3309933e" class="bulleted-list"><li style="list-style-type:circle">Cada ocorrência conta como 1.</li></ul><ul id="26868338-221a-80a9-b018-f8f66c230fba" class="bulleted-list"><li style="list-style-type:circle">Incluir marcador para VIPs.</li></ul></li></ul><ul id="26868338-221a-8036-8185-fd7355b28e1a" class="bulleted-list"><li style="list-style-type:disc"><strong>Aging das Ocorrências:</strong> Agrupar ocorrências abertas pelas faixas de dias:<ul id="26868338-221a-8080-b067-f9e245f508db" class="bulleted-list"><li style="list-style-type:circle">0 – 1 dia</li></ul><ul id="26868338-221a-8093-8803-fbe86bfb7c4a" class="bulleted-list"><li style="list-style-type:circle">1 – 2 dias</li></ul><ul id="26868338-221a-804e-b1fc-e074c24a6a36" class="bulleted-list"><li style="list-style-type:circle">2 – 4 dias</li></ul><ul id="26868338-221a-808d-87de-edfa6c55227c" class="bulleted-list"><li style="list-style-type:circle">≥ 5 dias</li></ul><p id="26868338-221a-80c4-be57-da58a4ff5c74" class="">O aging é calculado como: Agora() - Data_Abertura<div class="indented"><p id="26868338-221a-803d-b522-ff73bdfd4a5d" class=""><mark class="highlight-brown_background">*No motor de priorização, o aging é calculado usando a Data_Transferência para o fornecedor, ou seja, é um aging focado na gestão de fornecedores.</mark></p><p id="26868338-221a-8087-aff9-ea0b5e9aa53e" class=""><mark class="highlight-blue_background">*Nesse caso da dashboard, é um aging com visão cliente, ou seja, quanto tempo a ocorrência está aberta.</mark></p></div></p></li></ul><ul id="26868338-221a-803b-ac7e-ea992be08808" class="bulleted-list"><li style="list-style-type:disc"><strong>Long Tail – Motivos:</strong> Agrupar ocorrências por motivo/sintoma e ordenar por frequência decrescente.<ul id="26868338-221a-8072-9c1a-e8d6e25b958d" class="bulleted-list"><li style="list-style-type:circle">Os top 3 mais críticos recebem uma cor vermelha (verificar com a designer qual o RGB).</li></ul></li></ul><ul id="26868338-221a-8095-9395-ee8521330d68" class="bulleted-list"><li style="list-style-type:disc"><strong>Fornecedor x Previsão x SLA:</strong><ul id="26868338-221a-801f-8e97-d103156484ca" class="bulleted-list"><li style="list-style-type:circle">O gráfico é de barra empilhada:<ol type="1" id="26868338-221a-8061-8f55-fe1b3bdc1260" class="numbered-list" start="1"><li>Eixo x: Agrupar ocorrências por fornecedor.</li></ol><ol type="1" id="26868338-221a-80a0-a9c0-c7b0c53d86ba" class="numbered-list" start="2"><li>Eixo y: Quantidade de ocorrências por fornecedor</li></ol><ol type="1" id="26868338-221a-801a-9b5a-cfb107853c3a" class="numbered-list" start="3"><li>Barra empilhada:</li></ol><ul id="26868338-221a-80a5-bd80-cc5bec6d5488" class="bulleted-list"><li style="list-style-type:square">Categorizar conforme:<ul id="26868338-221a-80c7-b502-da8c7c53836e" class="bulleted-list"><li style="list-style-type:disc">SLA vencido</li></ul><ul id="26868338-221a-8084-892c-f3e5cdfce062" class="bulleted-list"><li style="list-style-type:disc">Previsão maior que SLA</li></ul><ul id="26868338-221a-80aa-8dbe-eadb7b6c3204" class="bulleted-list"><li style="list-style-type:disc">Sem previsão</li></ul></li></ul></li></ul></li></ul><hr id="26568338-221a-80ac-a1e4-e4144e4756af"/><h3 id="26568338-221a-8031-9503-c01be76b74eb" class=""><strong>Informações Técnicas</strong></h3><ul id="26568338-221a-809f-bcda-c3b530542ec5" class="bulleted-list"><li style="list-style-type:disc">Linguagem: Python</li></ul><ul id="26568338-221a-80a2-919b-d4f8beaf0184" class="bulleted-list"><li style="list-style-type:disc">Infraestrutura: AWS Lambda + API Gateway</li></ul><ul id="26568338-221a-8031-8331-e8d901238b5e" class="bulleted-list"><li style="list-style-type:disc">Monitoramento: Datadog com rastreamento de erro e performance</li></ul><ul id="26568338-221a-80e3-874a-d5a8c9d2f48a" class="bulleted-list"><li style="list-style-type:disc">Controle de versão: Repositório COPF no GitHub</li></ul><ul id="26568338-221a-8093-ab70-fb5000c05f31" class="bulleted-list"><li style="list-style-type:disc"><strong>Exemplo de Output - </strong><mark class="highlight-brown_background"><strong>Sugestão IA</strong></mark><strong>:</strong></li></ul><script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/prism.min.js" integrity="sha512-7Z9J3l1+EYfeaPKcGXu3MS/7T+w19WtKQY/n+xzmw4hZhJ9tyYmcUS+4QqAlzhicE5LAfMQSF3iFTK9bQdTxXg==" crossorigin="anonymous" referrerPolicy="no-referrer"></script><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/themes/prism.min.css" integrity="sha512-tN7Ec6zAFaVSG3TpNAKtk4DOHNpSwKHxxrsiw4GHKESGPs5njn/0sMCUMl2svV4wo4BK/rCP7juYz+zx+l6oeQ==" crossorigin="anonymous" referrerPolicy="no-referrer"/><pre id="26568338-221a-80f7-aeaa-c3ef9dbb785a" class="code code-wrap"><code class="language-JSON" style="white-space:pre-wrap;word-break:break-all">{
  &quot;aging&quot;: [
    { &quot;faixa&quot;: &quot;0-1 dias&quot;, &quot;quantidade&quot;: 32 },
    { &quot;faixa&quot;: &quot;1-2 dias&quot;, &quot;quantidade&quot;: 21 },
    { &quot;faixa&quot;: &quot;2-4 dias&quot;, &quot;quantidade&quot;: 18 },
    { &quot;faixa&quot;: &quot;≥5 dias&quot;, &quot;quantidade&quot;: 9 }
  ],
  &quot;motivos&quot;: [
    { &quot;motivo&quot;: &quot;ATM Quebrado&quot;, &quot;quantidade&quot;: 103 },
    { &quot;motivo&quot;: &quot;Rede Inoperante&quot;, &quot;quantidade&quot;: 87 }
  ],
  &quot;status_equipamentos&quot;: [
    { &quot;tipo&quot;: &quot;Notebook&quot;, &quot;operantes&quot;: 120, &quot;inoperantes&quot;: 12 },
    { &quot;tipo&quot;: &quot;ATM&quot;, &quot;operantes&quot;: 50, &quot;inoperantes&quot;: 8 }
  ],
  &quot;top_agencias&quot;: [
    { &quot;agencia&quot;: &quot;1234&quot;, &quot;ocorrencias&quot;: 17, &quot;vip&quot;: true },
    { &quot;agencia&quot;: &quot;5678&quot;, &quot;ocorrencias&quot;: 15, &quot;vip&quot;: false }
  ],
  &quot;fornecedor_sla&quot;: [
    { &quot;fornecedor&quot;: &quot;ABC&quot;, &quot;sla_vencido&quot;: 10, &quot;previsao_maior_sla&quot;: 5, &quot;sem_previsao&quot;: 3 }
  ]
}</code></pre><hr id="26568338-221a-8060-8a3f-f4aefe5df669"/><h3 id="26568338-221a-804f-819d-f4ac679e4a2c" class=""><strong>Tarefas</strong></h3><ol type="1" id="26568338-221a-807b-b137-e3463f3c6df1" class="numbered-list" start="1"><li>Definir queries SQL ou views para cada tipo de agregação.</li></ol><ol type="1" id="26568338-221a-80e5-81da-ff2fa655e4e0" class="numbered-list" start="2"><li>Implementar a lógica de agregação na Lambda.</li></ol><ol type="1" id="26568338-221a-805f-8e5a-faf197c4cc46" class="numbered-list" start="3"><li>Garantir logs detalhados para troubleshooting.</li></ol><hr id="26568338-221a-8005-abba-d22843b7cfa1"/><h3 id="26568338-221a-805a-bf41-cc4230833ed2" class=""><strong>Cenários para Teste e Homologação</strong></h3><ol type="1" id="26568338-221a-8016-b8d7-f433b737ac52" class="numbered-list" start="1"><li>Lambda retorna os dados esperados.</li></ol><ol type="1" id="26568338-221a-808d-9ff9-fa17f194a2a8" class="numbered-list" start="2"><li>Todos os gráficos do frontend carregam corretamente com os dados da API.</li></ol><ol type="1" id="26568338-221a-8049-a46b-fc13207b3279" class="numbered-list" start="3"><li>Logs de erro e sucesso são registrados corretamente.</li></ol><ol type="1" id="26568338-221a-8095-ae68-e321509402ce" class="numbered-list" start="4"><li>Segurança e autenticação funcionam conforme esperado.</li></ol><hr id="26568338-221a-8016-be70-de91c3b975b9"/><h3 id="26568338-221a-800e-b5b7-dbdf73ffe8df" class=""><strong>Critérios de Aceite</strong></h3><ul id="26568338-221a-80f9-bf2e-d4ad80501665" class="to-do-list"><li><div class="checkbox checkbox-off"></div> <span class="to-do-children-unchecked">Lambda responde com JSON formatado corretamente.</span><div class="indented"></div></li></ul><ul id="26568338-221a-80ae-bd14-e87090dfa46d" class="to-do-list"><li><div class="checkbox checkbox-off"></div> <span class="to-do-children-unchecked">Dados consistem com o que é exibido nas telas atuais.</span><div class="indented"></div></li></ul><ul id="26568338-221a-801c-9ac7-fa89d89dae32" class="to-do-list"><li><div class="checkbox checkbox-off"></div> <span class="to-do-children-unchecked">Segurança via API Gateway implementada.</span><div class="indented"></div></li></ul><ul id="26568338-221a-8055-aedd-dbe7ab4d3c9e" class="to-do-list"><li><div class="checkbox checkbox-off"></div> <span class="to-do-children-unchecked">Código versionado no repositório COPF.</span><div class="indented"></div></li></ul><ul id="26568338-221a-8010-9471-dd6b932676ab" class="to-do-list"><li><div class="checkbox checkbox-off"></div> <span class="to-do-children-unchecked">CI/CD funcionando com sucesso.</span><div class="indented"></div></li></ul><hr id="26568338-221a-8004-aea9-eb0d6cce5001"/><h3 id="26568338-221a-8008-9a82-c347aa8b3a0a" class=""><strong>Impacto Esperado</strong></h3><ul id="26568338-221a-8057-a097-c7e7840a4d70" class="bulleted-list"><li style="list-style-type:disc">Redução da complexidade no frontend.</li></ul><ul id="26568338-221a-805c-b88a-e118bd50a4eb" class="bulleted-list"><li style="list-style-type:disc">Aumento da performance da página de dashboard.</li></ul><ul id="26568338-221a-802a-a6ac-f8114f18b0a8" class="bulleted-list"><li style="list-style-type:disc">Padronização e governança da lógica de agregação.</li></ul><ul id="26568338-221a-806f-a648-ee12804a5ddd" class="bulleted-list"><li style="list-style-type:disc">Redução de retrabalho em futuras evoluções dos gráficos.</li></ul><hr id="26568338-221a-8000-8bbe-e1a0e6f87fc3"/><h3 id="26568338-221a-8056-ad7d-cc8257242917" class=""><strong>Conclusão</strong></h3><ul id="26568338-221a-8086-9767-f6b8ce7b8fab" class="bulleted-list"><li style="list-style-type:disc"><strong>Início:</strong><ul id="26568338-221a-80eb-ae71-c0b85e8b0225" class="bulleted-list"><li style="list-style-type:circle"><strong>Desejado:</strong> R3 S3 2025</li></ul><ul id="26568338-221a-804a-824e-df7871c3fe15" class="bulleted-list"><li style="list-style-type:circle"><strong>Real:</strong> R3 S3 2025</li></ul></li></ul><ul id="26568338-221a-80b7-a553-edc66d233980" class="bulleted-list"><li style="list-style-type:disc"><strong>Fim:</strong><ul id="26568338-221a-8013-b13a-ce45b77330bf" class="bulleted-list"><li style="list-style-type:circle"><strong>Desejado:</strong> R3 S3 2025</li></ul><ul id="26568338-221a-80d2-8824-d0316689be94" class="bulleted-list"><li style="list-style-type:circle"><strong>Real:</strong> <em>(preencher ao fim da sprint)</em></li></ul></li></ul><ul id="26568338-221a-8025-ba2f-e1e30566050f" class="bulleted-list"><li style="list-style-type:disc"><strong>Resultado:</strong> <em>(preencher ao fim da sprint)</em></li></ul><h2 id="26568338-221a-80bf-8666-d79a3b0334ab" class=""><strong>História: [Delivery][Backend] Lambda de cálculo de prioridade de ocorrências (COPF)</strong></h2><h3 id="26568338-221a-8017-9170-e00bd09220c2" class=""><strong>Visão de Produto</strong></h3><p id="26568338-221a-8048-ab64-f28ce5105652" class="">Acreditamos que, ao <strong>automatizar o cálculo de prioridade das ocorrências via Lambda</strong>, permitindo atribuir uma pontuação baseada em critérios objetivos e estratégicos, <strong>as áreas operacionais poderão priorizar de forma mais eficaz suas ações</strong>, concentrando esforços onde há maior impacto ou urgência.</p><p id="26568338-221a-809c-9e2c-d8c1310f4391" class="">Saberemos que isso é verdade quando <strong>as ocorrências forem exibidas com uma pontuação de prioridade clara, consistente e alinhada às regras de negócio definidas — incluindo a classificação de criticidade (Crítica, Alta, Média, Baixa)</strong>.</p><hr id="26568338-221a-8055-b5fc-d3472bb51e38"/><h3 id="26568338-221a-80d0-97c0-eb91ea7c7d97" class=""><strong>Descrição</strong></h3><p id="26568338-221a-80bd-b201-c1320b31cd43" class="">Como time de backend da COPF, queremos <strong>desenvolver uma função Lambda que atribui uma pontuação de prioridade para cada ocorrência</strong>, com base em critérios como localização geográfica, pontos na lista de críticos para o negócio, aging e impacto na operação do ponto.</p><p id="26568338-221a-80c6-8492-f04b640ce6fa" class="">Essa Lambda será invocada em uma step function que contempla atualmente duas lambdas:</p><ul id="26568338-221a-8022-9941-c12508af0a7e" class="bulleted-list"><li style="list-style-type:disc">Lambda de ocorrências pendentes</li></ul><ul id="26568338-221a-8019-aca6-d745e1b0162b" class="bulleted-list"><li style="list-style-type:disc">Lambda para calculo de priorização</li></ul><p id="26568338-221a-801b-a438-d47a8c70c3a9" class="">Calcular a <strong>prioridade (score entre 0 e 999)</strong>.</p><ul id="26568338-221a-8026-9152-d5bdbbe44f30" class="bulleted-list"><li style="list-style-type:disc">Atribuir uma <strong>criticidade categórica (Crítica, Alta, Média, Baixa)</strong> com base no score final.</li></ul><ul id="26568338-221a-808f-b458-d58518ad2413" class="bulleted-list"><li style="list-style-type:disc">Armazenar e retornar esse valor junto à ocorrência.</li></ul><ul id="26568338-221a-8095-aed4-e5a2fd8c9cd6" class="bulleted-list"><li style="list-style-type:disc">A API ser exposta via API Gateway com autenticação.</li></ul><hr id="26568338-221a-805d-8afb-cfc26712962c"/><h3 id="26568338-221a-80b8-b708-c592c8c78f53" class=""><strong>Pontos de atenção</strong></h3><ul id="26568338-221a-8069-ab2b-dbf3eead5631" class="bulleted-list"><li style="list-style-type:disc">A primeira versão dessa lambda, será apenas para ocorrências do segmento AA.</li></ul><ul id="26568338-221a-8019-8911-cddbd7551164" class="bulleted-list"><li style="list-style-type:disc">Para ocorrências do segmento AB, os valores retornamos devem ser nulos.<ul id="26568338-221a-808b-8e82-c7b51025ff2d" class="bulleted-list"><li style="list-style-type:circle">ranking = null</li></ul><ul id="26568338-221a-80bc-844d-dbd760085713" class="bulleted-list"><li style="list-style-type:circle">criticidade = null</li></ul></li></ul><hr id="26568338-221a-801b-8b82-ebf4279843cf"/><h3 id="26568338-221a-8098-923e-f757cdb5ecb0" class=""><strong>Visão do Usuário</strong></h3><p id="26568338-221a-804d-a366-ccb5554fabe9" class=""><strong>A prioridade e a criticidade calculadas serão usadas para ordenar (ranking), filtrar (criticidade) e destacar ocorrências</strong>, permitindo que fornecedore e operação atuem primeiro nas situações mais críticas com base em critérios padronizados e transparentes.</p><hr id="26568338-221a-80f1-a5f1-c793280656a4"/><h3 id="26568338-221a-80b4-a0b7-ebd4fd9d8fc9" class=""><strong>Contexto / Narrativa de Negócio</strong></h3><p id="26568338-221a-8073-a1e4-df14c6d636f9" class="">Com essa Lambda, trazemos critérios claros e objetivos que permitem <strong>priorização inteligente e categorizada</strong>, mesmo antes de qualquer ação humana. Para o fornecedor, a criticidade será fundamental para determinar quais ocorrências ele irá priorizar.</p><hr id="26568338-221a-80d8-b1fd-e56bb85dba0d"/><h3 id="26568338-221a-80ee-acac-f1505530778b" class=""><strong>Premissas</strong></h3><ol type="1" id="26568338-221a-804a-b7ab-f8cf0e003902" class="numbered-list" start="1"><li>As bases auxiliares (ex: Base 360 e Ceis_Válidos) estão disponíveis para consulta.</li></ol><ol type="1" id="26568338-221a-80db-b5e5-c4071717cc4c" class="numbered-list" start="2"><li>As regras de negócio se baseiam no motor de priorização já desenvolvido pela operação da Gimea.</li></ol><hr id="26568338-221a-80ec-a7af-e5759cfdd56c"/><h3 id="26568338-221a-8081-9007-c1cf11c8c408" class=""><strong>Regras de Negócio</strong></h3><p id="26568338-221a-8063-bfc1-f1041d8f8f4c" class="">A pontuação final será a soma de critérios (pontuação total entre 0 e 999):</p><p id="26568338-221a-8064-94ec-c6c468c4f917" class="">Exemplo de critérios:</p><table id="26568338-221a-8080-8a72-c168a7af3209" class="simple-table"><thead class="simple-table-header"><tr id="26568338-221a-8027-9b15-ff533d4a08a3"><th id="V^}Y" class="simple-table-header-color simple-table-header">Critério</th><th id="ItSg" class="simple-table-header-color simple-table-header">Descrição</th><th id="oq_w" class="simple-table-header-color simple-table-header">Pontuação</th></tr></thead><tbody><tr id="26568338-221a-80a9-946b-c75b07245a0f"><td id="V^}Y" class=""><strong>UF = Maranhão</strong></td><td id="ItSg" class="">A ocorrência está em agência localizada no Maranhão</td><td id="oq_w" class="">+55</td></tr><tr id="26568338-221a-80a7-8f60-fab556501898"><td id="V^}Y" class=""><strong>Agência VIP</strong></td><td id="ItSg" class="">A agência é marcada como VIP</td><td id="oq_w" class="">+20</td></tr><tr id="26568338-221a-80f4-854b-f71d223364a0"><td id="V^}Y" class=""><strong>Aging2 &gt; 5 dias</strong></td><td id="ItSg" class="">A ocorrência está aberta e foi transferida para o fornecedor há mais de 5 dias</td><td id="oq_w" class="">+40</td></tr><tr id="26568338-221a-8036-9758-ed1d11081c3a"><td id="V^}Y" class=""><strong>Impacto no ponto &gt; 50%</strong></td><td id="ItSg" class="">Mais de 50% dos equipamentos da agência estão inoperantes</td><td id="oq_w" class="">+30</td></tr></tbody></table><hr id="26868338-221a-80c2-a3f8-edba132d6349"/><p id="26568338-221a-8090-9791-e954ed1e7e2d" class=""><strong>Cálculo do Impacto do Ponto:</strong></p><ul id="26568338-221a-80b3-9ff9-d15742588c9b" class="bulleted-list"><li style="list-style-type:disc"><code>impacto (%) = (qtde equipamentos impactados / qtde total equipamentos da agência)</code></li></ul><ul id="26568338-221a-80d8-9a9b-c36cb952282f" class="bulleted-list"><li style="list-style-type:disc">A quantidade total de equipamentos será consultada na base<strong> CEIS_Válidos</strong>.</li></ul><ul id="26568338-221a-80d8-98bb-e32d77b97b0a" class="bulleted-list"><li style="list-style-type:disc">A quantidade de impactados virá da base atual de ocorrências.</li></ul><hr id="26568338-221a-80b7-abaa-d3794f1423e6"/><ul id="26568338-221a-8018-ac3f-c7a7ebba2842" class="bulleted-list"><li style="list-style-type:disc"><strong>Critérios para classificação de criticidade:</strong></li></ul><table id="26568338-221a-80ae-86ed-eab71ca22619" class="simple-table"><thead class="simple-table-header"><tr id="26568338-221a-805a-9dd9-ceeef7733f38"><th id="yslr" class="simple-table-header-color simple-table-header">Score de Prioridade</th><th id="JC_F" class="simple-table-header-color simple-table-header">Criticidade</th></tr></thead><tbody><tr id="26568338-221a-80a7-9ab9-f2481fa13cc4"><td id="yslr" class="">Ocorrências que tiveram Cobrar = Sim</td><td id="JC_F" class="">Crítica</td></tr><tr id="26568338-221a-801a-b7ab-f34d3bf6a936"><td id="yslr" class="">600 a 799</td><td id="JC_F" class="">Média</td></tr><tr id="26568338-221a-8071-b605-dba3801b198e"><td id="yslr" class="">400 a 599</td><td id="JC_F" class="">Média</td></tr><tr id="26568338-221a-80aa-8796-d9abbb9694e9"><td id="yslr" class="">0 a 399</td><td id="JC_F" class="">Média</td></tr></tbody></table><p id="26868338-221a-803f-987d-d08e2bd88160" class="">Nessa primeira entrega, as pontuações não alteram a criticidade, apenas alimentam a coluna de prioridade.</p><h3 id="26568338-221a-8037-9d36-d5df789a3b74" class=""><strong>Informações Técnicas:</strong></h3><ul id="26568338-221a-80e3-9d5b-fd29c85175bf" class="bulleted-list"><li style="list-style-type:disc"><strong>Linguagem:</strong> Python 3.11</li></ul><ul id="26568338-221a-80f3-9f00-cdb969ea35bd" class="bulleted-list"><li style="list-style-type:disc"><strong>Serviços AWS:</strong> Lambda + API Gateway + DataDog</li></ul><ul id="26568338-221a-803e-869f-d944410410eb" class="bulleted-list"><li style="list-style-type:disc"><strong>Bases envolvidas:</strong> Banco de Dados do COPF no RDS, CEIS_VALIDOS</li></ul><ul id="26568338-221a-80cb-a1b9-c85d75241483" class="bulleted-list"><li style="list-style-type:disc"><strong>Formato de retorno esperado - </strong><mark class="highlight-orange"><strong>Sugestão IA</strong></mark><strong>:</strong></li></ul><script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/prism.min.js" integrity="sha512-7Z9J3l1+EYfeaPKcGXu3MS/7T+w19WtKQY/n+xzmw4hZhJ9tyYmcUS+4QqAlzhicE5LAfMQSF3iFTK9bQdTxXg==" crossorigin="anonymous" referrerPolicy="no-referrer"></script><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/themes/prism.min.css" integrity="sha512-tN7Ec6zAFaVSG3TpNAKtk4DOHNpSwKHxxrsiw4GHKESGPs5njn/0sMCUMl2svV4wo4BK/rCP7juYz+zx+l6oeQ==" crossorigin="anonymous" referrerPolicy="no-referrer"/><pre id="26568338-221a-8042-bddd-d233c702a0ca" class="code code-wrap"><code class="language-JSON" style="white-space:pre-wrap;word-break:break-all">{
  &quot;ocorrencia_id&quot;: &quot;abc123&quot;,
  &quot;prioridade&quot;: 145,
  &quot;criticidade&quot;: &quot;Média&quot;,
  &quot;componentes&quot;: {
    &quot;ma&quot;: 55,
    &quot;vip&quot;: 20,
    &quot;aging&quot;: 40,
    &quot;impacto&quot;: 30
  }
}</code></pre><hr id="26568338-221a-803b-a01f-cd0eefb9dddc"/><h3 id="26568338-221a-8065-8def-ec4d9b40d91f" class=""><strong>Tarefas:</strong></h3><ol type="1" id="26568338-221a-808b-98c6-ed72ba912880" class="numbered-list" start="1"><li>Validar regras de pontuação e faixas de criticidade com PM.</li></ol><ol type="1" id="26568338-221a-8048-8986-c5de5a74df30" class="numbered-list" start="2"><li>Codificar a função Lambda.</li></ol><ol type="1" id="26568338-221a-80e5-a5bf-f21009c5584d" class="numbered-list" start="3"><li>Implementar cálculo de impacto.</li></ol><ol type="1" id="26868338-221a-8093-aec9-e115f741051a" class="numbered-list" start="4"><li>Testar com ocorrências reais e validar respostas.</li></ol><ol type="1" id="26568338-221a-8067-8489-dd9fb2469f72" class="numbered-list" start="5"><li>Expor endpoint via API Gateway.</li></ol><hr id="26568338-221a-80e7-b344-dfae0d097dd7"/><h3 id="26568338-221a-8004-9016-d98c2c126caa" class=""><strong>Cenários para Teste e Homologação:</strong></h3><ul id="26568338-221a-80f5-8507-d7346119b74b" class="bulleted-list"><li style="list-style-type:disc">Lambda retorna score correto com base nas características.</li></ul><ul id="26568338-221a-8066-a5ca-ccd0222c7ce0" class="bulleted-list"><li style="list-style-type:disc">Lambda atribui <strong>criticidade correta conforme faixa de score</strong>.</li></ul><ul id="26568338-221a-8072-8ee8-eedf522791c7" class="bulleted-list"><li style="list-style-type:disc">Cálculo de impacto da agência retorna valor esperado.</li></ul><ul id="26568338-221a-804b-81e6-c43292b3c20b" class="bulleted-list"><li style="list-style-type:disc">API responde em tempo adequado e com segurança aplicada.</li></ul><hr id="26568338-221a-80e6-a9f3-f705c3521550"/><h3 id="26568338-221a-8039-8eec-f8ef28400156" class=""><strong>Critérios de Aceite:</strong></h3><p id="26568338-221a-80fd-a18d-c810fb6666f0" class="">✅ Score de 0 a 999 corretamente calculado.</p><p id="26568338-221a-8080-a949-c40695c5e7f2" class="">✅ Criticidade classificada corretamente com base no score. Os status possíveis são: Baixo, Médio, Alto, Crítico.</p><p id="26568338-221a-80af-89db-fbda03e921fd" class="">✅ Endpoint funcional e integrado ao step function.</p><p id="26568338-221a-803f-9c6f-dc406ca44cf8" class="">✅ Código versionado, com logs e testes unitários aplicados.</p><hr id="26568338-221a-806c-a4f9-d4c9a0657fdf"/><h3 id="26568338-221a-80ec-8f30-ed128abd6392" class=""><strong>Impacto Esperado:</strong></h3><ul id="26568338-221a-80be-adff-dde893fa483d" class="bulleted-list"><li style="list-style-type:disc">Aumento da assertividade nas ações operacionais.</li></ul><ul id="26568338-221a-8023-9f7c-ff03256a9def" class="bulleted-list"><li style="list-style-type:disc">Priorização objetiva e alinhada à estratégia do COPF.</li></ul><ul id="26568338-221a-80d6-b241-d7c7a43f0f62" class="bulleted-list"><li style="list-style-type:disc">Redução de subjetividade e retrabalho em tratativas.</li></ul><hr id="26568338-221a-809b-976f-c11244e471ed"/><h3 id="26568338-221a-80a3-848b-dcaeef72c4a3" class=""><strong>Conclusão:</strong></h3><ul id="26568338-221a-8037-9453-ea1685c1774f" class="bulleted-list"><li style="list-style-type:disc"><strong>Início:</strong><ul id="26568338-221a-8011-9257-e48f36a8f90a" class="bulleted-list"><li style="list-style-type:circle"><strong>Desejado:</strong> R3 S3 2025</li></ul><ul id="26568338-221a-80b9-98c2-e1076199e2ee" class="bulleted-list"><li style="list-style-type:circle"><strong>Real:</strong> R3 S3 2025</li></ul></li></ul><ul id="26568338-221a-80af-ae90-d41e1cb9e887" class="bulleted-list"><li style="list-style-type:disc"><strong>Fim:</strong><ul id="26568338-221a-80f7-a066-c4d99d1a736a" class="bulleted-list"><li style="list-style-type:circle"><strong>Desejado:</strong> R3 S3 2025</li></ul><ul id="26568338-221a-8025-aca8-c53e0848ad8a" class="bulleted-list"><li style="list-style-type:circle"><strong>Real:</strong> <em>(preencher ao fim da sprint)</em></li></ul></li></ul><ul id="26568338-221a-804a-9728-cc64e18a2c3d" class="bulleted-list"><li style="list-style-type:disc"><strong>Resultado:</strong> <em>(preencher ao fim da sprint)</em></li></ul><h2 id="26568338-221a-80c5-bc3c-fad726221b21" class="">História: [Delivery][Backend] Desenvolvimento do ETL de Ocorrências Pendentes - Insert</h2><hr id="26568338-221a-8078-84c7-fb8ff6c8ef79"/><h3 id="26568338-221a-809b-8992-c0c82b917647" class=""><strong>Visão de Produto</strong></h3><p id="26568338-221a-8005-a0f3-ebfc854a749f" class="">Ter uma base confiável e atualizada de ocorrências em aberto é essencial para priorização e gestão eficiente. Este ETL garantirá a ingestão incremental das ocorrências pendentes diretamente do Signos.</p><hr id="26568338-221a-8031-8546-f2ae38c641dd"/><h3 id="26568338-221a-800c-a2f1-f58a531afd1d" class=""><strong>Descrição</strong></h3><p id="26568338-221a-805c-ad05-d0c058697056" class="">Como engenheiro(a) de dados, queremos construir um ETL que alimente as tabelas <code>cadastro_ocorrencia</code> e <code>acompanhamento_ocorrencia</code>, com foco exclusivo em ocorrências que ainda estão abertas no Signus.</p><hr id="26568338-221a-8003-b94a-fb50ac289688"/><h3 id="26568338-221a-8000-8f8d-ed3c404ce5a2" class=""><strong>Regras de Negócio</strong></h3><ul id="26568338-221a-8006-845a-d6d1bcd9578b" class="bulleted-list"><li style="list-style-type:disc">Inserir novas ocorrências em <code>cadastro_ocorrencia</code> com os campos definidos na modelagem.</li></ul><ul id="26568338-221a-8081-b84f-ce289d7d1d23" class="bulleted-list"><li style="list-style-type:disc">Para cada nova ocorrência, gerar um registro de abertura em <code>acompanhamento_ocorrencia</code>, com:<ul id="26568338-221a-80f5-a0ba-c3a4a50cb358" class="bulleted-list"><li style="list-style-type:circle"><code>tipo_evento</code>: &quot;Abertura da ocorrência&quot;</li></ul><ul id="26568338-221a-8065-9dd3-db67f0bdd8dc" class="bulleted-list"><li style="list-style-type:circle"><code>descricao_evento</code>: &quot;Ocorrência identificada como nova&quot;</li></ul><ul id="26568338-221a-8060-8f61-d869edd50430" class="bulleted-list"><li style="list-style-type:circle"><code>data_hora_comunicacao_enviada</code>: timestamp da data/hora abertura ocorrência</li></ul></li></ul><ul id="26568338-221a-8018-8ee3-ffa4ad16dc85" class="bulleted-list"><li style="list-style-type:disc">O campo <code>criticidade_ocorrencia</code> <strong>não permite valores nulos</strong>, conforme a modelagem.<ul id="26568338-221a-80b2-9046-fba028b082da" class="bulleted-list"><li style="list-style-type:circle">Nesta primeira versão, todas as ocorrências pendentes serão inseridas com <strong>criticidade = &quot;Média&quot;</strong>.<ul id="26568338-221a-8075-bae9-e33c74a667e3" class="bulleted-list"><li style="list-style-type:square">Utilizar o <strong>código da criticidade &quot;Média&quot;</strong> da tabela <code>criticidade_ocorrencia</code> para preencher esse campo.</li></ul></li></ul></li></ul><hr id="26568338-221a-80a8-b49d-f32e63f2931a"/><h3 id="26568338-221a-80ca-84b4-c396c6b31851" class=""><strong>Informações Técnicas</strong></h3><ul id="26568338-221a-806f-84ef-f04eb7dd3a62" class="bulleted-list"><li style="list-style-type:disc">Executado como Lambda.</li></ul><ul id="26868338-221a-8011-abec-f16f1b131080" class="bulleted-list"><li style="list-style-type:disc">A execução da Lambda será feita dentro de uma Step Function, com um trigger iniciado pelo EventBridge.</li></ul><ul id="26868338-221a-80c8-ab61-ed758d610106" class="bulleted-list"><li style="list-style-type:disc">Haverá uma step function que contempla:<ul id="26868338-221a-80d0-a31b-f76650ad5d74" class="bulleted-list"><li style="list-style-type:circle">Lambda de Ocorrências Pendentes</li></ul><ul id="26868338-221a-80fd-b438-ca4a6ebbf9f6" class="bulleted-list"><li style="list-style-type:circle">Lambda de Cálculo de Prioridade</li></ul></li></ul><hr id="26568338-221a-8065-b6b5-f0663e044614"/><h3 id="26568338-221a-8051-9c36-d32b24686a1b" class=""><strong>Tarefas</strong></h3><ol type="1" id="26568338-221a-80d8-9029-fd810b41b5f1" class="numbered-list" start="1"><li>Mapear campos Signus → Modelagem COPF.</li></ol><ol type="1" id="26568338-221a-80d8-b80e-eb177dcc186d" class="numbered-list" start="2"><li>Criar função Lambda para ingestão incremental.</li></ol><ol type="1" id="26568338-221a-80e2-8cef-d20b5556412c" class="numbered-list" start="3"><li>Popular <code>cadastro_ocorrencia</code> com novas pendências.</li></ol><ol type="1" id="26568338-221a-8020-915a-dc0c9c89fd87" class="numbered-list" start="4"><li>Preencher o campo <code>criticidade_ocorrencia</code> com código da criticidade &quot;Média&quot; (por que atualmente demanda um valor (futuramente devemos mudar a modelagem para permitir valor nullable).</li></ol><ol type="1" id="26568338-221a-8047-a02e-c093c5a2e753" class="numbered-list" start="5"><li>Gerar entrada correspondente em <code>acompanhamento_ocorrencia</code>.</li></ol><ol type="1" id="26568338-221a-8058-98e9-e15e6527dbf6" class="numbered-list" start="6"><li>Validar se dados relacionais (ex: agência, equipamento, sintoma, criticidade) estão consistentes.</li></ol><ol type="1" id="26568338-221a-80dc-bb0e-e554d9dca5fe" class="numbered-list" start="7"><li>Testar execução manual.</li></ol><ol type="1" id="26568338-221a-805c-8c74-c1248aaf99c8" class="numbered-list" start="8"><li>Garantir logging básico e rastreabilidade com Datadog.</li></ol><hr id="26568338-221a-806f-8271-d78e3528d5bd"/><h3 id="26568338-221a-8056-ab15-f04bc674d9ba" class=""><strong>Critérios de Aceite</strong></h3><ul id="26568338-221a-8086-8b37-cdccbe7b035e" class="to-do-list"><li><div class="checkbox checkbox-off"></div> <span class="to-do-children-unchecked">Ocorrências novas alimentam corretamente a tabela <code>cadastro_ocorrencia</code>.</span><div class="indented"></div></li></ul><ul id="26568338-221a-80a3-b873-d8fef9bf837d" class="to-do-list"><li><div class="checkbox checkbox-off"></div> <span class="to-do-children-unchecked">Cada nova ocorrência gera um evento de abertura em <code>acompanhamento_ocorrencia</code>.</span><div class="indented"></div></li></ul><ul id="26568338-221a-80fe-b971-c6f8b511d6ba" class="to-do-list"><li><div class="checkbox checkbox-off"></div> <span class="to-do-children-unchecked">Não há duplicidade em reprocessamentos.</span><div class="indented"></div></li></ul><ul id="26568338-221a-80be-8e0e-c97a535f21db" class="to-do-list"><li><div class="checkbox checkbox-off"></div> <span class="to-do-children-unchecked">Campo <code>criticidade_ocorrencia</code> é preenchido corretamente com código da criticidade &quot;Média&quot;.</span><div class="indented"></div></li></ul><ul id="26568338-221a-804f-a3a4-ead91aea96e8" class="to-do-list"><li><div class="checkbox checkbox-off"></div> <span class="to-do-children-unchecked">Logging no Datadog está ativo.</span><div class="indented"></div></li></ul><h2 id="26568338-221a-80b7-ad94-fe786adc4fb7" class="">História: [Delivery][Backend] Desenvolvimento do ETL de Ocorrências Pendentes - Update</h2><hr id="26568338-221a-8048-8e28-dcd043eda3a6"/><h3 id="26568338-221a-809d-a091-db927972a495" class=""><strong>Visão de Produto</strong></h3><p id="26568338-221a-8096-9d39-c7dc741b690c" class="">Garantir que os dados das ocorrências em aberto estejam sempre atualizados é essencial para refletir a realidade operacional nas ferramentas de gestão. No ETL de Ocorrências Pendentes, há a capacidade de atualizar periodicamente alguns dos campos das ocorrências já inseridas (realizando update), assegurando confiabilidade nas análises e nas decisões.</p><hr id="26568338-221a-80e2-9867-ef51fcf68e0f"/><h3 id="26568338-221a-8077-83e8-e2a9a26393c8" class=""><strong>Descrição</strong></h3><p id="26568338-221a-804b-80bc-e82f4b1e6773" class="">Como engenheiro(a) de dados do Monitora Ops (COPF), queremos implementar uma etapa no ETL de Ocorrências Pendentes que atualize os campos relevantes das ocorrências que continuam abertas no Signus, assegurando que alterações de status, fornecedor, impedimentos, SLA e datas sejam refletidas nas tabelas <code>cadastro_ocorrencia</code> e <code>acompanhamento_ocorrencia</code>.</p><hr id="26568338-221a-805a-9ba4-d9c09517039b"/><h3 id="26568338-221a-80a5-bcad-e8ec5cfa0955" class=""><strong>Regras de Negócio</strong></h3><ul id="26568338-221a-8066-9db4-db11a2959df1" class="bulleted-list"><li style="list-style-type:disc">Atualizar apenas ocorrências que já estejam registradas na tabela <code>cadastro_ocorrencia</code>.</li></ul><ul id="26568338-221a-80c9-bc66-eabadfaa6682" class="bulleted-list"><li style="list-style-type:disc">Atualizar os seguintes campos:<ul id="26568338-221a-8006-a94e-ff46ecb79d8d" class="bulleted-list"><li style="list-style-type:circle"><code>fornecedor_id</code></li></ul><ul id="26868338-221a-80f9-b251-d8f472aa2ab2" class="bulleted-list"><li style="list-style-type:circle"><code>data_transferencia e hora_transferencia</code></li></ul><ul id="26568338-221a-80d0-b22b-d06098c73086" class="bulleted-list"><li style="list-style-type:circle"><code>status_ocorrencia</code></li></ul><ul id="26568338-221a-800a-8fa6-dc2ca01741a7" class="bulleted-list"><li style="list-style-type:circle"><code>sla_ocorrencia</code></li></ul><ul id="26568338-221a-8062-91b4-ced9d2ac17f4" class="bulleted-list"><li style="list-style-type:circle"><code>previsao_atendimento</code></li></ul><ul id="26568338-221a-809d-a911-ee08c71a6827" class="bulleted-list"><li style="list-style-type:circle"><code>possui_impedimento</code> e <code>motivo_impedimento</code></li></ul></li></ul><ul id="26568338-221a-805f-a8fc-c1731c69f070" class="bulleted-list"><li style="list-style-type:disc">Atualizações que geram registro na tabela <code>acompanhamento_ocorrencia</code>:<ul id="26568338-221a-80bf-8b88-cc4370c972de" class="bulleted-list"><li style="list-style-type:circle">Alteração de previsão de atendimento<ul id="26568338-221a-8015-8bc8-c67057525219" class="bulleted-list"><li style="list-style-type:square"><code>tipo_evento</code>: &quot;Atualização Previsão de Atendimento&quot;</li></ul><ul id="26568338-221a-800b-b0ea-d8c1dff3f269" class="bulleted-list"><li style="list-style-type:square"><code>descricao_evento</code>: descrição do(s) campo(s) alterado(s)</li></ul><ul id="26568338-221a-80c7-9678-e40d553a2040" class="bulleted-list"><li style="list-style-type:square"><code>data_hora_comunicacao_enviada</code>: timestamp atual</li></ul></li></ul><ul id="26568338-221a-8070-a73c-d14fa28da33b" class="bulleted-list"><li style="list-style-type:circle">Inclusão de impedimento/Alteração de impedimento/Remoção de impedimento<ul id="26568338-221a-8055-b2c7-dcc02280d564" class="bulleted-list"><li style="list-style-type:square"><code>tipo_evento</code>: &quot;Inclusão de Impedimento&quot;</li></ul><ul id="26568338-221a-80d5-9910-dac44da0f9da" class="bulleted-list"><li style="list-style-type:square"><code>descricao_evento</code>: descrição do(s) campo(s) alterado(s). Incluir motivo.</li></ul><ul id="26568338-221a-80a9-bb59-d99fd427c9ee" class="bulleted-list"><li style="list-style-type:square"><code>data_hora_comunicacao_enviada</code>: timestamp atual</li></ul></li></ul></li></ul><hr id="26568338-221a-801f-beb9-fcdfbcdfb505"/><h3 id="26568338-221a-809d-9a58-e9f86434b163" class=""><strong>Informações Técnicas</strong></h3><ul id="26568338-221a-80e0-8919-cda0c0fb11b7" class="bulleted-list"><li style="list-style-type:disc">Executado na Lambda do ‘ETL de Ocorrências Pendentes’.</li></ul><ul id="26568338-221a-80a7-94fa-cc1675cd2484" class="bulleted-list"><li style="list-style-type:disc">Atualização incremental por partição de dados (ano, mês, dia, hora, minuto).</li></ul><ul id="26568338-221a-809a-8b82-cfc6b6555ddd" class="bulleted-list"><li style="list-style-type:disc">Leitura comparativa dos dados atuais no banco versus payload do Signus.</li></ul><ul id="26568338-221a-8040-a890-fac6e0a446e8" class="bulleted-list"><li style="list-style-type:disc">Garantir integridade referencial com:<ul id="26568338-221a-801a-a177-ebfb6f26a656" class="bulleted-list"><li style="list-style-type:circle"><code>agencia</code></li></ul><ul id="26568338-221a-8054-a811-f5f722ab3d99" class="bulleted-list"><li style="list-style-type:circle"><code>equipamento</code></li></ul><ul id="26568338-221a-80a8-875b-fe1a9b478912" class="bulleted-list"><li style="list-style-type:circle"><code>sintoma_ocorrencia</code></li></ul><ul id="26568338-221a-8030-ab6f-fa5750fbeebf" class="bulleted-list"><li style="list-style-type:circle"><code>criticidade_ocorrencia</code></li></ul></li></ul><hr id="26568338-221a-8023-9af3-eec60a474157"/><h3 id="26568338-221a-8086-9ad8-c16baa540d9f" class=""><strong>Tarefas</strong></h3><ol type="1" id="26568338-221a-8052-bdbb-ccdffef3676e" class="numbered-list" start="1"><li>Mapear campos do Signus que podem sofrer atualização - Validar com PM.</li></ol><ol type="1" id="26568338-221a-801e-92c6-db34af9b2810" class="numbered-list" start="2"><li>Construir lógica de detecção de alterações campo a campo.</li></ol><ol type="1" id="26568338-221a-8081-9f07-facde78ef870" class="numbered-list" start="3"><li>Criar rotina incremental no Lambda com controle por timestamp.</li></ol><ol type="1" id="26568338-221a-8086-aade-f18efcd3304a" class="numbered-list" start="4"><li>Atualizar os dados em <code>cadastro_ocorrencia</code> apenas se houver alteração.</li></ol><ol type="1" id="26568338-221a-8007-be41-f2858646bb53" class="numbered-list" start="5"><li>Gerar entrada em <code>acompanhamento_ocorrencia</code> com campos alterados.</li></ol><ol type="1" id="26568338-221a-809b-b96f-fb0221d7b6b0" class="numbered-list" start="6"><li>Validar consistência de chaves estrangeiras.</li></ol><ol type="1" id="26568338-221a-8051-82cc-d4904a9f0cb3" class="numbered-list" start="7"><li>Implementar logs de alterações para rastreabilidade usando o Datadog.</li></ol><ol type="1" id="26568338-221a-80d7-9aaa-c9f97dd255cd" class="numbered-list" start="8"><li>Testar a execução com casos simulados de atualização.</li></ol><hr id="26568338-221a-804a-ae39-d2461ef7058b"/><h3 id="26568338-221a-801b-a7a6-c119c85334fb" class=""><strong>Critérios de Aceite</strong></h3><ul id="26568338-221a-8060-8e2e-fd9b0fa6cfb8" class="to-do-list"><li><div class="checkbox checkbox-off"></div> <span class="to-do-children-unchecked">Apenas ocorrências existentes e pendentes são atualizadas (sem sobrescrever ocorrências encerradas).</span><div class="indented"></div></li></ul><ul id="26568338-221a-806a-b4c9-e68bb46cc4ab" class="to-do-list"><li><div class="checkbox checkbox-off"></div> <span class="to-do-children-unchecked">Algumas alteração geram eventos de atualizações em <code>acompanhamento_ocorrencia</code>.</span><div class="indented"></div></li></ul><ul id="26568338-221a-80a3-8c44-e20c208f8907" class="to-do-list"><li><div class="checkbox checkbox-off"></div> <span class="to-do-children-unchecked">Campos atualizados refletem as mudanças no Signus.</span><div class="indented"></div></li></ul><ul id="26568338-221a-80d3-95d3-ee76171fd2f4" class="to-do-list"><li><div class="checkbox checkbox-off"></div> <span class="to-do-children-unchecked">Logs permitem rastrear quais ocorrências foram atualizadas e quais campos mudaram.</span><div class="indented"></div></li></ul><h2 id="26968338-221a-8035-80be-ec590bce7730" class="">História: [Infraestrutura][EventBridge] Parametrização do cron para o gatilho da Step Function de Ocorrências Pendentes</h2><h3 id="26968338-221a-8049-a987-e2ade47d2c59" class=""><strong>Visão de Produto</strong></h3><p id="26968338-221a-80fc-80f9-eed8c57a003c" class="">Acreditamos que, ao <strong>orquestrar a execução frequente da Step Function que contém as Lambdas de ingestão de ocorrências em aberto e cálculo de prioridade</strong>, garantiremos <strong>atualização constante da base operacional com baixa latência</strong>, permitindo que os dados estejam sempre sincronizados para análise e decisão.</p><p id="26968338-221a-8003-b724-e4389406adc3" class="">Saberemos que isso é verdade quando <strong>as ocorrências pendentes e suas prioridades estiverem atualizadas em intervalos regulares sem necessidade de acionamento manual</strong>.</p><hr id="26968338-221a-8058-b7f4-ccf955ba0f75"/><h3 id="26968338-221a-800c-ba56-dde591e7edd2" class=""><strong>Descrição</strong></h3><p id="26968338-221a-8054-8b82-fc74076a85e9" class="">Como time de infraestrutura do COPF, queremos <strong>configurar uma regra de cron do EventBridge</strong> para acionar automaticamente a Step Function de ocorrências pendentes a cada 15 minutos, para que o processo de ingestão e priorização rode de forma contínua e confiável.</p><p id="26968338-221a-8056-a666-f3f53efaaeaa" class=""><strong>Escopo:</strong></p><ul id="26968338-221a-8053-a84d-c84da1473476" class="bulleted-list"><li style="list-style-type:disc">Criar regra de cron no EventBridge.</li></ul><ul id="26968338-221a-8031-91ee-f33c32331524" class="bulleted-list"><li style="list-style-type:disc">Acionar a Step Function configurada.</li></ul><ul id="26968338-221a-80f9-af3e-c0ae8d6e93a3" class="bulleted-list"><li style="list-style-type:disc">Validar execução automatizada e logs de sucesso/erro.</li></ul><hr id="26968338-221a-8088-96fe-e612a788d5e3"/><h3 id="26968338-221a-80d7-83f5-ce2ff00b31da" class=""><strong>Visão do Usuário</strong></h3><p id="26968338-221a-8037-836b-fce2ec918171" class="">Usuários operacionais e gestores terão dados de ocorrências e prioridades sempre atualizados sem necessidade de execuções manuais, aumentando confiabilidade e reduzindo atrasos.</p><hr id="26968338-221a-8025-b708-d9b214aa8d78"/><h3 id="26968338-221a-806b-93f5-c62f2c4b575a" class=""><strong>Contexto / Narrativa de Negócio</strong></h3><p id="26968338-221a-80ed-b993-da0404ccf8b3" class="">Com o cron, garantimos <strong>execução contínua e governada pela infraestrutura</strong>, com menor risco de falhas humanas.</p><hr id="26968338-221a-8013-afd4-dc4e8c2df280"/><h3 id="26968338-221a-8043-b41d-c2d789a31418" class=""><strong>Premissas</strong></h3><ol type="1" id="26968338-221a-80c3-a756-e90e772d8aee" class="numbered-list" start="1"><li>Lambda de ocorrências pendentes já publicada.</li></ol><ol type="1" id="26968338-221a-80bc-8aae-ec5b2c4d8f3f" class="numbered-list" start="2"><li>Lambda de ranking já publicada;</li></ol><ol type="1" id="26968338-221a-80a2-8573-f89a5cd3fc94" class="numbered-list" start="3"><li>Permissões IAM já criadas para execução da Step Function.</li></ol><ol type="1" id="26968338-221a-80ca-8cfa-d9866aba023a" class="numbered-list" start="4"><li>Logs de execução disponíveis no Datadog/CloudWatch.</li></ol><hr id="26968338-221a-80d0-82e0-cfe00b80020c"/><h3 id="26968338-221a-808c-b504-fd9be95fb535" class=""><strong>Regras de Negócio</strong></h3><ol type="1" id="26968338-221a-808b-b9e7-e742a643aac5" class="numbered-list" start="1"><li>A Step Function deve ser acionada a cada 15 minutos.</li></ol><ol type="1" id="26968338-221a-80ad-908f-f8b6cab30e51" class="numbered-list" start="2"><li>Execuções devem registrar logs completos (início, fim, falha, sucesso).</li></ol><ol type="1" id="26968338-221a-804a-8364-d1973220f7b0" class="numbered-list" start="3"><li>Em caso de falha, notificação deve ser enviada para o canal de monitoramento.</li></ol><hr id="26968338-221a-801a-8d6a-c20deb7b934e"/><h3 id="26968338-221a-8090-a40d-c44800c26829" class=""><strong>Informações Técnicas</strong></h3><ul id="26968338-221a-8077-b983-d06d1e0f67d2" class="bulleted-list"><li style="list-style-type:disc"><strong>Serviço:</strong> AWS EventBridge + Step Functions.</li></ul><ul id="26968338-221a-804d-83e6-f78d698ee62c" class="bulleted-list"><li style="list-style-type:disc"><strong>Agendamento:</strong> cron(0/15 * * * ? *).</li></ul><ul id="26968338-221a-80be-82d1-e7f13338587b" class="bulleted-list"><li style="list-style-type:disc"><strong>Observabilidade:</strong> CloudWatch Logs + Datadog.</li></ul><ul id="26968338-221a-80d3-9325-dc53485ffb38" class="bulleted-list"><li style="list-style-type:disc"><strong>Segurança:</strong> IAM Role vinculada ao EventBridge com permissão para invocar a Step Function.</li></ul><hr id="26968338-221a-80d9-9126-fc63c8bd1641"/><h3 id="26968338-221a-80fc-84eb-ec74679af4f2" class=""><strong>Tarefas</strong></h3><ol type="1" id="26968338-221a-8021-b509-c1ca45161f34" class="numbered-list" start="1"><li>Criar regra de cron no EventBridge.</li></ol><ol type="1" id="26968338-221a-8050-bedd-f6250617ae1e" class="numbered-list" start="2"><li>Configurar destino como Step Function de ocorrências pendentes.</li></ol><ol type="1" id="26968338-221a-80b1-939b-c9b68b225947" class="numbered-list" start="3"><li>Validar execução periódica em ambiente de teste.</li></ol><ol type="1" id="26968338-221a-802e-9b42-d08df8d7ebbb" class="numbered-list" start="4"><li>Garantir geração de logs e rastreabilidade.</li></ol><hr id="26968338-221a-800d-8b47-d8a6c0f5a9d6"/><h3 id="26968338-221a-801e-9b9c-f5d61132769e" class=""><strong>Cenários para Teste e Homologação</strong></h3><ol type="1" id="26968338-221a-804b-b20a-d6f887c05622" class="numbered-list" start="1"><li>Step Function é acionada automaticamente a cada 15 minutos.</li></ol><ol type="1" id="26968338-221a-80fe-a20a-f3a786126a20" class="numbered-list" start="2"><li>Logs de execução aparecem no CloudWatch/Datadog.</li></ol><ol type="1" id="26968338-221a-8084-88ae-c53665f8f179" class="numbered-list" start="3"><li>Em caso de erro, logs permitem identificar falha.</li></ol><ol type="1" id="26968338-221a-8009-8aa2-f1a39e389509" class="numbered-list" start="4"><li>Dados de ocorrências são atualizados conforme esperado no intervalo.</li></ol><hr id="26968338-221a-801d-8184-f0ed1c99f2c2"/><h3 id="26968338-221a-8085-98e8-e3b4bbe10d24" class=""><strong>Critérios de Aceite</strong></h3><ul id="26968338-221a-8007-be36-d19126eeb019" class="to-do-list"><li><div class="checkbox checkbox-off"></div> <span class="to-do-children-unchecked">A <strong>Step Function de Ocorrências Pendentes</strong> é acionada automaticamente pelo EventBridge a cada <strong>15 minutos</strong>, sem necessidade de disparo manual.</span><div class="indented"></div></li></ul><ul id="26968338-221a-8002-8c93-dc1abee6f4ad" class="to-do-list"><li><div class="checkbox checkbox-off"></div> <span class="to-do-children-unchecked">Os <strong>logs de execução</strong> ficam disponíveis no <strong>CloudWatch</strong> e integrados ao <strong>Datadog</strong>, registrando início, fim, sucesso e falhas.</span><div class="indented"></div></li></ul><ul id="26968338-221a-80c8-9e22-d20546721a71" class="to-do-list"><li><div class="checkbox checkbox-off"></div> <span class="to-do-children-unchecked">Em caso de falha na execução, um <strong>alerta é disparado para o canal de monitoramento</strong> definido (ex.: Datadog alert) - <mark class="highlight-orange">Sugestão IA</mark>.</span><div class="indented"></div></li></ul><ul id="26968338-221a-80dd-9116-d2791c7434f5" class="to-do-list"><li><div class="checkbox checkbox-off"></div> <span class="to-do-children-unchecked">A execução da Step Function resulta na <strong>atualização das tabelas de ocorrências pendentes</strong> dentro do SLA.</span><div class="indented"></div></li></ul><ul id="26968338-221a-8018-bf01-fa8e8946d723" class="to-do-list"><li><div class="checkbox checkbox-off"></div> <span class="to-do-children-unchecked">Teste de homologação comprova que, após pelo menos <strong>3 execuções consecutivas</strong>, os dados são atualizados corretamente e os logs estão íntegros - <mark class="highlight-orange">Sugestão IA</mark>.</span><div class="indented"></div></li></ul><hr id="26968338-221a-8065-802c-f7d32339387e"/><h3 id="26968338-221a-806c-badf-d93ec2f9ddf0" class=""><strong>Impacto Esperado</strong></h3><ul id="26968338-221a-8062-923c-e7fb1fd29b6b" class="bulleted-list"><li style="list-style-type:disc">Atualização constante da base de ocorrências.</li></ul><ul id="26968338-221a-80f0-b433-d636727e0440" class="bulleted-list"><li style="list-style-type:disc">Redução de latência entre evento no Signus e disponibilidade no COPF.</li></ul><ul id="26968338-221a-800a-8d16-d50194444d00" class="bulleted-list"><li style="list-style-type:disc">Menor dependência de execuções manuais.</li></ul><hr id="26968338-221a-80e7-abdb-ece48d1638f6"/><h3 id="26968338-221a-808e-811e-cea2dd7f47bd" class=""><strong>Conclusão</strong></h3><ul id="26968338-221a-80b9-a219-dcb07db02171" class="bulleted-list"><li style="list-style-type:disc"><strong>Início:</strong><ul id="26968338-221a-80a9-a4d5-cb79214a4c4d" class="bulleted-list"><li style="list-style-type:circle"><strong>Desejado:</strong> R3 S3 2025</li></ul><ul id="26968338-221a-80b3-81b8-e499779825f6" class="bulleted-list"><li style="list-style-type:circle"><strong>Real:</strong> R3 S3 2025</li></ul></li></ul><ul id="26968338-221a-8050-8b8d-e06f4a93f57a" class="bulleted-list"><li style="list-style-type:disc"><strong>Fim:</strong><ul id="26968338-221a-80d8-85db-fa13ef31a55b" class="bulleted-list"><li style="list-style-type:circle"><strong>Desejado:</strong> R3 S3 2025</li></ul><ul id="26968338-221a-80e4-94c4-e9376a4b612e" class="bulleted-list"><li style="list-style-type:circle"><strong>Real:</strong> <em>(preencher ao fim da sprint)</em></li></ul></li></ul><ul id="26968338-221a-806b-9994-f0ebe773eb55" class="bulleted-list"><li style="list-style-type:disc"><strong>Resultado:</strong> <em>(preencher ao fim da sprint)</em></li></ul><h2 id="26968338-221a-802a-80f6-cb6d306d6fd0" class="">História: [Delivery][Backend] Desenvolvimento do ETL de Ocorrências Encerradas</h2><h3 id="26968338-221a-8080-8510-c19007dfac4f" class=""><strong>Visão de Produto</strong></h3><p id="26968338-221a-8084-8950-dba5f7ab4fc5" class="">Acreditamos que, ao <strong>disponibilizar um pipeline diário com as ocorrências encerradas</strong>, será possível oferecer <strong>histórico consistente para análises retroativas, evolução de performance e indicadores de encerramento no COPF</strong>.</p><p id="26968338-221a-800b-9f91-d050fb6cf266" class="">Saberemos que isso é verdade quando <strong>os dados de ocorrências encerradas estiverem disponíveis diariamente e forem utilizados em análises históricas e relatórios de performance</strong>.</p><hr id="26968338-221a-8010-b817-f2f811d1464b"/><h3 id="26968338-221a-80f7-97a5-fddec9dded22" class=""><strong>Descrição</strong></h3><p id="26968338-221a-80e3-9cec-ce21f89d3efc" class="">Como <strong>time de dados do COPF</strong>, queremos:</p><ol type="1" id="26968338-221a-80a4-bdac-dd2c8dcd1c00" class="numbered-list" start="1"><li><strong>Criar um ETL</strong> para ingestão das ocorrências encerradas no <strong>Signus</strong>, com execução diária às <strong>07h da manhã</strong>, agendada via <strong>EventBridge</strong>.</li></ol><ol type="1" id="26968338-221a-80d6-91c6-c8afdbb4fdba" class="numbered-list" start="2"><li>As ocorrências encerradas podem já estar constando no banco de dados do RDS COPF (pois estavam anteriormente pendentes).</li></ol><ol type="1" id="26968338-221a-800b-ae2b-cfad4760c876" class="numbered-list" start="3"><li><strong>Atualizar os dados</strong> em estrutura compatível com histórico analítico e dashboards do COPF.</li></ol><hr id="26968338-221a-802e-b20f-d888657525ce"/><h3 id="26968338-221a-803c-8709-d2bfef608822" class=""><strong>Visão do Usuário</strong></h3><p id="26968338-221a-8063-bf17-c8c91b1acb77" class="">Gestores e analistas precisam ter acesso a <strong>dados históricos confiáveis de encerramento</strong> para:</p><ul id="26968338-221a-801e-b976-f739afa30ddd" class="bulleted-list"><li style="list-style-type:disc">mensurar eficiência operacional (ex: percentual de ocorrências encerradas por dia);</li></ul><ul id="26968338-221a-805e-8a4b-d8a28f0936f5" class="bulleted-list"><li style="list-style-type:disc">calcular tempo médio de resolução (ex: MTTR);</li></ul><ul id="26968338-221a-80f6-9eda-c51226a73504" class="bulleted-list"><li style="list-style-type:disc">identificar gargalos (ex: há algum tipo de fornecedor ou equipamento que tem maior MTTR?0;</li></ul><ul id="26968338-221a-80a6-ad98-e13725e2d6a9" class="bulleted-list"><li style="list-style-type:disc">gerar indicadores estratégicos de performance.</li></ul><hr id="26968338-221a-80f0-8f1a-c40e7997743a"/><h3 id="26968338-221a-803f-892b-f157e3bff430" class=""><strong>Contexto / Narrativa de Negócio</strong></h3><p id="26968338-221a-803c-b4e0-fd18cb77c547" class="">Atualmente, o COPF não possui um histórico consolidado de ocorrências encerradas, dificultando análises retroativas e comparações de performance ao longo do tempo. O ETL permitirá que o histórico seja construído e atualizado diariamente, reforçando a governança e qualidade das análises.</p><hr id="26968338-221a-8059-9e1f-e0b88f91c274"/><h3 id="26968338-221a-8063-ac24-d8bab39b984c" class=""><strong>Premissas</strong></h3><ol type="1" id="26968338-221a-80e1-9905-e9de0ca57d95" class="numbered-list" start="1"><li>O <strong>Signus </strong>possui uma tabela democratizada de ocorrências encerradas.</li></ol><ol type="1" id="26968338-221a-80ca-b178-e6d4b19d4a77" class="numbered-list" start="2"><li>A execução via <strong>EventBridge (07h)</strong> já está validada pela arquitetura de soluções.</li></ol><ol type="1" id="26968338-221a-80b9-b9d1-d1854522404a" class="numbered-list" start="3"><li>A modelagem analítica do COPF aceita a atualização das ocorrências, com a operação de upsert de ocorrências encerrados.</li></ol><hr id="26968338-221a-80bb-826b-f979f7b47f9f"/><h3 id="26968338-221a-80fd-afee-ff238dcb91c8" class=""><strong>Regras de Negócio</strong></h3><ol type="1" id="26968338-221a-809b-8518-dc6dc491ddec" class="numbered-list" start="1"><li>Devem ser considerados <strong>apenas registros com status “Encerrado”</strong> no Signus.<ol type="a" id="26968338-221a-80be-953a-ec47e9a46d65" class="numbered-list" start="1"><li>Utilização da tabela do Data Mesh: histórico_ocorrências_fechadas__thf___</li></ol></li></ol><ol type="1" id="26968338-221a-80aa-9606-f13197572c12" class="numbered-list" start="2"><li>Campos obrigatórios a serem atualizados:<ul id="26968338-221a-80e6-997f-f87e83ee6b38" class="bulleted-list"><li style="list-style-type:disc"><strong>Status da ocorrência</strong><ul id="26968338-221a-80bd-a27f-cc43e1e81d83" class="bulleted-list"><li style="list-style-type:circle">Encerrada</li></ul></li></ul><ul id="26968338-221a-803f-b5dd-dc3b36e00e3f" class="bulleted-list"><li style="list-style-type:disc"><strong>Data de encerramento;</strong></li></ul><ul id="26968338-221a-806d-b911-d1ff7deb4fec" class="bulleted-list"><li style="list-style-type:disc"><strong>SLA</strong>;</li></ul><ul id="26968338-221a-8053-97e8-e4275c9044a5" class="bulleted-list"><li style="list-style-type:disc"><strong>Previsão de atendimento</strong><ul id="26968338-221a-8046-a80c-c57a94cf041f" class="bulleted-list"><li style="list-style-type:circle">Último status de previsão de atendimento que estava ativo antes da ocorrência ser encerrada</li></ul></li></ul><ul id="26968338-221a-8004-93f3-d0c6fe8ac4ec" class="bulleted-list"><li style="list-style-type:disc"><strong>Responsável</strong><ul id="26968338-221a-80ab-ad75-c3fdbf65c8bb" class="bulleted-list"><li style="list-style-type:circle">Última classe que estava antes da ocorrência ser encerrada</li></ul></li></ul></li></ol><ol type="1" id="26968338-221a-808b-b915-e52cff5c7048" class="numbered-list" start="3"><li>A carga deve ser <strong>diária e incremental</strong>, evitando duplicidades.</li></ol><ol type="1" id="26968338-221a-80cb-85e0-ccbf4e1f0cbd" class="numbered-list" start="4"><li>Quando uma ocorrência for encerrada, um evento deve ser enviado para a tabela <code>acompanhamento_ocorrencia</code> com:<ul id="26968338-221a-8039-95af-fdd322efe440" class="bulleted-list"><li style="list-style-type:disc"><code>tipo_evento</code>: &quot;Encerramento da ocorrência&quot;</li></ul><ul id="26968338-221a-8052-959a-cea8e40f8bb8" class="bulleted-list"><li style="list-style-type:disc"><code>descricao_evento</code>: &quot;Ocorrência identificada como encerrada&quot;</li></ul><ul id="26968338-221a-8088-97ef-e862ca7f0bec" class="bulleted-list"><li style="list-style-type:disc"><code>data_hora_comunicacao_enviada</code>: timestamp da data/hora encerramento ocorrência</li></ul><p id="26968338-221a-8060-8e51-c7d40ec52d53" class="">Validar com o TechLead como deve se comportar a inclusão do evento na <mark class="highlight-red_background">Tabela de Acompanhamento de Ocorrência - Ocorrência Encerrada</mark></p></li></ol><hr id="26968338-221a-80d9-9c4a-f066313470ea"/><h3 id="26968338-221a-80ca-9a94-e3e66441a279" class=""><strong>Informações Técnicas</strong></h3><ul id="26968338-221a-8060-8a47-d208d2d9ddfa" class="bulleted-list"><li style="list-style-type:disc"><strong>Execução:</strong> Lambda + Step Function acionada pelo EventBridge às 07h.</li></ul><ul id="26968338-221a-802f-ab9c-ea2ec1a34d17" class="bulleted-list"><li style="list-style-type:disc"><strong>Fonte:</strong> API/Tabela de Ocorrências do Signus (Mesh).</li></ul><ul id="26968338-221a-80a3-87c3-e7cb2a8a6577" class="bulleted-list"><li style="list-style-type:disc"><strong>Destino:</strong> Tabela <code>cadastro_ocorrencia</code> no RDS COPF.</li></ul><ul id="26968338-221a-803b-bae8-d1112f7f7895" class="bulleted-list"><li style="list-style-type:disc"><strong>Observabilidade:</strong> Logs e métricas no Datadog + CloudWatch.</li></ul><hr id="26968338-221a-8085-bfd2-c64fcc90d626"/><h3 id="26968338-221a-8079-a2e6-dccedd0cd0da" class=""><strong>Tarefas</strong></h3><ol type="1" id="26968338-221a-8084-b8b6-d635e210bd6d" class="numbered-list" start="1"><li>Desenvolver o pipeline para ingestão das ocorrências encerradas.</li></ol><ol type="1" id="26968338-221a-80a8-801f-d0721c918e0c" class="numbered-list" start="2"><li>Configurar agendamento via EventBridge às 07h.</li></ol><ol type="1" id="26968338-221a-80d4-9fb0-e67b3e9d0ad6" class="numbered-list" start="3"><li>Criar tabela/estrutura analítica para histórico de encerramento.</li></ol><ol type="1" id="26968338-221a-806f-9333-d39af10ecb5f" class="numbered-list" start="4"><li>Validar volumetria, consistência e esquema da base.</li></ol><ol type="1" id="26968338-221a-8031-9e62-cf2f10061bd5" class="numbered-list" start="5"><li>Implementar logs e monitoramento do processo.</li></ol><hr id="26968338-221a-800d-8028-d0bbce7d0fc1"/><h3 id="26968338-221a-80ee-9187-f1d2d41b2288" class=""><strong>Cenários para Teste e Homologação</strong></h3><ul id="26968338-221a-808f-88dd-d911c8696272" class="to-do-list"><li><div class="checkbox checkbox-off"></div> <span class="to-do-children-unchecked">Ocorrências encerradas são carregadas diariamente sem falhas.</span><div class="indented"></div></li></ul><ul id="26968338-221a-8007-9d2f-eb0669930158" class="to-do-list"><li><div class="checkbox checkbox-off"></div> <span class="to-do-children-unchecked">Dados refletem corretamente os status de encerramento do Signus.</span><div class="indented"></div></li></ul><ul id="26968338-221a-8046-b19e-e47fe7cd901e" class="to-do-list"><li><div class="checkbox checkbox-off"></div> <span class="to-do-children-unchecked">Não há duplicidade de registros em cargas sucessivas.</span><div class="indented"></div></li></ul><ul id="26968338-221a-80a8-972e-db03a672869a" class="to-do-list"><li><div class="checkbox checkbox-off"></div> <span class="to-do-children-unchecked">Estrutura analítica permite consulta em relatórios e dashboards.</span><div class="indented"></div></li></ul><ul id="26968338-221a-80cd-a656-f5321ca92c0d" class="to-do-list"><li><div class="checkbox checkbox-off"></div> <span class="to-do-children-unchecked">Logs registram sucesso e falhas de execução.</span><div class="indented"></div></li></ul><hr id="26968338-221a-8026-9bea-fbbea3cdafef"/><h3 id="26968338-221a-8013-a3c0-c6d1b1530984" class=""><strong>Critérios de Aceite</strong></h3><p id="26968338-221a-80a7-9128-cea3b977294b" class="">✅ ETL executado diariamente às 07h via EventBridge.</p><p id="26968338-221a-8034-9c38-c09b5d79126b" class="">✅ Dados encerrados disponíveis com esquema consistente.</p><p id="26968338-221a-80e4-b3c3-e348e90241b2" class="">✅ Dados consumíveis por painéis e relatórios históricos.</p><p id="26968338-221a-8056-8e5d-ef1c5d6775ec" class="">✅ Monitoramento e logs ativos para rastreabilidade.</p><hr id="26968338-221a-806f-9b0f-e19e27f4b9e3"/><h3 id="26968338-221a-8051-890a-c204abeb4acc" class=""><strong>Impacto Esperado</strong></h3><ul id="26968338-221a-802d-971f-ecd6a439b4ec" class="bulleted-list"><li style="list-style-type:disc">Histórico confiável para análises retroativas.</li></ul><ul id="26968338-221a-80b0-b45c-e225acdb87d0" class="bulleted-list"><li style="list-style-type:disc">Melhoria na governança de dados do COPF.</li></ul><ul id="26968338-221a-80ae-823c-cbd327155ce5" class="bulleted-list"><li style="list-style-type:disc">Redução da dependência de extrações manuais.</li></ul><ul id="26968338-221a-8089-972a-f360cb0bb4a4" class="bulleted-list"><li style="list-style-type:disc">Base sólida para evolução de indicadores estratégicos.</li></ul><h2 id="26968338-221a-807b-b718-f9bb0a6454c2" class="">História: [Delivery][Frontend] Alteração de Taxonomia – “Fornecedor” para “Responsável”</h2><h3 id="26968338-221a-80d3-95c2-fb517f341f32" class=""><strong>Visão de Produto</strong></h3><p id="26968338-221a-80aa-80d4-fa6780806732" class="">Acreditamos que, ao <strong>alterar a taxonomia da aplicação substituindo o termo “Fornecedor” por “Responsável” em todas as páginas do Frontend do COPF</strong>, os usuários terão <strong>mais clareza sobre o papel da entidade exibida, alinhado com a narrativa de negócio atualizada</strong>.</p><p id="26968338-221a-8071-8355-cbfd22764f3e" class="">Saberemos que isso é verdade quando <strong>todas as páginas e componentes exibirem o termo “Responsável” de forma consistente, sem menções residuais a “Fornecedor”</strong>.</p><hr id="26968338-221a-80fa-bdc1-ecb8ceeee98d"/><h3 id="26968338-221a-806f-b039-e7bb14e27d7d" class=""><strong>Descrição</strong></h3><p id="26968338-221a-80f2-b8d1-c6da21be8d4b" class="">Como time de frontend do COPF, queremos <strong>atualizar a nomenclatura de “Fornecedor” para “Responsável” em todas as telas, componentes e dashboards</strong>, garantindo consistência de taxonomia e clareza para os usuários.</p><p id="26968338-221a-8001-abf6-dfdf9be5c798" class=""><strong>Observação:</strong> Embora o ideal seja que essa alteração também ocorra no <strong>backend</strong> (lambdas, API Gateway e demais serviços), nesta sprint o foco será <strong>exclusivamente no frontend</strong>. A evolução para ajustes no backend será planejada em uma <strong>história futura</strong>.</p><p id="26968338-221a-80f7-adcf-fdfa779bf5cb" class=""><strong>Escopo:</strong></p><ul id="26968338-221a-8005-9f2b-eb14743c2d69" class="bulleted-list"><li style="list-style-type:disc">Substituir “Fornecedor” → “Responsável” em labels, títulos, colunas de tabelas, tooltips, filtros e gráficos.</li></ul><ul id="26968338-221a-8077-b408-dd59d8f13901" class="bulleted-list"><li style="list-style-type:disc">Garantir que a mudança seja aplicada em <strong>todas as páginas onde o termo aparece</strong> (Home, Dashboard, Ocorrências, Filtros, Relatórios).</li></ul><ul id="26968338-221a-803f-af8a-ce9d22aa27b4" class="bulleted-list"><li style="list-style-type:disc">A alteração é <strong>exclusiva do Frontend</strong>, sem impacto em banco de dados ou backend.</li></ul><hr id="26968338-221a-8077-834b-ec4d0a5162ea"/><h3 id="26968338-221a-8012-bd07-fd57eb6344af" class=""><strong>Visão do Usuário</strong></h3><p id="26968338-221a-80a7-a8ea-d50fe01316ce" class="">Usuários operacionais e gestores terão <strong>maior clareza sem confundir “Fornecedor” com parceiros externos</strong>, entendendo que o campo representa o <strong>responsável direto pela tratativa da ocorrência</strong>.</p><hr id="26968338-221a-8028-b438-e2b9bdfcb901"/><h3 id="26968338-221a-802f-b98d-dc0a98e23be6" class=""><strong>Contexto / Narrativa de Negócio</strong></h3><p id="26968338-221a-8018-93b8-ec22dd29e222" class="">A nomenclatura “Fornecedor” gerava ambiguidades, pois remetia a terceiros. A mudança para “Responsável” reflete melhor a realidade do COPF, em que o campo designa a unidade ou pessoa responsável pela tratativa.</p><hr id="26968338-221a-800e-ad46-dc2b9ec0f744"/><h3 id="26968338-221a-8053-be04-cceef9e422d9" class=""><strong>Premissas</strong></h3><ol type="1" id="26968338-221a-808a-9492-f32088119f5b" class="numbered-list" start="1"><li>A alteração será feita <strong>apenas no Frontend</strong> (sem ajustes em backend, banco de dados ou APIs).</li></ol><ol type="1" id="26968338-221a-80f6-90f4-f7cfa58c2402" class="numbered-list" start="2"><li>O campo <strong>mantém a mesma lógica de negócio</strong> (apenas alteração textual).</li></ol><ol type="1" id="26968338-221a-807f-8ae1-fed6564c601c" class="numbered-list" start="3"><li>A mudança deve abranger <strong>100% das telas e componentes existentes</strong>.</li></ol><hr id="26968338-221a-8067-8f62-c68c810d84f7"/><h3 id="26968338-221a-801f-8f45-e7e7221020b4" class=""><strong>Regras de Negócio</strong></h3><ol type="1" id="26968338-221a-80bf-8d9f-fc74a9b2bf4c" class="numbered-list" start="1"><li>Onde aparecer “Fornecedor” em labels, títulos, cabeçalhos de tabelas ou gráficos → substituir por “Responsável”.</li></ol><ol type="1" id="26968338-221a-8002-bba9-fa5ee0f5cc6f" class="numbered-list" start="2"><li>Filtros e tooltips também devem refletir a nova taxonomia.</li></ol><ol type="1" id="26968338-221a-80b2-8d2b-c001684d9396" class="numbered-list" start="3"><li>Garantir que não existam duplicidades (ex.: “Fornecedor/Responsável”).</li></ol><hr id="26968338-221a-806e-ae34-e2c8c80f08a1"/><h3 id="26968338-221a-801c-a475-e657555ae66f" class=""><strong>Informações Técnicas</strong></h3><ul id="26968338-221a-8001-82da-cd0f4ba24c17" class="bulleted-list"><li style="list-style-type:disc"><strong>Framework:</strong> mesmo usado atualmente no COPF.</li></ul><ul id="26968338-221a-8054-9027-fc787227b236" class="bulleted-list"><li style="list-style-type:disc">Alterações restritas a arquivos de UI/labels.</li></ul><ul id="26968338-221a-804e-85ee-fa1177c4846e" class="bulleted-list"><li style="list-style-type:disc">Realizar varredura de código para identificar todas as ocorrências do termo.</li></ul><ul id="26968338-221a-80d7-83e3-e0ffdedcdd37" class="bulleted-list"><li style="list-style-type:disc">Testar em diferentes resoluções e navegadores para garantir consistência visual.</li></ul><hr id="26968338-221a-80fd-be38-eab22798812f"/><h3 id="26968338-221a-805b-bbc7-d78ec24da397" class=""><strong>Tarefas</strong></h3><ol type="1" id="26968338-221a-8094-b01b-f3eee67ab822" class="numbered-list" start="1"><li>Mapear todas as ocorrências do termo “Fornecedor” no frontend.</li></ol><ol type="1" id="26968338-221a-8017-84f6-f7f196c26f50" class="numbered-list" start="2"><li>Substituir por “Responsável” em labels, colunas, tooltips, gráficos, filtros.</li></ol><ol type="1" id="26968338-221a-803d-89ca-fd0874761e3f" class="numbered-list" start="3"><li>Revisar impacto visual e semântico nas telas.</li></ol><ol type="1" id="26968338-221a-80d6-9330-cc43781d60f6" class="numbered-list" start="4"><li>Validar com time de negócio a consistência da mudança.</li></ol><hr id="26968338-221a-801e-bfd1-dc0e1a123cac"/><h3 id="26968338-221a-8053-8df9-da9199c18c13" class=""><strong>Cenários para Teste e Homologação</strong></h3><ol type="1" id="26968338-221a-8029-ab7e-f4a53de360fa" class="numbered-list" start="1"><li>Todas as páginas exibem “Responsável” no lugar de “Fornecedor”.</li></ol><ol type="1" id="26968338-221a-8028-9146-da70c8f73ffb" class="numbered-list" start="2"><li>Filtros e relatórios usam “Responsável” sem falhas de busca.</li></ol><ol type="1" id="26968338-221a-80d4-b419-ecbca20b1fc8" class="numbered-list" start="3"><li>Nenhuma menção a “Fornecedor” residual no frontend.</li></ol><ol type="1" id="26968338-221a-809f-a433-e8ed00d396a4" class="numbered-list" start="4"><li>Layout e responsividade mantidos após alteração.</li></ol><hr id="26968338-221a-8087-ac4b-e150266a0f33"/><h3 id="26968338-221a-80bb-a4d9-f6d4f40384dd" class=""><strong>Critérios de Aceite</strong></h3><ul id="26968338-221a-8032-a633-ce3cac52737c" class="bulleted-list"><li style="list-style-type:disc">Onde aparecer “Fornecedor” em labels, títulos, cabeçalhos de tabelas ou gráficos → substituir por “Responsável”.</li></ul><ul id="26968338-221a-80da-afa1-e275dde45b90" class="bulleted-list"><li style="list-style-type:disc">Todo o funcionamento do COPF continua ocorrendo normalmente, seja filtros, seja listagem de dados.</li></ul><hr id="26968338-221a-80ae-83db-eb4e7aad3834"/><h3 id="26968338-221a-8071-8d8d-d8e6a85a7377" class=""><strong>Impacto Esperado</strong></h3><ul id="26968338-221a-8085-bfdc-e259dea1d8e7" class="bulleted-list"><li style="list-style-type:disc">Melhoria na <strong>clareza da taxonomia</strong> usada pelo COPF.</li></ul><ul id="26968338-221a-80bb-97f9-d908d03e055a" class="bulleted-list"><li style="list-style-type:disc">Redução de ambiguidades na interpretação de relatórios.</li></ul><ul id="26968338-221a-8013-9803-f2a9dd28be21" class="bulleted-list"><li style="list-style-type:disc">Maior alinhamento entre usuários operacionais e stakeholders de negócio.</li></ul><hr id="26968338-221a-8037-b0f8-c6b2eaad85bc"/><h3 id="26968338-221a-80f8-9d0a-df986baaebb6" class=""><strong>Conclusão</strong></h3><ul id="26968338-221a-809c-bf04-ef72cd520b13" class="bulleted-list"><li style="list-style-type:disc"><strong>Início:</strong><ul id="26968338-221a-80ae-8f44-f4cfa798a6dd" class="bulleted-list"><li style="list-style-type:circle"><strong>Desejado:</strong> R3 S3 2025</li></ul><ul id="26968338-221a-80ed-a916-f053d9a54499" class="bulleted-list"><li style="list-style-type:circle"><strong>Real:</strong> R3 S3 2025</li></ul></li></ul><ul id="26968338-221a-803b-ab1f-fe70498d8afd" class="bulleted-list"><li style="list-style-type:disc"><strong>Fim:</strong><ul id="26968338-221a-807b-8849-f0a0d120b20b" class="bulleted-list"><li style="list-style-type:circle"><strong>Desejado:</strong> R3 S3 2025</li></ul><ul id="26968338-221a-807d-973b-e73651c5d0bb" class="bulleted-list"><li style="list-style-type:circle"><strong>Real:</strong> <em>(preencher ao fim da sprint)</em></li></ul></li></ul><ul id="26968338-221a-8054-be84-c2b4a11da2cd" class="bulleted-list"><li style="list-style-type:disc"><strong>Resultado:</strong> <em>(preencher ao fim da sprint)</em></li></ul><h2 id="26968338-221a-8019-aa69-ed07875a0d43" class="">História: [Delivery][Backend + Frontend] Sistema de Alertas no COPF para Escalations e Mensagens</h2><h3 id="26968338-221a-805d-9dcd-f65c3ea21cf5" class=""><strong>Visão de Produto</strong></h3><p id="26968338-221a-80de-a0c1-e6609e9bb8e5" class="">Para garantir agilidade e governança nas ocorrências tratadas via COPF, o sistema de alertas deve notificar os usuários (operação e fornecedores) sempre que houver:</p><ul id="26968338-221a-80dd-b10c-e9ff904a8968" class="bulleted-list"><li style="list-style-type:disc">Uma <strong>priorização manual (escalation)</strong> da ocorrência.</li></ul><ul id="26968338-221a-8038-aaa9-f2e34e987025" class="bulleted-list"><li style="list-style-type:disc">Uma <strong>nova mensagem registrada na ocorrência</strong>.</li></ul><p id="26968338-221a-8055-9714-fb34d278258f" class="">O objetivo é fornecer <strong>visibilidade imediata</strong> para os envolvidos, com persistência dos alertas no sistema, indicadores de leitura e performance otimizada.</p><hr id="26968338-221a-8076-8645-ffe3a220c712"/><h3 id="26968338-221a-8034-bca6-d05b783a6206" class=""><strong>Descrição</strong></h3><h3 id="26968338-221a-80e4-9635-c74be7730602" class=""><strong>Fluxo – Usuário Fornecedor</strong></h3><p id="26968338-221a-80dc-b338-fd778398e4ad" class="">Como <strong>fornecedor</strong> do COPF, quero visualizar um painel de alertas que:</p><ol type="1" id="26968338-221a-80a2-9091-ff03fb1bcce3" class="numbered-list" start="1"><li>Mostre quando uma <strong>ocorrência for escalada</strong> pela operação (ação de priorização).</li></ol><ol type="1" id="26968338-221a-80b0-80a5-f36b8ea562e2" class="numbered-list" start="2"><li>Exiba mensagens enviadas pela operação.</li></ol><ol type="1" id="26968338-221a-8045-a4cb-eb44a655a408" class="numbered-list" start="3"><li>Me permita indicar quais os alertas foram lidos.</li></ol><ol type="1" id="26968338-221a-80dd-b179-d3748ff35fe4" class="numbered-list" start="4"><li>Possua <strong>limitação inteligente</strong> (últimos x dias ou últimos y eventos) para manter boa performance – <em>valor a ser definido pelo TechLead</em>.</li></ol><h3 id="26968338-221a-80eb-8e1e-f3795deee4d4" class=""><strong>Fluxo – Usuário Operação</strong></h3><p id="26968338-221a-8077-ba73-ca3798d29730" class="">Como <strong>operação</strong> do COPF, quero visualizar um painel de alertas que:</p><ol type="1" id="26968338-221a-80e4-82d5-e16cc67edbe6" class="numbered-list" start="1"><li>Exiba mensagens enviadas pelo fornecedor.</li></ol><ol type="1" id="26968338-221a-805a-8b74-f9bd57b6e999" class="numbered-list" start="2"><li>Me permita indicar quais os alertas foram lidos.</li></ol><ol type="1" id="26968338-221a-80f0-bb05-c969cec83b6b" class="numbered-list" start="3"><li>Possua <strong>limitação inteligente</strong> (últimos x dias ou últimos y eventos) para manter boa performance – <em>valor a ser definido pelo TechLead</em>.</li></ol><hr id="26968338-221a-8066-b799-c4498e9044ab"/><h3 id="26968338-221a-800c-8316-e29ec543cef6" class=""><strong>Visão do Usuário</strong></h3><ul id="26968338-221a-805d-911b-c6e306a19507" class="bulleted-list"><li style="list-style-type:disc"><strong>Operação:</strong> quer garantir que o fornecedor receba alertas de escalations e mensagens importantes, além de ser notificado sobre mensagens recebidas.</li></ul><ul id="26968338-221a-8053-b692-e1368aee8887" class="bulleted-list"><li style="list-style-type:disc"><strong>Fornecedor:</strong> quer ser alertado de escalations e mensagens importantes da operação.</li></ul><hr id="26968338-221a-80aa-9918-fa805f9d3d0d"/><h3 id="26968338-221a-8017-8e19-e368ac90dab2" class=""><strong>Contexto / Narrativa de Negócio</strong></h3><ul id="26968338-221a-80a8-8221-c08f22bb97cd" class="bulleted-list"><li style="list-style-type:disc">O processo de <strong>priorização (escalation)</strong> é uma ação manual realizada pela operação.</li></ul><ul id="26968338-221a-80cc-9158-d2d2e0cec079" class="bulleted-list"><li style="list-style-type:disc">A troca de mensagens precisa ser registrada e centralizada na ocorrência.</li></ul><ul id="26968338-221a-8005-bdff-cfdb9c6ce399" class="bulleted-list"><li style="list-style-type:disc">Alertas não podem depender de canais externos (e-mail, WhatsApp).</li></ul><ul id="26968338-221a-800b-883b-fc3755e0a56f" class="bulleted-list"><li style="list-style-type:disc">Todos os alertas precisam ser rastreáveis, com status de leitura e design intuitivo.</li></ul><hr id="26968338-221a-80e5-8dd0-cfe40815f54c"/><h3 id="26968338-221a-8008-b200-f126b9b7f7e6" class=""><strong>Premissas</strong></h3><ol type="1" id="26968338-221a-8006-b6c2-ddfd059292d8" class="numbered-list" start="1"><li>O sistema já possui autenticação com perfis distintos (operação e fornecedor).</li></ol><ol type="1" id="26968338-221a-80f3-97f2-f26ce6530da3" class="numbered-list" start="2"><li>O evento de escalation já está implementado como tipo de ação em <code>acompanhamento_ocorrencia</code>.</li></ol><ol type="1" id="26968338-221a-80eb-b4a5-c8aff55d461d" class="numbered-list" start="3"><li>O sistema de envio de mensagens já está implementado.</li></ol><hr id="26968338-221a-8015-860b-f9b85bf02ee6"/><h3 id="26968338-221a-80e2-915b-cd3613982a3f" class=""><strong>Regras de Negócio</strong></h3><ul id="26968338-221a-8029-9596-d2f7d7f7f11d" class="bulleted-list"><li style="list-style-type:disc">Todos os alertas (escalation ou mensagem) aparecem em painel.</li></ul><ul id="26968338-221a-8051-9a51-f15772e19fb1" class="bulleted-list"><li style="list-style-type:disc">O usuário pode marcar um alerta como “lido”.</li></ul><ul id="26968338-221a-8015-bce2-e109bf3348ab" class="bulleted-list"><li style="list-style-type:disc"><mark class="highlight-red"><mark class="highlight-red_background">Alertas permanecem visíveis mesmo após leitura, mas com indicador visual.</mark></mark></li></ul><ul id="26968338-221a-80f6-a962-ec6d0505fcd8" class="bulleted-list"><li style="list-style-type:disc">Exibir apenas os <strong>últimos x dias</strong> ou <strong>últimos y eventos</strong> (<em>a definir pelo TechLead</em>).</li></ul><ul id="26968338-221a-8092-9c5a-d5478b802ce3" class="bulleted-list"><li style="list-style-type:disc">Alertas devem ser exibidos em ordem decrescente por <code>data_evento</code>.</li></ul><ul id="26968338-221a-803a-9fcb-f9784a6e2996" class="bulleted-list"><li style="list-style-type:disc">Somente eventos pertinentes ao <strong>perfil logado</strong> devem aparecer.</li></ul><hr id="26968338-221a-80e8-be81-cdc1c747948e"/><h3 id="26968338-221a-801e-88c7-e481514416ea" class=""><strong>Informações Técnicas</strong></h3><ul id="26968338-221a-80d6-a78a-dbc2f0005852" class="bulleted-list"><li style="list-style-type:disc"><strong>Backend:</strong><ul id="26968338-221a-8047-b79f-c61ee9371fc4" class="bulleted-list"><li style="list-style-type:circle">View materializada/unificada de eventos (mensagens e escalations).</li></ul><ul id="26968338-221a-8044-afc5-d4c79017885b" class="bulleted-list"><li style="list-style-type:circle">Tabela auxiliar <code>alertas_lidos</code> com <code>alerta_id</code>, <code>mensagem_id</code>, <code>escalation_id</code>, <code>usuario_id</code> – <em>Sugestão IA</em>.</li></ul><ul id="26968338-221a-80c5-8d3f-ca9c20908afa" class="bulleted-list"><li style="list-style-type:circle">Endpoint: <code>GET /alertas/</code> – <em>Sugestão IA</em>.</li></ul><ul id="26968338-221a-8086-ae36-e33fc27fcf13" class="bulleted-list"><li style="list-style-type:circle">Endpoint: <code>POST /alertas/{id}/marcar-lido</code> – <em>Sugestão IA</em>.</li></ul><ul id="26968338-221a-80bf-a25c-f65271e77b98" class="bulleted-list"><li style="list-style-type:circle">Contrato de retorno (JSON) – <em>Sugestão IA</em>:<script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/prism.min.js" integrity="sha512-7Z9J3l1+EYfeaPKcGXu3MS/7T+w19WtKQY/n+xzmw4hZhJ9tyYmcUS+4QqAlzhicE5LAfMQSF3iFTK9bQdTxXg==" crossorigin="anonymous" referrerPolicy="no-referrer"></script><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/themes/prism.min.css" integrity="sha512-tN7Ec6zAFaVSG3TpNAKtk4DOHNpSwKHxxrsiw4GHKESGPs5njn/0sMCUMl2svV4wo4BK/rCP7juYz+zx+l6oeQ==" crossorigin="anonymous" referrerPolicy="no-referrer"/><pre id="26968338-221a-80a2-8a09-c982b2dd54a7" class="code code-wrap"><code class="language-JSON" style="white-space:pre-wrap;word-break:break-all">[
  {
    &quot;id&quot;: &quot;123&quot;,
    &quot;tipo&quot;: &quot;escalation&quot;,
    &quot;mensagem&quot;: &quot;Ocorrência 456 escalada&quot;,
    &quot;data_evento&quot;: &quot;2025-09-08T15:30:00Z&quot;,
    &quot;lido&quot;: false},
  {
    &quot;id&quot;: &quot;124&quot;,
    &quot;tipo&quot;: &quot;mensagem&quot;,
    &quot;mensagem&quot;: &quot;Fornecedor respondeu ocorrência 456&quot;,
    &quot;data_evento&quot;: &quot;2025-09-08T16:10:00Z&quot;,
    &quot;lido&quot;: true}
]

</code></pre></li></ul></li></ul><ul id="26968338-221a-808b-8d67-ce091d2fc148" class="bulleted-list"><li style="list-style-type:disc"><strong>Frontend:</strong><ul id="26968338-221a-80ab-9568-fe1772a4f5a9" class="bulleted-list"><li style="list-style-type:circle">Componente visual com listagem por ordem decrescente.</li></ul><ul id="26968338-221a-80c8-b370-c856a236f2fa" class="bulleted-list"><li style="list-style-type:circle">Botão “marcar como lido”.</li></ul><ul id="26968338-221a-80f4-9838-dd640e878598" class="bulleted-list"><li style="list-style-type:circle">Filtro automático por perfil logado.</li></ul></li></ul><hr id="26968338-221a-80fb-8fa1-f918287d3d97"/><h3 id="26968338-221a-8073-9905-c49e3996761b" class=""><strong>Tarefas</strong></h3><ol type="1" id="26968338-221a-8018-be52-c807f5575c86" class="numbered-list" start="1"><li>Criar view de eventos recentes (últimos x dias ou y eventos) – <em>valor definido pelo TechLead</em>.</li></ol><ol type="1" id="26968338-221a-8080-af7c-daff8ddd9517" class="numbered-list" start="2"><li>Criar endpoint <code>GET /alertas/</code> com status de leitura – <em>Sugestão IA</em>.</li></ol><ol type="1" id="26968338-221a-80ca-9692-eda2665c09eb" class="numbered-list" start="3"><li>Criar endpoint <code>POST /alertas/{id}/marcar-lido</code> – <em>Sugestão IA</em>.</li></ol><ol type="1" id="26968338-221a-8092-bbb3-e2d29ea7b20d" class="numbered-list" start="4"><li>Criar componente frontend de listagem de alertas.</li></ol><ol type="1" id="26968338-221a-804b-aed5-eb68b5c8f632" class="numbered-list" start="5"><li>Validar visualização e comportamento por perfil logado (operação ou fornecedor).</li></ol><hr id="26968338-221a-80d5-a2a4-ccf3a777f92e"/><h3 id="26968338-221a-808a-8297-eef577e3b0e8" class=""><strong>Cenários para Teste e Homologação</strong></h3><ul id="26968338-221a-8093-97fd-e9cfb9985e43" class="to-do-list"><li><div class="checkbox checkbox-off"></div> <span class="to-do-children-unchecked">Fornecedor visualiza alerta de escalation feito pela operação.</span><div class="indented"></div></li></ul><ul id="26968338-221a-8070-a05f-e35c595e10b8" class="to-do-list"><li><div class="checkbox checkbox-off"></div> <span class="to-do-children-unchecked">Mensagem enviada pela operação gera alerta para fornecedor.</span><div class="indented"></div></li></ul><ul id="26968338-221a-8086-b55a-da93b31ef6f2" class="to-do-list"><li><div class="checkbox checkbox-off"></div> <span class="to-do-children-unchecked">Mensagem enviada pelo fornecedor gera alerta para operação.</span><div class="indented"></div></li></ul><ul id="26968338-221a-8099-8d9b-db6b30fa09f4" class="to-do-list"><li><div class="checkbox checkbox-off"></div> <span class="to-do-children-unchecked"><mark class="highlight-red"><mark class="highlight-red_background">Alertas marcados como “lido” continuam visíveis com status atualizado.</mark></mark></span><div class="indented"></div></li></ul><ul id="26968338-221a-805c-9220-cad2d7be810a" class="to-do-list"><li><div class="checkbox checkbox-off"></div> <span class="to-do-children-unchecked">Painel mostra no máximo os últimos x dias ou y eventos – <em>definição do TechLead</em>.</span><div class="indented"></div></li></ul><ul id="26968338-221a-8080-9157-f0d81e3f8eb1" class="to-do-list"><li><div class="checkbox checkbox-off"></div> <span class="to-do-children-unchecked">Sistema mantém performance com alta carga de alertas.</span><div class="indented"></div></li></ul><hr id="26968338-221a-80d2-bae2-cead6471e483"/><h3 id="26968338-221a-8060-ab8b-e7965cc7c598" class=""><strong>Critérios de Aceite</strong></h3><ul id="26968338-221a-802f-b84b-e656218fd47c" class="to-do-list"><li><div class="checkbox checkbox-off"></div> <span class="to-do-children-unchecked">Endpoint <code>GET /alertas/</code> retorna alertas de acordo com perfil logado.</span><div class="indented"></div></li></ul><ul id="26968338-221a-807a-8e93-d836f48fd0ec" class="to-do-list"><li><div class="checkbox checkbox-off"></div> <span class="to-do-children-unchecked">Endpoint <code>POST /alertas/{id}/marcar-lido</code> atualiza status corretamente.</span><div class="indented"></div></li></ul><ul id="26968338-221a-80ad-9b01-e3faf799a8b0" class="to-do-list"><li><div class="checkbox checkbox-off"></div> <span class="to-do-children-unchecked">Frontend exibe painel de alertas em ordem decrescente.</span><div class="indented"></div></li></ul><ul id="26968338-221a-80ec-ab66-ebb99b51da0a" class="to-do-list"><li><div class="checkbox checkbox-off"></div> <span class="to-do-children-unchecked">Badges e status de leitura funcionam conforme esperado.</span><div class="indented"></div></li></ul><ul id="26968338-221a-804e-b9d8-c02c97cea95f" class="to-do-list"><li><div class="checkbox checkbox-off"></div> <span class="to-do-children-unchecked">Performance validada com volume de teste.</span><div class="indented"></div></li></ul><hr id="26968338-221a-809a-a838-f04e26880c56"/><h3 id="26968338-221a-8015-aea4-e51e08ca96c6" class=""><strong>Impacto Esperado</strong></h3><ul id="26968338-221a-8017-b42d-ff30e40262c7" class="bulleted-list"><li style="list-style-type:disc">Aumento da visibilidade sobre ações críticas (escalations).</li></ul><ul id="26968338-221a-80ae-8cb5-fcd740bc112a" class="bulleted-list"><li style="list-style-type:disc">Redução da dependência de canais paralelos.</li></ul><ul id="26968338-221a-809b-a849-f602af3843f7" class="bulleted-list"><li style="list-style-type:disc">Melhor tempo de resposta e engajamento dos fornecedores.</li></ul><ul id="26968338-221a-80f8-8fd7-fc704ce8771c" class="bulleted-list"><li style="list-style-type:disc">Maior governança e rastreabilidade no tratamento de ocorrências.</li></ul><hr id="26968338-221a-80fc-bce7-dc33ef4075ba"/><h3 id="26968338-221a-80b9-9c6c-e4759d848cb6" class=""><strong>Conclusão</strong></h3><p id="26968338-221a-801c-b9eb-ce07ed0cb815" class="">Este sistema de alertas reforça a robustez do COPF como plataforma de gestão de ocorrências, promovendo comunicação efetiva entre operação e fornecedor, com rastreabilidade e agilidade.</p><h2 id="26968338-221a-80f7-85d0-ec415d986645" class="">História: [Discovery][Backend] Levantamento e Definição das Bases Complementares para o COPF</h2><h3 id="26968338-221a-800c-821f-c276213e0abf" class=""><strong>Visão de Produto</strong></h3><p id="26968338-221a-80b1-859c-d69d02baba0b" class="">Acreditamos que, ao <strong>realizar um discovery para mapear e validar as fontes das bases complementares que alimentarão o COPF</strong>, conseguiremos garantir <strong>consistência, rastreabilidade e governança dos dados de apoio</strong>, preparando o terreno para a futura implementação dos ETLs.</p><p id="26968338-221a-80b4-ac00-d57976b5786b" class="">Saberemos que isso é verdade quando tivermos <strong>documentação clara das fontes oficiais, entendimento da periodicidade necessária, stakeholders responsáveis e regras de transformação preliminares para cada base</strong>.</p><hr id="26968338-221a-8058-b03d-cdfeeb38a451"/><h3 id="26968338-221a-8040-8788-cbad02ff9905" class=""><strong>Descrição</strong></h3><p id="26968338-221a-8032-b1c9-e8df8f66cb96" class="">Como <strong>time de dados do COPF</strong>, queremos:</p><ul id="26968338-221a-809d-abac-fae2adecbe65" class="bulleted-list"><li style="list-style-type:disc">Mapear e validar a origem das <strong>bases complementares</strong> necessárias ao funcionamento do COPF.</li></ul><ul id="26968338-221a-809d-af6e-d4e8aba2734e" class="bulleted-list"><li style="list-style-type:disc">Conduzir estudos com os times responsáveis para definir as fontes oficiais e periodicidades.</li></ul><ul id="26968338-221a-802d-bc69-e7bf1f12a1b4" class="bulleted-list"><li style="list-style-type:disc">Consolidar <strong>documentação funcional e técnica</strong> que embasará a fase de delivery dos ETLs.</li></ul><p id="26968338-221a-8027-a92a-d4dedb627db8" class=""><strong>Bases no escopo do discovery:</strong></p><ol type="1" id="26968338-221a-80ad-844b-f05d67912f23" class="numbered-list" start="1"><li><strong>Base de Agências</strong> → Origem já definida: IBS 360 (Base 360).</li></ol><ol type="1" id="26968338-221a-807f-bdf4-cb9b31d4254c" class="numbered-list" start="2"><li><strong>Base de Equipamentos</strong> → Estudo em conjunto com o <strong>time de Engenharia de Dados</strong> e o <strong>time de Planejamento Operacional</strong> para identificar a fonte oficial.</li></ol><ol type="1" id="26968338-221a-80d9-a36e-f5df251000c5" class="numbered-list" start="3"><li><strong>Lista de Fornecedores</strong> → Estudo em conjunto com o <strong>time da GIMEA</strong> para identificar a base de referência confiável.</li></ol><hr id="26968338-221a-80cc-be62-ea62664f762d"/><h3 id="26968338-221a-80cb-b9d7-e83ad7f84135" class=""><strong>Visão do Usuário</strong></h3><p id="26968338-221a-8008-b4e4-f9c7950a2c0a" class="">Analistas e gestores do COPF terão, ao final deste discovery, <strong>clareza sobre a cobertura das bases complementares e confiabilidade dos dados</strong>, garantindo que as futuras análises e indicadores sejam sustentados por dados corretos e rastreáveis.</p><hr id="26968338-221a-8099-a74f-dc363db13828"/><h3 id="26968338-221a-8079-9d55-e588c12ac96e" class=""><strong>Contexto / Narrativa de Negócio</strong></h3><p id="26968338-221a-8059-9491-ce176acb424c" class="">Hoje, parte das análises do COPF depende de cruzamentos manuais ou dados externos sem rastreabilidade. Antes de construir os ETLs, é fundamental <strong>confirmar com as áreas responsáveis (Engenharia de Dados, Planejamento Operacional, GIMEA)</strong> quais serão as fontes oficiais para cada base, reduzindo riscos de retrabalho ou inconsistência.</p><hr id="26968338-221a-8070-8d7b-fa3eb74741d2"/><h3 id="26968338-221a-80d1-8299-c640a3dbf8e2" class=""><strong>Premissas</strong></h3><ol type="1" id="26968338-221a-8097-b9f9-d6a7ef0c74b6" class="numbered-list" start="1"><li>A <strong>Base de Agências</strong> virá do IBS 360 (Base 360).</li></ol><ol type="1" id="26968338-221a-808e-8a2a-f022ce62a18b" class="numbered-list" start="2"><li>As fontes de <strong>Equipamentos</strong> e <strong>Fornecedores</strong> ainda precisam ser definidas em conjunto com os times de negócio e engenharia.</li></ol><ol type="1" id="26968338-221a-80e9-96ce-fd401b8bcb2b" class="numbered-list" start="3"><li>O TechLead apoiará na definição da <strong>periodicidade de atualização</strong> necessária.</li></ol><ol type="1" id="26968338-221a-803a-8b4d-d73177e28ffd" class="numbered-list" start="4"><li>As regras de transformação serão discutidas e registradas, mas não implementadas nesta fase.</li></ol><hr id="26968338-221a-803c-8a21-f792811279b9"/><h3 id="26968338-221a-8014-9470-cd761c2cf9ff" class=""><strong>Regras de Negócio (Discovery)</strong></h3><ul id="26968338-221a-809f-a2bb-e47912470925" class="bulleted-list"><li style="list-style-type:disc">As definições devem considerar <strong>consistência, custo de atualização e impacto nos usuários</strong>.</li></ul><ul id="26968338-221a-80f8-8a79-c35f634d68c2" class="bulleted-list"><li style="list-style-type:disc">A periodicidade de atualização deve ser definida junto ao TechLead e stakeholders.</li></ul><ul id="26968338-221a-80c1-99c4-d6109b82d34f" class="bulleted-list"><li style="list-style-type:disc">Cada base deve ter <strong>fonte única oficial</strong> para evitar divergências.</li></ul><ul id="26968338-221a-80f5-964a-d027b7e97724" class="bulleted-list"><li style="list-style-type:disc">O discovery deve registrar <strong>gaps de dados</strong> e propor soluções ou próximos passos.</li></ul><hr id="26968338-221a-80bd-b0c2-ef6c7d85bea9"/><h3 id="26968338-221a-801f-93fb-d26d34c20a63" class=""><strong>Informações Técnicas (Discovery)</strong></h3><ul id="26968338-221a-8001-9d94-f876d5731fb5" class="bulleted-list"><li style="list-style-type:disc">Não há ETL a ser construído nesta fase.</li></ul><ul id="26968338-221a-80d3-8945-d2f1f725bbba" class="bulleted-list"><li style="list-style-type:disc">Os estudos incluirão:<ul id="26968338-221a-80f8-bd59-c41016886dbc" class="bulleted-list"><li style="list-style-type:circle"><strong>Análise de fontes existentes</strong> (IBS 360, catálogos internos, bases operacionais).</li></ul><ul id="26968338-221a-80bb-b9d9-e09d5cf1b6de" class="bulleted-list"><li style="list-style-type:circle"><strong>Validação de integridade e granularidade</strong>.</li></ul><ul id="26968338-221a-8099-87cd-fb918bc5b388" class="bulleted-list"><li style="list-style-type:circle"><strong>Mapeamento de stakeholders responsáveis</strong>.</li></ul><ul id="26968338-221a-800b-85ac-c69823f5431c" class="bulleted-list"><li style="list-style-type:circle"><strong>Registro de decisões em repositório do COPF (GitHub/Equipe SCD)</strong>.</li></ul></li></ul><hr id="26968338-221a-8069-a646-ca9c9b35a557"/><h3 id="26968338-221a-8015-96f2-c9303a4ab74e" class=""><strong>Tarefas</strong></h3><ol type="1" id="26968338-221a-805a-ab27-e0c047b550b9" class="numbered-list" start="1"><li>Mapear fontes atuais da Base de Equipamentos (com Eng. de Dados + Planejamento Operacional).</li></ol><ol type="1" id="26968338-221a-808d-97ba-d0ad441cc31b" class="numbered-list" start="2"><li>Mapear fontes atuais da Base de Fornecedores (com GIMEA).</li></ol><ol type="1" id="26968338-221a-80c8-a3bc-e6a67c7bba42" class="numbered-list" start="3"><li>Documentar periodicidade e requisitos de atualização junto ao TechLead.</li></ol><ol type="1" id="26968338-221a-80c8-8bef-c1635041605f" class="numbered-list" start="4"><li>Registrar gaps e limitações das fontes levantadas.</li></ol><ol type="1" id="26968338-221a-806e-b377-fa6302cd754e" class="numbered-list" start="5"><li>Consolidar proposta final de fontes oficiais para as três bases complementares.</li></ol><ol type="1" id="26968338-221a-801f-9276-f59e1e11f18a" class="numbered-list" start="6"><li>Validar documentação com stakeholders de negócio e engenharia.</li></ol><hr id="26968338-221a-80f3-b8a6-f71a468ed183"/><h3 id="26968338-221a-8072-a7e8-f9e34d162580" class=""><strong>Cenários para Teste e Homologação (Discovery)</strong></h3><ul id="26968338-221a-800d-aca3-eb0804124526" class="to-do-list"><li><div class="checkbox checkbox-off"></div> <span class="to-do-children-unchecked">Fontes da Base de Agências, Equipamentos e Fornecedores documentadas.</span><div class="indented"></div></li></ul><ul id="26968338-221a-8004-a7e4-f311fb933009" class="to-do-list"><li><div class="checkbox checkbox-off"></div> <span class="to-do-children-unchecked">Periodicidade de atualização definida ou registrada como decisão pendente.</span><div class="indented"></div></li></ul><ul id="26968338-221a-8029-8221-eb20d2b66e44" class="to-do-list"><li><div class="checkbox checkbox-off"></div> <span class="to-do-children-unchecked">Gaps e riscos levantados e comunicados.</span><div class="indented"></div></li></ul><ul id="26968338-221a-8082-b7ef-e6b989852273" class="to-do-list"><li><div class="checkbox checkbox-off"></div> <span class="to-do-children-unchecked">Stakeholders validaram a proposta final.</span><div class="indented"></div></li></ul><hr id="26968338-221a-802a-8c7e-eb29be15b231"/><h3 id="26968338-221a-8043-b8ca-ed8af746b9db" class=""><strong>Critérios de Aceite</strong></h3><p id="26968338-221a-80c1-a0bd-ea5a1a1521b4" class="">✅ Fontes oficiais das bases complementares mapeadas e documentadas.</p><p id="26968338-221a-80a4-9163-fd25a2d2a209" class="">✅ Periodicidade de atualização definida junto ao TechLead.</p><p id="26968338-221a-808c-a4c8-fabd235f446d" class="">✅ Gaps e riscos identificados e registrados.</p><p id="26968338-221a-8030-8951-cad4298faf6e" class="">✅ Aprovação da documentação pelos stakeholders (Engenharia de Dados, Planejamento Operacional, GIMEA).</p><hr id="26968338-221a-80d2-ab52-f159057ecdc0"/><h3 id="26968338-221a-8031-a828-fd8cb77e0b54" class=""><strong>Impacto Esperado</strong></h3><ul id="26968338-221a-802e-b829-ca25235ab29e" class="bulleted-list"><li style="list-style-type:disc">Clareza e alinhamento sobre fontes de dados que alimentarão o COPF.</li></ul><ul id="26968338-221a-80f2-9312-c72d50af7bc3" class="bulleted-list"><li style="list-style-type:disc">Redução de riscos e retrabalho na fase de delivery.</li></ul><ul id="26968338-221a-80d2-8f3e-da3ff53c120f" class="bulleted-list"><li style="list-style-type:disc">Maior confiabilidade e governança das futuras análises e indicadores.</li></ul><hr id="22968338-221a-81a4-ac15-d4bd67cfacdf"/><h1 id="22968338-221a-8184-bf45-e6af3693d8e1" class=""><strong>Seção: IBS 360 - Plataforma</strong></h1><hr id="22968338-221a-81be-b9a3-c7b4b4a247e0"/><h1 id="22968338-221a-8194-9ad9-c6cc90a89411" class=""><strong>Seção: IBS 360 - Frontend</strong></h1><hr id="22968338-221a-8150-94b6-f2ff3647eee6"/><h1 id="22968338-221a-812e-b789-c8d09fcf54b1" class=""><strong>Seção: IBS 360 - Gestão do Parque</strong></h1><hr id="22968338-221a-810b-9b1d-ff5a5aa71c11"/><h1 id="22968338-221a-81c5-aaf2-ef8aadcf04e5" class=""><strong>Seção: IBS 360 - Gestão do Parque - Acompanhamento de Esteiras</strong></h1><h2 id="26768338-221a-803f-a30b-f5a3758fdfc3" class=""><strong>História: [Delivery][Deploy] Deploy da Tela de Acompanhamento de Esteiras no Produto Frame do Agências (IBS 360)</strong></h2><hr id="26768338-221a-807a-9e1b-d64882dea64c"/><h3 id="26768338-221a-8085-9dc7-e3e34201ba30" class="">Visão de Produto</h3><p id="26768338-221a-80b7-85b4-e169c6e33984" class="">Acreditamos que, ao <strong>realizar o deploy da nova tela de Acompanhamento de Esteiras no produto Frame do Agências (IBS 360)</strong>, para o <strong>ambiente oficial utilizado por diretores, superintendentes e usuários estratégicos</strong>, resultará em <strong>acesso contínuo, seguro e validado a um recurso crítico para decisões estruturais da rede de agências</strong>. Saberemos que isso é verdade quando <strong>a tela estiver publicada no ambiente de produção com segurança, versionamento e monitoramento ativo</strong>.</p><hr id="26768338-221a-803c-bd09-e2418a565351"/><h3 id="26768338-221a-8041-ae83-fc66caf8d178" class="">Descrição</h3><p id="26768338-221a-8043-b210-dfea6a37013d" class="">O objetivo desta história é <strong>operacionalizar o deploy da funcionalidade desenvolvida no Frontend</strong> (Streamlit), garantindo que:</p><ul id="26768338-221a-807a-a258-ebd3f6391657" class="bulleted-list"><li style="list-style-type:disc">A aplicação esteja publicada no ambiente <strong>oficial do IBS 360 (Frame do Agências)</strong>.</li></ul><ul id="26768338-221a-802f-a4df-c34b09119882" class="bulleted-list"><li style="list-style-type:disc">O código esteja <strong>versionado e revisado</strong> conforme os padrões da squad.</li></ul><ul id="26768338-221a-8067-9656-dff467799cdf" class="bulleted-list"><li style="list-style-type:disc">O processo de deploy seja <strong>documentado, rastreável e seguro</strong>.</li></ul><ul id="26768338-221a-80c8-94d2-f26d8c54ce2b" class="bulleted-list"><li style="list-style-type:disc">O monitoramento esteja habilitado (CloudWatch), garantindo observabilidade e rápida resposta em caso de falhas.</li></ul><ul id="26768338-221a-8070-93fd-c7afa3a62746" class="bulleted-list"><li style="list-style-type:disc">Os usuários autorizados consigam <strong>acessar a tela e consumir os dados via interface</strong>.</li></ul><hr id="26768338-221a-806f-814f-e3585e302478"/><h3 id="26768338-221a-8077-9111-f5b8ed0b4c79" class="">Contexto / Narrativa de Negócio</h3><ul id="26768338-221a-807e-adb0-ca18769c863e" class="bulleted-list"><li style="list-style-type:disc">A funcionalidade já foi validada com stakeholders do planejamento e áreas comerciais.</li></ul><ul id="26768338-221a-80f7-ba74-fa909f5b4be4" class="bulleted-list"><li style="list-style-type:disc">O deploy precisa ocorrer sem causar impacto em outras funcionalidades do IBS.</li></ul><ul id="26768338-221a-801f-84b8-e4004b0570fd" class="bulleted-list"><li style="list-style-type:disc">A funcionalidade está alinhada com os objetivos estratégicos de ocupação, otimização de parque e governança de rede.</li></ul><ul id="26768338-221a-8034-90ae-d904d5d7bcf5" class="bulleted-list"><li style="list-style-type:disc">A tela será acessada diretamente pelo produto “Frame do Agências”, mantendo a coesão da experiência do usuário final.</li></ul><hr id="26768338-221a-809d-8616-c704c51bf32f"/><h3 id="26768338-221a-80a4-a0ce-e51d39592744" class="">Premissas</h3><ol type="1" id="26768338-221a-80a7-9a56-efbfb0d9ee89" class="numbered-list" start="1"><li>A tela deve ser homologada em ambiente de homologação com usuários chaves do time de Planejamento Comercial e time SETA de Planejamento.</li></ol><ol type="1" id="26768338-221a-809d-b0b8-cc1e8409d80d" class="numbered-list" start="2"><li>Os dados da base integradora estão disponíveis em S3 e atualizados periodicamente.</li></ol><ol type="1" id="26768338-221a-80b8-a8d1-d498bbafdb62" class="numbered-list" start="3"><li>O processo de deploy segue os pipelines definidos no IBS 360.</li></ol><ol type="1" id="26768338-221a-804c-85bf-d7bb36eaa1ba" class="numbered-list" start="4"><li>As permissões de acesso seguem o modelo de autenticação do IBS via grupos de acessos cadastrados no POIAM.</li></ol><hr id="26768338-221a-8095-be2e-ee367a442368"/><h3 id="26768338-221a-809a-af76-d305aeaac450" class="">Regras de Negócio</h3><ol type="1" id="26768338-221a-80f4-8bc6-d4857230d053" class="numbered-list" start="1"><li>O deploy só deve ocorrer após checklist de QA (dados, design, performance).</li></ol><ol type="1" id="26768338-221a-8016-ac39-da1a26ed0626" class="numbered-list" start="2"><li>Logs devem estar ativados para rastreamento de erros em tempo real.</li></ol><ol type="1" id="26768338-221a-80f5-9402-c68c0f3b5e83" class="numbered-list" start="3"><li>Somente usuários com acesso devem acessar a funcionalidade.<ol type="a" id="26968338-221a-8098-9204-ddec262c39ec" class="numbered-list" start="1"><li>O comportamento de acesso deve respeitar<ol type="i" id="26968338-221a-8082-b68d-e477de9ab830" class="numbered-list" start="1"><li>Usuários com o grupo de acessso e que não são comerciais: visualizam todas as agências.</li></ol><ol type="i" id="26968338-221a-8038-9532-c3650c9b9dd6" class="numbered-list" start="2"><li>Usuários com o grupo de acesso e que são comerciais: visualizam apenas a sua respectiva dineg ou superintendência.<ol type="1" id="26968338-221a-8010-9491-d0779805a990" class="numbered-list" start="1"><li>Ex: Dineg 5, visualiza apenas as agências da diretoria comercial 5.</li></ol><ol type="1" id="26968338-221a-8043-9038-eb08762c2c83" class="numbered-list" start="2"><li>Ex: Supt 51, visualiza apenas as agências da superintendência comercial 51.</li></ol></li></ol></li></ol></li></ol><hr id="26768338-221a-805d-af05-d27ac2dd64d2"/><h3 id="26768338-221a-80d6-bdff-fa329618929b" class="">Tarefas</h3><ul id="26768338-221a-80ee-b506-e536ac03f6be" class="to-do-list"><li><div class="checkbox checkbox-off"></div> <span class="to-do-children-unchecked">Revisar branch final com testes homologados e pull request aprovado.</span><div class="indented"></div></li></ul><ul id="26768338-221a-80e4-804b-dc898e146674" class="to-do-list"><li><div class="checkbox checkbox-off"></div> <span class="to-do-children-unchecked">Executar pipeline de deploy.</span><div class="indented"></div></li></ul><ul id="26768338-221a-80b4-8936-c85d9c0cc069" class="to-do-list"><li><div class="checkbox checkbox-off"></div> <span class="to-do-children-unchecked">Verificar publicação da tela no frame de agências.</span><div class="indented"></div></li></ul><ul id="26768338-221a-8004-b855-c313e14ab7a4" class="to-do-list"><li><div class="checkbox checkbox-off"></div> <span class="to-do-children-unchecked">Validar acessibilidade e visibilidade para os usuários autorizados.</span><div class="indented"></div></li></ul><ul id="26768338-221a-800a-add9-d01a94855e36" class="to-do-list"><li><div class="checkbox checkbox-off"></div> <span class="to-do-children-unchecked">Acionar time de suporte para monitoramento nos primeiros dias de uso.</span><div class="indented"></div></li></ul><ul id="26768338-221a-801a-861e-ef8f9056723d" class="to-do-list"><li><div class="checkbox checkbox-off"></div> <span class="to-do-children-unchecked">Atualizar documentação de produto com link e instruções de uso.</span><div class="indented"></div></li></ul><ul id="26768338-221a-80a5-86f5-cd1c624c9cae" class="to-do-list"><li><div class="checkbox checkbox-off"></div> <span class="to-do-children-unchecked">Comunicar stakeholders e líderes comerciais sobre a nova funcionalidade.</span><div class="indented"></div></li></ul><hr id="26768338-221a-8087-9c7c-e969538effa9"/><h3 id="26768338-221a-8061-9178-f4f92d55bacc" class="">Cenários para Teste e Homologação</h3><ol type="1" id="26768338-221a-8010-b5a0-f14c1471da25" class="numbered-list" start="1"><li>Acesso autorizado ao link da nova tela por um diretor e por um Supt.</li></ol><ol type="1" id="26768338-221a-8018-b0c8-ceca6f26f1c6" class="numbered-list" start="2"><li>Verificação dos filtros e drill-downs em ambiente de produção.</li></ol><ol type="1" id="26768338-221a-8050-9943-d6e41f7fa083" class="numbered-list" start="3"><li>Testes de performance no carregamento de dados e resposta da interface.</li></ol><ol type="1" id="26768338-221a-808f-842c-edf78ecf6ba6" class="numbered-list" start="4"><li>Simulação de erro de carregamento para validar mensagens e logs.</li></ol><ol type="1" id="26768338-221a-80df-9920-da391d7d257a" class="numbered-list" start="5"><li>Verificação de logs de acesso e comportamento via painel de observabilidade.</li></ol><hr id="26768338-221a-80d8-b677-e7bcd99b731f"/><h3 id="26768338-221a-8020-a694-dc2af2f31197" class="">Impacto Esperado</h3><ul id="26768338-221a-8055-9eff-e6aa16bd4014" class="bulleted-list"><li style="list-style-type:disc">Liberação oficial da funcionalidade de Acompanhamento de Esteiras para toda a rede.</li></ul><ul id="26768338-221a-804b-82a7-d627c3598f05" class="bulleted-list"><li style="list-style-type:disc">Maior autonomia dos usuários na visualização da evolução das ações físicas.</li></ul><ul id="26768338-221a-8043-b378-eccdb9325e14" class="bulleted-list"><li style="list-style-type:disc">Redução de demanda de suporte para envio de relatórios manuais.</li></ul><ul id="26768338-221a-809a-80d1-cc46f0ec6bee" class="bulleted-list"><li style="list-style-type:disc">Garantia de rastreabilidade e governança da entrega.</li></ul><hr id="26768338-221a-8041-be54-f5182bb4703d"/><h3 id="26768338-221a-80e1-bdb8-e85eb1162fbf" class="">Conclusão</h3><ul id="26768338-221a-807a-9671-cfd078cb5647" class="bulleted-list"><li style="list-style-type:disc"><strong>Início:</strong><ul id="26768338-221a-80eb-898e-c45ed4a30fe8" class="bulleted-list"><li style="list-style-type:circle"><strong>Desejado:</strong> R3 S1 2025</li></ul><ul id="26768338-221a-800a-9dce-c35562df6d2c" class="bulleted-list"><li style="list-style-type:circle"><strong>Real: </strong>R3 S1 2025</li></ul></li></ul><ul id="26768338-221a-806d-b225-ff17e78a3d7e" class="bulleted-list"><li style="list-style-type:disc"><strong>Fim:</strong><ul id="26768338-221a-804f-9092-c5857bd54c35" class="bulleted-list"><li style="list-style-type:circle"><strong>Desejado:</strong> R3 S1 2025</li></ul><ul id="26768338-221a-80af-82c7-e03970864d81" class="bulleted-list"><li style="list-style-type:circle"><strong>Real:</strong></li></ul></li></ul><ul id="26768338-221a-80ec-87cd-dc37a62de6db" class="bulleted-list"><li style="list-style-type:disc"><strong>Resultado:</strong></li></ul><hr id="22968338-221a-81bf-98e7-fb4078d04b85"/><h1 id="22968338-221a-811f-b8ba-e2ffd14ba685" class=""><strong>Seção: IBS 360 - Geocompasso</strong></h1><h2 id="25368338-221a-800c-9777-eecdeb259189" class=""><strong>História: [Delivery][Backend] Função para Conversão de Endereço/CEP em Coordenadas Geográficas</strong></h2><ul id="25368338-221a-80cb-a89d-e07c8dda2e17" class="bulleted-list"><li style="list-style-type:disc"><strong>Visão de Produto:</strong></li></ul><p id="25368338-221a-800e-a945-c7e3a4b310d1" class="">Acreditamos que, ao <strong>implementar uma função no backend do Geocompasso que converta endereços ou CEPs em coordenadas geográficas (latitude e longitude)</strong>, para <strong>usuários da funcionalidade de prospecção do time de Folhas</strong>, resultará em <strong>maior flexibilidade na entrada de dados e automatização do processo de matching geográfico</strong>.</p><p id="25368338-221a-80c2-8a8b-eecc4d1f7ff5" class="">Saberemos que isso é verdade quando <strong>os dados inseridos (endereços ou CEPs) forem automaticamente convertidos em coordenadas, permitindo cálculos de raio e visualização no mapa sem necessidade.</strong></p><ul id="25368338-221a-80fe-bdd5-e85791c8a253" class="bulleted-list"><li style="list-style-type:disc"><strong>Descrição:</strong></li></ul><p id="25368338-221a-807a-889f-f8bfb1d26339" class="">Como time técnico do Geocompasso, queremos <strong>construir uma função backend que, ao receber um endereço ou CEP, retorne sua latitude e longitude</strong>, com tratamento de erros, <strong>para permitir a posterior análise geográfica desses pontos</strong>.</p><ul id="25368338-221a-8050-aca0-ef4a07512665" class="bulleted-list"><li style="list-style-type:disc"><strong>Premissas:</strong><ol type="1" id="25368338-221a-806e-b2a0-f1567c74985a" class="numbered-list" start="1"><li>A função será consumida pelas funcionalidades do Geocompasso.</li></ol></li></ul><ul id="25368338-221a-80e2-9f2f-c464416340a8" class="bulleted-list"><li style="list-style-type:disc"><strong>Tarefas:</strong><ol type="1" id="25368338-221a-8035-9184-ed90ad6a7021" class="numbered-list" start="1"><li>Implementar funcionalidade.</li></ol><ol type="1" id="25368338-221a-80bb-9453-d6360b6e75bc" class="numbered-list" start="2"><li>Testar amostragem real com dados do time de folhas.</li></ol></li></ul><ul id="25368338-221a-8087-a5b8-c8922c0129b8" class="bulleted-list"><li style="list-style-type:disc"><strong>Critérios de Aceite:</strong><ul id="25368338-221a-8040-9073-f8f0a91ca9e0" class="bulleted-list"><li style="list-style-type:circle">Conversão de endereço ou CEP para latitude e longitude com acurácia mínima de 85%.</li></ul><ul id="25368338-221a-8025-a57e-d0f1618a6875" class="bulleted-list"><li style="list-style-type:circle">Tratamento de exceções e logging de erros disponíveis para análise.</li></ul></li></ul><ul id="25368338-221a-8056-8434-cdb3b5af65ec" class="bulleted-list"><li style="list-style-type:disc"><strong>Impacto Esperado:</strong><ul id="25368338-221a-80b1-92bb-c7c7bd89bb3f" class="bulleted-list"><li style="list-style-type:circle">Ganho de escala e agilidade para novas análises.</li></ul><ul id="25368338-221a-8031-9873-e60bacc9b678" class="bulleted-list"><li style="list-style-type:circle">Confiabilidade no posicionamento dos pontos de entrada.</li></ul></li></ul><ul id="25368338-221a-8077-a26c-ddf2d7f34596" class="bulleted-list"><li style="list-style-type:disc"><strong>Conclusão</strong><ul id="25368338-221a-80e5-9615-e348fde6a151" class="bulleted-list"><li style="list-style-type:circle"><strong>Início:</strong><ul id="25368338-221a-80e8-b0f1-c52ca3788dc8" class="bulleted-list"><li style="list-style-type:square"><strong>Desejado:</strong> R3 S1 2025</li></ul><ul id="25368338-221a-80c4-be05-e28af6ce9f27" class="bulleted-list"><li style="list-style-type:square"><strong>Real: </strong>R3 S1 2025</li></ul></li></ul><ul id="25368338-221a-80df-83e3-f637c47b607b" class="bulleted-list"><li style="list-style-type:circle"><strong>Fim:</strong><ul id="25368338-221a-8086-842d-caac82d0890e" class="bulleted-list"><li style="list-style-type:square"><strong>Desejado:</strong> R3 S1 2025</li></ul><ul id="25368338-221a-80ce-8d68-e41d99dd60e8" class="bulleted-list"><li style="list-style-type:square"><strong>Real:</strong></li></ul></li></ul><ul id="25368338-221a-805d-85dc-d4ecd0a81915" class="bulleted-list"><li style="list-style-type:circle"><strong>Resultado:</strong> <ul id="25368338-221a-800c-bee6-f0c6b4f3037a" class="bulleted-list"><li style="list-style-type:square">R3 S2 2025 - Repriorizado para R3 S4 2025. A colaboradora Beatriz foi remanejada para a frente de Inteligência Imobiliária - Planejamento de Negociação.</li></ul></li></ul></li></ul><h2 id="25368338-221a-8068-bbca-cd81e08bbfb2" class=""><strong>História: [Delivery][Frontend] Entrada Manual de Endereço/CEP para Busca Direta no Geocompasso</strong></h2><ul id="25368338-221a-8084-a189-fdb33a77d056" class="bulleted-list"><li style="list-style-type:disc"><strong>Visão de Produto:</strong></li></ul><p id="25368338-221a-80d3-a5a8-c5dfaa4ea09a" class="">Acreditamos que, ao <strong>permitir que o usuário do Geocompasso insira manualmente endereços ou CEPs para buscar pontos de interesse no mapa</strong>, para <strong>usuários como o time de Folhas e analistas territoriais</strong>, resultará em <strong>uma experiência mais dinâmica, acessível e adaptável para análises pontuais sem depender da Base 360</strong>.</p><p id="25368338-221a-80ec-9e9f-f0af40a8658c" class="">Saberemos que isso é verdade quando <strong>usuários forem capazes de digitar um endereço ou CEP e visualizar diretamente no mapa o ponto buscado e os equipamentos no entorno, com base no raio selecionado.</strong></p><ul id="25368338-221a-804d-9636-c018309f0421" class="bulleted-list"><li style="list-style-type:disc"><strong>Descrição:</strong></li></ul><p id="25368338-221a-8076-924c-d6bffb94be45" class="">Como <strong>usuário do Geocompasso</strong>, quero <strong>digitar um endereço ou CEP diretamente na interface</strong>, selecionar um raio de busca (ex: 2km, 4km) e visualizar <strong>quantos TecBans, PABs, PAEs ou agências existem ao redor</strong>, sem depender de um código de agência ou da entrada via Base 360.</p><ul id="25368338-221a-80bc-a5cb-db735ed83424" class="bulleted-list"><li style="list-style-type:disc"><strong>Premissas:</strong><ol type="1" id="25368338-221a-809c-a3c6-ecb5d981a549" class="numbered-list" start="1"><li>A função de geocodificação já está implementada no backend.</li></ol></li></ul><ul id="25368338-221a-801b-9ad9-d493c1e053f2" class="bulleted-list"><li style="list-style-type:disc"><strong>Tarefas:</strong><ol type="1" id="25368338-221a-80b3-bc28-df792df3f14b" class="numbered-list" start="1"><li>Criar componente de input para endereço/CEP com validação.</li></ol><ol type="1" id="25368338-221a-80f4-972d-eff09c6251b0" class="numbered-list" start="2"><li>Conectar com a função de geocodificação.</li></ol><ol type="1" id="25368338-221a-802c-9737-df8d719e7d4f" class="numbered-list" start="3"><li>Apresentar o ponto buscado no mapa com marcador.</li></ol><ol type="1" id="25368338-221a-800b-9aee-e8baa3a39f5f" class="numbered-list" start="4"><li>Permitir ao usuário seguir o fluxo do geocompasso.</li></ol></li></ul><ul id="25368338-221a-80f5-82f0-cfd9aec7792a" class="bulleted-list"><li style="list-style-type:disc"><strong>Critérios de Aceite:</strong><ul id="25368338-221a-8066-b8e7-ce8a9b89a2cd" class="bulleted-list"><li style="list-style-type:circle">Campo funcional para entrada de endereço ou CEP.</li></ul><ul id="25368338-221a-80f0-a08e-df49c9efa927" class="bulleted-list"><li style="list-style-type:circle">Resultado exibido corretamente no mapa com marcador e raio.</li></ul></li></ul><ul id="25368338-221a-807d-89e8-d84b93b8c0ce" class="bulleted-list"><li style="list-style-type:disc"><strong>Impacto Esperado:</strong><ul id="25368338-221a-807c-b68f-ee953e2de6b0" class="bulleted-list"><li style="list-style-type:circle">Expansão do uso do Geocompasso para análises pontuais e não estruturadas.</li></ul><ul id="25368338-221a-80e7-aa4b-c8d1f71d0ed7" class="bulleted-list"><li style="list-style-type:circle">Redução de dependência da Base 360 para análises geográficas.</li></ul><ul id="25368338-221a-807a-b9cd-fdacac45994f" class="bulleted-list"><li style="list-style-type:circle">Maior autonomia e agilidade para áreas como Folhas e Logística.</li></ul></li></ul><ul id="25368338-221a-8048-9fb4-eb3c497f11cd" class="bulleted-list"><li style="list-style-type:disc"><strong>Conclusão</strong><ul id="25368338-221a-80d3-94e0-f467a09cdc24" class="bulleted-list"><li style="list-style-type:circle"><strong>Início:</strong><ul id="25368338-221a-8026-b71e-f849f833b8c5" class="bulleted-list"><li style="list-style-type:square"><strong>Desejado:</strong> R3 S1 2025</li></ul><ul id="25368338-221a-80e0-9cc6-d63d2e4505de" class="bulleted-list"><li style="list-style-type:square"><strong>Real: </strong>R3 S1 2025</li></ul></li></ul><ul id="25368338-221a-806f-98da-d4816c2e1a4b" class="bulleted-list"><li style="list-style-type:circle"><strong>Fim:</strong><ul id="25368338-221a-809d-aff8-f76ddfc2ec3a" class="bulleted-list"><li style="list-style-type:square"><strong>Desejado:</strong> R3 S1 2025</li></ul><ul id="25368338-221a-80ea-89c5-eabc2e806c67" class="bulleted-list"><li style="list-style-type:square"><strong>Real:</strong></li></ul></li></ul><ul id="25368338-221a-8099-b61d-f5f8c7d072c4" class="bulleted-list"><li style="list-style-type:circle"><strong>Resultado:</strong> <ul id="25368338-221a-80aa-8bb5-d28fb088151f" class="bulleted-list"><li style="list-style-type:square">R3 S2 2025 - Repriorizado para R3 S4 2025. A colaboradora Beatriz foi remanejada para a frente de Inteligência Imobiliária - Planejamento de Negociação.</li></ul></li></ul></li></ul><h2 id="26968338-221a-8066-aed9-cdcc6dd29069" class="">História: [Delivery][Frontend] Funcionalidades – Prospecção de Folhas no Geocompasso</h2><h3 id="26968338-221a-80f9-9c15-de6a00b960c6" class=""><strong>Visão de Produto</strong></h3><p id="26968338-221a-80a3-88a2-f3c3b3c0dc1d" class="">Acreditamos que, ao <strong>permitir que o time de Folhas realize prospecções geográficas a partir de endereços ou CEPs diretamente no Geocompasso, com enriquecimento completo dos dados</strong>, resultará em <strong>maior agilidade, precisão e autonomia na avaliação de oportunidades (ex.: prospecção de folhas INSS)</strong>.</p><p id="26968338-221a-80d0-9a47-c0b666eba3fe" class="">Saberemos que isso é verdade quando <strong>os critérios de prospecção hoje tratados manualmente em planilhas puderem ser automatizados via inserção de uma lista de ceps/endereços manualmente ou upload de planilha, com outputs enriquecidos e exportáveis</strong>.</p><hr id="26968338-221a-80d2-a182-ea2a7fe0673c"/><h3 id="26968338-221a-809f-9afe-ca87c03f368c" class=""><strong>Descrição</strong></h3><p id="26968338-221a-804e-80b6-eef10cd7ad3d" class="">Como <strong>usuário estratégico do time de Folhas</strong>, quero <strong>subir uma lista de endereços ou CEPs no Geocompasso</strong>, para que a ferramenta <strong>enriqueça automaticamente esses dados e retorne uma tabela consolidada (sem interface de mapa neste primeiro momento)</strong>, contendo:</p><ul id="26968338-221a-80bf-a594-f47912d70f2b" class="bulleted-list"><li style="list-style-type:disc"><strong>Cidade de referência</strong>.</li></ul><ul id="26968338-221a-80a8-a853-ca0625e110d8" class="bulleted-list"><li style="list-style-type:disc"><strong>Se há ou não agência Itaú na cidade (sim/não)</strong>.</li></ul><ul id="26968338-221a-80a3-a508-e1a451f63d5c" class="bulleted-list"><li style="list-style-type:disc">Para cada entidade (Agência Itaú, TecBan, PIX Saque e Troco, Concorrentes, Parceiros Itaú):<ol type="1" id="26968338-221a-802e-8c68-ee3426b5758f" class="numbered-list" start="1"><li>Distância até a unidade mais próxima (em km).</li></ol><ol type="1" id="26968338-221a-806f-acfc-f828285f4f3e" class="numbered-list" start="2"><li>Quantidade de unidades no raio de 5 km, 10 km e 15 km.</li></ol><ol type="1" id="26968338-221a-800b-bd84-d1cdea2b3abe" class="numbered-list" start="3"><li>Lista de unidades no raio de 5 km, 10 km e 15 km (IDs/nome/endereço).</li></ol></li></ul><p id="26968338-221a-80c8-a370-f13deb7c23ec" class="">Assim, <strong>posso avaliar a viabilidade de prospecção de novas folhas (ex.: Folha da Sabesp, Bunge) sem depender de análises manuais em Excel</strong>.</p><p id="26968338-221a-8075-b01d-c2b3c1cba5cc" class=""><strong>Escopo:</strong></p><ul id="26968338-221a-80e1-ab6f-fcd84ac9918a" class="bulleted-list"><li style="list-style-type:disc">Inserção de CEP/Endereço manualmente</li></ul><ul id="26968338-221a-80e7-81ca-cb594f2fc126" class="bulleted-list"><li style="list-style-type:disc">Upload de planilha contendo endereços/CEPs.</li></ul><ul id="26968338-221a-801a-875e-cb67a4af01ec" class="bulleted-list"><li style="list-style-type:disc">Enriquecimento automático da tabela com as métricas acima.</li></ul><ul id="26968338-221a-800a-bc07-c0927b27356b" class="bulleted-list"><li style="list-style-type:disc">Visualização apenas em tabela enriquecida (futuramente deveremos abranger visão mapa).</li></ul><ul id="26968338-221a-8091-b7b3-dd2ec4f220e3" class="bulleted-list"><li style="list-style-type:disc">Exportação da tabela enriquecida com todos os campos calculados.</li></ul><hr id="26968338-221a-80a3-ad37-dcf1692dbc41"/><h3 id="26968338-221a-8029-8c8d-dd9e7461ffa2" class=""><strong>Visão do Usuário</strong></h3><p id="26968338-221a-8093-9772-f27048c1f883" class="">Usuários estratégicos do time de Folhas terão autonomia para executar <strong>análises geográficas enriquecidas e comparativas</strong> diretamente no Geocompasso, reduzindo dependência de análises manuais e acelerando a prospecção.</p><hr id="26968338-221a-80e6-b67a-e4ed4755170b"/><h3 id="26968338-221a-804f-badf-c0ebc29a21a5" class=""><strong>Contexto / Narrativa de Negócio</strong></h3><p id="26968338-221a-80bd-ba5e-dd94753d8bb0" class="">Hoje, o time de Folhas realiza cálculos de prospecção manualmente via planilhas, com alto tempo gasto e risco de inconsistência. A nova funcionalidade transforma esse processo em uma <strong>análise enriquecida e automática</strong>, padronizada para múltiplos pontos em lote.</p><hr id="26968338-221a-80c6-ba21-e19b3cef78c8"/><h3 id="26968338-221a-804b-87b9-c961fe1a51d1" class=""><strong>Premissas</strong></h3><ol type="1" id="26968338-221a-8090-bc7e-c062995f39c6" class="numbered-list" start="1"><li>Base geográfica de <strong>agências Itaú, TecBans, PIX, concorrentes e parceiros Itaú</strong> já disponível na Base 360.</li></ol><ol type="1" id="26968338-221a-808c-bec1-cd445ecee3c5" class="numbered-list" start="2"><li>Backend será capaz de realizar <strong>matching geográfico, contagem e cálculo de distâncias</strong>.</li></ol><ol type="1" id="26968338-221a-8046-aa5c-d173207d79a4" class="numbered-list" start="3"><li>O enriquecimento será realizado via IBS 360, já preparada para ser consumida pelo frontend.</li></ol><hr id="26968338-221a-8038-a7a3-c27fcd7adb6b"/><h3 id="26968338-221a-8041-970f-cc28c30531b6" class=""><strong>Regras de Negócio</strong></h3><ol type="1" id="26968338-221a-8016-8ffd-ed33cba3691b" class="numbered-list" start="1"><li><strong>Entrada:</strong> planilha com endereços ou CEPs OU inserção manual do usuário.</li></ol><ol type="1" id="26968338-221a-80d3-8434-d9a2295b50bd" class="numbered-list" start="2"><li><strong>Saída:</strong> tabela enriquecida exportável em xlsx.</li></ol><ol type="1" id="26968338-221a-80cc-b114-f3bb9c412da0" class="numbered-list" start="3"><li>Campos obrigatórios no enriquecimento:<ul id="26968338-221a-8038-adb1-c55684835085" class="bulleted-list"><li style="list-style-type:disc">Cidade.</li></ul><ul id="26968338-221a-80a6-853e-fb264a450e18" class="bulleted-list"><li style="list-style-type:disc">Existe agência Itaú na cidade (sim/não).</li></ul><ul id="26968338-221a-80a4-9dff-e7142d039ded" class="bulleted-list"><li style="list-style-type:disc">Distância (km) da unidade mais próxima de cada tipo (Itaú, TecBan, PIX, Concorrente, Parceiro Itaú).</li></ul><ul id="26968338-221a-80c4-81d0-ef9c0fa1b24a" class="bulleted-list"><li style="list-style-type:disc">Quantidade de unidades nos raios de 5 km, 10 km e 15 km.</li></ul><ul id="26968338-221a-8057-9e1c-e35f9d92c9cf" class="bulleted-list"><li style="list-style-type:disc">Lista de unidades nos raios de 5 km, 10 km e 15 km (detalhes: ID, nome, endereço).</li></ul></li></ol><ol type="1" id="26968338-221a-80bb-8ecc-d8548bb6e911" class="numbered-list" start="4"><li>Os resultados devem estar disponíveis em <strong>até y segundos</strong> para planilhas de até <em>n</em> registros (<mark class="highlight-red">definir valor com TechLead</mark>).</li></ol><ol type="1" id="26968338-221a-80fb-b05d-ed3cd11329fd" class="numbered-list" start="5"><li>Exportação deve conter todos os campos acima.</li></ol><hr id="26968338-221a-809a-8a68-fcb68e745f62"/><h3 id="26968338-221a-80f2-b152-fa8bdec41b55" class=""><strong>Informações Técnicas</strong></h3><ul id="26968338-221a-80e4-955c-e632ae0aa8b4" class="bulleted-list"><li style="list-style-type:disc"><strong>Frontend:</strong> Geocompasso (IBS 360 - Streamlit).</li></ul><ul id="26968338-221a-8082-97a9-cac7e2347d29" class="bulleted-list"><li style="list-style-type:disc"><strong>Output:</strong> Tabela enriquecida + exportação xlsx.</li></ul><ul id="26968338-221a-80c0-87ad-f410e29cdc8c" class="bulleted-list"><li style="list-style-type:disc"><strong>Integração:</strong> Backend para cálculos geográficos (matching + distâncias).</li></ul><ul id="26968338-221a-80a1-bdbb-e8407a505bb8" class="bulleted-list"><li style="list-style-type:disc"><strong>Observabilidade:</strong> Logs no CloudWatch.</li></ul><hr id="26968338-221a-8032-a0e7-c9899a3785e3"/><h3 id="26968338-221a-8086-bfd7-dd6ba9856a0c" class=""><strong>Tarefas</strong></h3><ol type="1" id="26968338-221a-8060-9656-d1a268cd24bf" class="numbered-list" start="1"><li>Implementar upload de planilha com endereços/CEPs (já há outra história focada nisso em:)</li></ol><ol type="1" id="26968338-221a-8058-b796-c757d5df207b" class="numbered-list" start="2"><li>Conectar funções de backend para enriquecimento.</li></ol><ol type="1" id="26968338-221a-800d-b05a-e71e6b0c2320" class="numbered-list" start="3"><li>Renderizar tabela enriquecida com todos os campos definidos.</li></ol><ol type="1" id="26968338-221a-8000-b391-e0baa071aa2a" class="numbered-list" start="4"><li>Implementar exportação da tabela enriquecida.</li></ol><ol type="1" id="26968338-221a-8059-b3ce-c598ff0846e4" class="numbered-list" start="5"><li>Validar experiência de uso e performance com stakeholders.</li></ol><hr id="26968338-221a-80b3-85b0-f2933393789c"/><h3 id="26968338-221a-8011-b740-c05acd0e6aa5" class=""><strong>Cenários para Teste e Homologação</strong></h3><ul id="26968338-221a-8002-aeba-e7a46583ea77" class="to-do-list"><li><div class="checkbox checkbox-off"></div> <span class="to-do-children-unchecked">Upload de planilha gera tabela enriquecida com todos os campos obrigatórios.</span><div class="indented"></div></li></ul><ul id="26968338-221a-80ba-b0d5-d4fc61f6069a" class="to-do-list"><li><div class="checkbox checkbox-off"></div> <span class="to-do-children-unchecked">Campo “Agência Itaú na cidade” retorna sim/não corretamente.</span><div class="indented"></div></li></ul><ul id="26968338-221a-8096-9e90-cf2c0cc885f2" class="to-do-list"><li><div class="checkbox checkbox-off"></div> <span class="to-do-children-unchecked">Distância mínima até a unidade mais próxima é calculada corretamente.</span><div class="indented"></div></li></ul><ul id="26968338-221a-8071-aa66-f041bb204612" class="to-do-list"><li><div class="checkbox checkbox-off"></div> <span class="to-do-children-unchecked">Quantidade de unidades em 5 km, 10 km e 15 km é exibida corretamente para cada tipo.</span><div class="indented"></div></li></ul><ul id="26968338-221a-80f4-b030-d2fe021a275d" class="to-do-list"><li><div class="checkbox checkbox-off"></div> <span class="to-do-children-unchecked">Exportação contém todos os campos definidos.</span><div class="indented"></div></li></ul><ul id="26968338-221a-80ec-aa0c-cee9c5111f65" class="to-do-list"><li><div class="checkbox checkbox-off"></div> <span class="to-do-children-unchecked">Layout é responsivo e suporta grandes volumes de dados.</span><div class="indented"></div></li></ul><hr id="26968338-221a-80dc-a526-f334d12d913c"/><h3 id="26968338-221a-801f-9a93-c9f8d5c3fd48" class=""><strong>Critérios de Aceite</strong></h3><ul id="26968338-221a-80e6-b0f1-e733ab5a1bb8" class="to-do-list"><li><div class="checkbox checkbox-off"></div> <span class="to-do-children-unchecked">Enriquecimento automático gera todos os campos definidos.</span><div class="indented"></div></li></ul><ul id="26968338-221a-80dc-9a16-fc16314fc25b" class="to-do-list"><li><div class="checkbox checkbox-off"></div> <span class="to-do-children-unchecked">Resultados apresentados em até y segundos para lotes médios (<em>n</em> registros – a definir).</span><div class="indented"></div></li></ul><ul id="26968338-221a-80e0-bd18-e16b7cdc69af" class="to-do-list"><li><div class="checkbox checkbox-off"></div> <span class="to-do-children-unchecked">Exportação de resultados em xlsx está disponível.</span><div class="indented"></div></li></ul><ul id="26968338-221a-8042-8a72-d427569f4da0" class="to-do-list"><li><div class="checkbox checkbox-off"></div> <span class="to-do-children-unchecked">Dados consistentes com consultas validadas na Base 360 e Google Maps.</span><div class="indented"></div></li></ul><ul id="26968338-221a-8030-91fb-cd307540ea48" class="to-do-list"><li><div class="checkbox checkbox-off"></div> <span class="to-do-children-unchecked">Homologação validada com time de Folhas.</span><div class="indented"></div></li></ul><hr id="26968338-221a-806c-b856-f422c96d8fd0"/><h3 id="26968338-221a-8041-b181-e2f53cc4209f" class=""><strong>Impacto Esperado</strong></h3><ul id="26968338-221a-802c-88d6-f1e282cc35ec" class="bulleted-list"><li style="list-style-type:disc">Redução significativa do tempo gasto em análises manuais.</li></ul><ul id="26968338-221a-807e-aab5-df1514722b80" class="bulleted-list"><li style="list-style-type:disc">Maior confiabilidade e padronização nas prospecções.</li></ul><ul id="26968338-221a-80bc-ad17-d62437275450" class="bulleted-list"><li style="list-style-type:disc">Geocompasso consolidado como ferramenta central de decisão territorial para Folhas.</li></ul><hr id="26968338-221a-80c6-a35f-ed312d918954"/><h3 id="26968338-221a-80f3-a530-fab1bb7b3fee" class=""><strong>Conclusão</strong></h3><ul id="26968338-221a-803c-a166-c92844bcfa01" class="bulleted-list"><li style="list-style-type:disc"><strong>Início:</strong><ul id="26968338-221a-80ef-91d3-c27962776e32" class="bulleted-list"><li style="list-style-type:circle"><strong>Desejado:</strong> R3 S4 2025</li></ul><ul id="26968338-221a-80d0-8455-d543096d4d10" class="bulleted-list"><li style="list-style-type:circle"><strong>Real:</strong> R3 S4 2025</li></ul></li></ul><ul id="26968338-221a-80d1-bb4f-c59e785733ad" class="bulleted-list"><li style="list-style-type:disc"><strong>Fim:</strong><ul id="26968338-221a-80a0-bcf3-c2c0f76dde5b" class="bulleted-list"><li style="list-style-type:circle"><strong>Desejado:</strong> R3 S4 2025</li></ul><ul id="26968338-221a-8026-958e-cbb104798668" class="bulleted-list"><li style="list-style-type:circle"><strong>Real:</strong> <em>(preencher ao fim da sprint)</em></li></ul></li></ul><ul id="26968338-221a-80c9-af35-d687f18465aa" class="bulleted-list"><li style="list-style-type:disc"><strong>Resultado:</strong> <em>(preencher ao fim da sprint)</em></li></ul><hr id="22968338-221a-810e-b206-d0fe969ebdda"/><h1 id="22968338-221a-8165-8dda-c8031fea684e" class=""><strong>Seção: Radar Imobiliário</strong></h1><hr id="22968338-221a-8141-b51b-c3661a13c389"/><h1 id="22968338-221a-81ac-a457-dc5eaf72f18d" class=""><strong>Seção: Inteligência Imobiliária</strong></h1><h2 id="26968338-221a-8048-afe2-eae639978daf" class="">História: [Delivery][Backend] Orquestração em AWS Lambda do ETL de Base Filtrada a partir do Planejamento de Negociações</h2><h3 id="26968338-221a-80cb-a9d5-c10fe19eec88" class=""><strong>Visão de Produto</strong></h3><p id="26968338-221a-80f8-97fb-ef34d23f5880" class="">Acreditamos que, ao <strong>orquestrar o processo de geração da base filtrada em uma Lambda na AWS, consumindo diretamente os parâmetros preenchidos no frontend do Planejamento de Negociações</strong>, resultará em <strong>um fluxo mais escalável, automatizado e seguro</strong>, garantindo que cada simulação rode de ponta a ponta sem intervenção manual.</p><p id="26968338-221a-8019-96b5-e9770ea13d0a" class="">Saberemos que isso é verdade quando os <strong>planejamentos realizadas pelo time de Advanced Analytics utilizarem a base filtrada gerada pela Lambda, com rastreabilidade garantida via UUID e performance adequada em múltiplos cenários</strong>.</p><hr id="26968338-221a-8072-99b6-c2bffea2b702"/><h3 id="26968338-221a-8076-bfc6-eebac11a8a95" class=""><strong>Descrição</strong></h3><p id="26968338-221a-80b3-b443-e4f8f5b05ed5" class="">Como <strong>time de engenharia do IBS 360</strong>, queremos <strong>migrar o fluxo de geração da base filtrada (hoje em Python standalone) para execução em uma Lambda AWS</strong>, que:</p><ol type="1" id="26968338-221a-8069-9474-e4c963349488" class="numbered-list" start="1"><li>Receba os <strong>filtros preenchidos pelo frontend</strong>.</li></ol><ol type="1" id="26968338-221a-8081-be8b-e683331afe30" class="numbered-list" start="2"><li>Leia os dados da <strong>base consolidada pelo ETL1 (GPA + Osiris)</strong>.</li></ol><ol type="1" id="26968338-221a-804b-966e-fe73b3b1f1a9" class="numbered-list" start="3"><li>Aplique os filtros de elegibilidade e gere uma <strong>base reduzida e segura</strong>.</li></ol><ol type="1" id="26968338-221a-80cf-affb-ecf9a9294a7a" class="numbered-list" start="4"><li>Salve o resultado em <strong>estrutura versionada, vinculada ao UUID da simulação</strong>, para uso pelo time de Advanced Analytics.</li></ol><hr id="26968338-221a-8035-aa7a-e6e1de7763a2"/><h3 id="26968338-221a-8020-b871-fd63a9780a60" class=""><strong>Visão do Usuário</strong></h3><p id="26968338-221a-802d-94a6-ce98ebb06986" class="">O usuário final não interage diretamente com a Lambda, mas se beneficia de:</p><ul id="26968338-221a-808b-befb-d219ce77338d" class="bulleted-list"><li style="list-style-type:disc"><strong>Simulações mais rápidas</strong>.</li></ul><ul id="26968338-221a-8079-b24b-d398d0641d56" class="bulleted-list"><li style="list-style-type:disc"><strong>Resultados coerentes com os filtros aplicados</strong>.</li></ul><ul id="26968338-221a-8061-a5d7-ddc49d88303d" class="bulleted-list"><li style="list-style-type:disc"><strong>Garantia de rastreabilidade</strong> entre filtros aplicados → base gerada → resultados da simulação.</li></ul><hr id="26968338-221a-8032-9f7f-fb47368c1a1e"/><h3 id="26968338-221a-8072-9f36-fd2a016321e2" class=""><strong>Contexto / Narrativa de Negócio</strong></h3><p id="26968338-221a-807a-a7b3-ec48611bb898" class="">Esse avanço elimina a dependência de scripts locais em Python, criando um <strong>pipeline 100% cloud-native</strong>:</p><ul id="26968338-221a-8011-9da3-d2e83b24ef64" class="bulleted-list"><li style="list-style-type:disc">Automação ponta a ponta (frontend → Lambda → base filtrada).</li></ul><ul id="26968338-221a-8027-9e71-c770986bfa41" class="bulleted-list"><li style="list-style-type:disc">Escalabilidade para múltiplas simulações concorrentes.</li></ul><ul id="26968338-221a-8051-a18b-ff58b05ee094" class="bulleted-list"><li style="list-style-type:disc">Governança com logs centralizados e versionamento automático.</li></ul><hr id="26968338-221a-8057-9994-cd093081e1fa"/><h3 id="26968338-221a-8070-ba14-f47a76b3fe68" class=""><strong>Premissas</strong></h3><ol type="1" id="26968338-221a-8009-b832-f3db15694b7f" class="numbered-list" start="1"><li>A base consolidada de imóveis (ETL1) está disponível em storage corporativo (S3/RDS).</li></ol><ol type="1" id="26968338-221a-80a4-b6ac-db8ff989fef5" class="numbered-list" start="2"><li>O frontend já envia os parâmetros de filtro ao backend.</li></ol><ol type="1" id="26968338-221a-80a4-a96f-ee16831c8367" class="numbered-list" start="3"><li>O ambiente AWS do IBS 360 tem suporte a Lambda + API Gateway + S3.</li></ol><ol type="1" id="26968338-221a-8018-8f6e-dc1adab12415" class="numbered-list" start="4"><li>UUID de simulação será gerado pelo backend e propagado até a Lambda.</li></ol><hr id="26968338-221a-808a-bb11-c53e0fa810cb"/><h3 id="26968338-221a-802e-89aa-f9b87caaa1c4" class=""><strong>Regras de Negócio</strong></h3><ol type="1" id="26968338-221a-80cc-9821-d0940d9bd75d" class="numbered-list" start="1"><li>A base final deve conter apenas imóveis <strong>elegíveis conforme filtros</strong> do usuário.</li></ol><ol type="1" id="26968338-221a-80f5-a638-ff21a5e5a23c" class="numbered-list" start="2"><li>Cada execução gera um <strong>arquivo exclusivo</strong>, identificado pelo UUID.</li></ol><ol type="1" id="26968338-221a-802b-9b6a-ff1dcc85b2e5" class="numbered-list" start="3"><li>Os arquivos devem ser armazenados em bucket S3 com <strong>padrão de nomenclatura</strong>:<ul id="26968338-221a-80ee-9ab2-d22df226a9f9" class="bulleted-list"><li style="list-style-type:disc"><code>simulacoes/{uuid}/base_filtrada.parquet</code></li></ul><ul id="26968338-221a-80ba-ae0a-f9863f3d4beb" class="bulleted-list"><li style="list-style-type:disc">Futuramente esse base será democratizada via fluxo Glue - usando o Lake Formation.</li></ul></li></ol><ol type="1" id="26968338-221a-805c-ac32-c7dfc775bad4" class="numbered-list" start="4"><li>Logs da execução devem registrar parâmetros aplicados e quantidade de registros filtrados.</li></ol><ol type="1" id="26968338-221a-8034-9219-e245ee90895e" class="numbered-list" start="5"><li>A Lambda deve suportar <strong>execuções concorrentes</strong> (um ETL por simulação).</li></ol><hr id="26968338-221a-8034-a01e-c22af63dfd02"/><h3 id="26968338-221a-80c4-90ae-dccf8b9a49f0" class=""><strong>Informações Técnicas</strong></h3><ul id="26968338-221a-80d1-a9df-dafa707d6f32" class="bulleted-list"><li style="list-style-type:disc"><strong>Linguagem:</strong> Python.</li></ul><ul id="26968338-221a-80c9-98e1-ee991eddac61" class="bulleted-list"><li style="list-style-type:disc"><strong>Infraestrutura:</strong> AWS Lambda + API Gateway + S3.</li></ul><ul id="26968338-221a-80f1-8ed0-e9ff13b5be91" class="bulleted-list"><li style="list-style-type:disc"><strong>Entrada:</strong> JSON com filtros enviados pelo frontend + UUID.</li></ul><ul id="26968338-221a-8051-904d-dbbf4c2d79c7" class="bulleted-list"><li style="list-style-type:disc"><strong>Processamento:</strong> Cálculo dos dados respeitando as regras de negócio enviadas pelo Stakeholder.</li></ul><ul id="26968338-221a-807f-abc3-e997c7d3e38d" class="bulleted-list"><li style="list-style-type:disc"><strong>Saída:</strong> Arquivo Parquet/CSV no S3.</li></ul><ul id="26968338-221a-80f1-8e10-e11d8527baac" class="bulleted-list"><li style="list-style-type:disc"><strong>Observabilidade:</strong> CloudWatch logs estruturados.</li></ul><hr id="26968338-221a-808e-91b4-e3065127e6bc"/><h3 id="26968338-221a-8014-8445-fe67e7802144" class=""><strong>Tarefas</strong></h3><ol type="1" id="26968338-221a-80b5-aa7c-f30b361bb8e5" class="numbered-list" start="1"><li>Criar Lambda em Python para execução do fluxo de filtragem.</li></ol><ol type="1" id="26968338-221a-80b6-99c4-ca58d1a2159f" class="numbered-list" start="2"><li>Expor endpoint via API Gateway para receber filtros do frontend.</li></ol><ol type="1" id="26968338-221a-80e3-99c3-fe06f6e1d294" class="numbered-list" start="3"><li>Salvar base filtrada em bucket S3 com versionamento (UUID).</li></ol><ol type="1" id="26968338-221a-8089-9034-ce1f9b3c9522" class="numbered-list" start="4"><li>Implementar logs detalhados (parâmetros, contagem de registros).</li></ol><ol type="1" id="26968338-221a-802a-9e71-df976866564d" class="numbered-list" start="5"><li>Testar execuções paralelas com múltiplos UUIDs.</li></ol><ol type="1" id="26968338-221a-8026-bfaf-e58a0db275d3" class="numbered-list" start="6"><li>Documentar arquitetura e fluxo (frontend → API → Lambda → S3).</li></ol><hr id="26968338-221a-8028-83d8-ca4defdf7bf7"/><h3 id="26968338-221a-801b-8bcc-f4e259bbea70" class=""><strong>Cenários para Teste e Homologação</strong></h3><ul id="26968338-221a-8056-b3d6-f599f3a9500d" class="to-do-list"><li><div class="checkbox checkbox-off"></div> <span class="to-do-children-unchecked">Execução da Lambda com filtros diferentes gera bases distintas (UUIDs únicos).</span><div class="indented"></div></li></ul><ul id="26968338-221a-8092-bb95-d41a76909f86" class="to-do-list"><li><div class="checkbox checkbox-off"></div> <span class="to-do-children-unchecked">Apenas imóveis elegíveis aparecem na base final.</span><div class="indented"></div></li></ul><ul id="26968338-221a-8091-9fcd-e45486992ddb" class="to-do-list"><li><div class="checkbox checkbox-off"></div> <span class="to-do-children-unchecked">Arquivos são gravados corretamente no S3 com nomenclatura esperada.</span><div class="indented"></div></li></ul><ul id="26968338-221a-8026-a161-e823079e0aa0" class="to-do-list"><li><div class="checkbox checkbox-off"></div> <span class="to-do-children-unchecked">Logs mostram parâmetros aplicados e número de registros processados.</span><div class="indented"></div></li></ul><ul id="26968338-221a-8030-b03a-c4d85dac7f8e" class="to-do-list"><li><div class="checkbox checkbox-off"></div> <span class="to-do-children-unchecked">Lambda suporta execuções concorrentes sem degradação de performance.</span><div class="indented"></div></li></ul><ul id="26968338-221a-80a5-9794-de49133c9957" class="to-do-list"><li><div class="checkbox checkbox-off"></div> <span class="to-do-children-unchecked">Advanced Analytics consegue consumir a base filtrada em simulações.</span><div class="indented"></div></li></ul><hr id="26968338-221a-80c4-8c59-cb10747f1e9c"/><h3 id="26968338-221a-8084-a898-d501f797c9f1" class=""><strong>Critérios de Aceite</strong></h3><p id="26968338-221a-8091-9a3d-c073c2a4a508" class="">✅ Lambda recebe filtros do frontend e executa ETL corretamente.</p><p id="26968338-221a-80f6-8a19-d84441b71fa7" class="">✅ Arquivos gerados no S3 estão vinculados a UUIDs únicos.</p><p id="26968338-221a-8021-80cb-cc735251f363" class="">✅ Logs estruturados disponíveis em CloudWatch.</p><p id="26968338-221a-804b-98b7-eb167dccb2f9" class="">✅ Dados consistentes com filtros aplicados.</p><p id="26968338-221a-80bd-985b-cb9683ca6822" class="">✅ Base consumível pelos modelos de Advanced Analytics.</p><hr id="26968338-221a-8057-8689-f002259381f6"/><h3 id="26968338-221a-8038-9c1a-e49479c68392" class=""><strong>Impacto Esperado</strong></h3><ul id="26968338-221a-8057-ae3d-f0f06410aba2" class="bulleted-list"><li style="list-style-type:disc">Automação ponta a ponta entre frontend → backend → simulação.</li></ul><ul id="26968338-221a-8011-9666-d458bd32d2aa" class="bulleted-list"><li style="list-style-type:disc">Redução do tempo de execução de simulações.</li></ul><ul id="26968338-221a-80c1-a894-e83c4a549021" class="bulleted-list"><li style="list-style-type:disc">Rastreabilidade e versionamento garantidos.</li></ul><ul id="26968338-221a-8092-8736-d43171c07ed8" class="bulleted-list"><li style="list-style-type:disc">Adoção de arquitetura cloud-native com governança.</li></ul><hr id="26968338-221a-805d-8bb4-f00bebcf88ab"/><h3 id="26968338-221a-8040-8b40-df15f256148c" class=""><strong>Conclusão</strong></h3><ul id="26968338-221a-8035-aa07-e0ebf9053306" class="bulleted-list"><li style="list-style-type:disc"><strong>Início:</strong><ul id="26968338-221a-8055-8b6a-c3f9c32990e7" class="bulleted-list"><li style="list-style-type:circle"><strong>Desejado:</strong> R3 S4 2025</li></ul><ul id="26968338-221a-8049-a4ca-e61159cf98cc" class="bulleted-list"><li style="list-style-type:circle"><strong>Real:</strong> R3 S4 2025</li></ul></li></ul><ul id="26968338-221a-8090-8037-ea4b5f129540" class="bulleted-list"><li style="list-style-type:disc"><strong>Fim:</strong><ul id="26968338-221a-80dd-b3d4-c66a29c123d1" class="bulleted-list"><li style="list-style-type:circle"><strong>Desejado:</strong> R3 S4 2025</li></ul><ul id="26968338-221a-8029-933d-cb407bbb4393" class="bulleted-list"><li style="list-style-type:circle"><strong>Real:</strong> <em>(preencher ao fim da sprint)</em></li></ul></li></ul><ul id="26968338-221a-80c9-a4a8-f18ac9b0ce1f" class="bulleted-list"><li style="list-style-type:disc"><strong>Resultado:</strong> <em>(preencher ao fim da sprint)</em></li></ul><hr id="22968338-221a-812d-b3be-fb2d85487e23"/><h1 id="22968338-221a-814f-aef3-e764f3b02112" class=""><strong>Seção: Score de Agências</strong></h1><hr id="22968338-221a-8150-b340-d06856c5aa6d"/><h1 id="22968338-221a-818f-832a-d7dc835bae1d" class=""><strong>Seção: App Planejamento de Pessoas</strong></h1><hr id="22968338-221a-810f-b0ac-f1850b7af528"/><h1 id="22968338-221a-815c-b149-d245f987d782" class=""><strong>Seção: Arquitetura Cross</strong></h1><hr id="22968338-221a-8170-8975-e9317f8edf0a"/><h1 id="22968338-221a-817e-b853-e1bfcfdda520" class=""><strong>Seção: Monitoramento e Métricas de Produto</strong></h1><hr id="22968338-221a-812f-b424-cd496d8f5034"/><h1 id="22968338-221a-812b-a47f-ebd2c2114e09" class=""><strong>Seção: AWSCloudBridge</strong></h1></div></article><span class="sans" style="font-size:14px;padding-top:2em"></span></body></html>